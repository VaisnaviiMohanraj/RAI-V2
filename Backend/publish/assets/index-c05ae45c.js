var WA=Object.defineProperty;var qA=(t,e,n)=>e in t?WA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var sl=(t,e,n)=>(qA(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function QA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _y={exports:{}},uc={},Py={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=Symbol.for("react.element"),YA=Symbol.for("react.portal"),JA=Symbol.for("react.fragment"),XA=Symbol.for("react.strict_mode"),ZA=Symbol.for("react.profiler"),eE=Symbol.for("react.provider"),tE=Symbol.for("react.context"),nE=Symbol.for("react.forward_ref"),rE=Symbol.for("react.suspense"),oE=Symbol.for("react.memo"),iE=Symbol.for("react.lazy"),dp=Symbol.iterator;function sE(t){return t===null||typeof t!="object"?null:(t=dp&&t[dp]||t["@@iterator"],typeof t=="function"?t:null)}var Oy={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ny=Object.assign,xy={};function Mo(t,e,n){this.props=t,this.context=e,this.refs=xy,this.updater=n||Oy}Mo.prototype.isReactComponent={};Mo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function My(){}My.prototype=Mo.prototype;function Nd(t,e,n){this.props=t,this.context=e,this.refs=xy,this.updater=n||Oy}var xd=Nd.prototype=new My;xd.constructor=Nd;Ny(xd,Mo.prototype);xd.isPureReactComponent=!0;var hp=Array.isArray,by=Object.prototype.hasOwnProperty,Md={current:null},Dy={key:!0,ref:!0,__self:!0,__source:!0};function Ly(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)by.call(e,r)&&!Dy.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];o.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:es,type:t,key:i,ref:s,props:o,_owner:Md.current}}function aE(t,e){return{$$typeof:es,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bd(t){return typeof t=="object"&&t!==null&&t.$$typeof===es}function cE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fp=/\/+/g;function al(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cE(""+t.key):e.toString(36)}function Vs(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case es:case YA:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+al(s,0):r,hp(o)?(n="",t!=null&&(n=t.replace(fp,"$&/")+"/"),Vs(o,e,n,"",function(l){return l})):o!=null&&(bd(o)&&(o=aE(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(fp,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",hp(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+al(i,a);s+=Vs(i,e,n,c,o)}else if(c=sE(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+al(i,a++),s+=Vs(i,e,n,c,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ps(t,e,n){if(t==null)return t;var r=[],o=0;return Vs(t,r,"","",function(i){return e.call(n,i,o++)}),r}function lE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xe={current:null},zs={transition:null},uE={ReactCurrentDispatcher:Xe,ReactCurrentBatchConfig:zs,ReactCurrentOwner:Md};function Uy(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:ps,forEach:function(t,e,n){ps(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ps(t,function(){e++}),e},toArray:function(t){return ps(t,function(e){return e})||[]},only:function(t){if(!bd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};G.Component=Mo;G.Fragment=JA;G.Profiler=ZA;G.PureComponent=Nd;G.StrictMode=XA;G.Suspense=rE;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uE;G.act=Uy;G.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ny({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=Md.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)by.call(e,c)&&!Dy.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:es,type:t.type,key:o,ref:i,props:r,_owner:s}};G.createContext=function(t){return t={$$typeof:tE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eE,_context:t},t.Consumer=t};G.createElement=Ly;G.createFactory=function(t){var e=Ly.bind(null,t);return e.type=t,e};G.createRef=function(){return{current:null}};G.forwardRef=function(t){return{$$typeof:nE,render:t}};G.isValidElement=bd;G.lazy=function(t){return{$$typeof:iE,_payload:{_status:-1,_result:t},_init:lE}};G.memo=function(t,e){return{$$typeof:oE,type:t,compare:e===void 0?null:e}};G.startTransition=function(t){var e=zs.transition;zs.transition={};try{t()}finally{zs.transition=e}};G.unstable_act=Uy;G.useCallback=function(t,e){return Xe.current.useCallback(t,e)};G.useContext=function(t){return Xe.current.useContext(t)};G.useDebugValue=function(){};G.useDeferredValue=function(t){return Xe.current.useDeferredValue(t)};G.useEffect=function(t,e){return Xe.current.useEffect(t,e)};G.useId=function(){return Xe.current.useId()};G.useImperativeHandle=function(t,e,n){return Xe.current.useImperativeHandle(t,e,n)};G.useInsertionEffect=function(t,e){return Xe.current.useInsertionEffect(t,e)};G.useLayoutEffect=function(t,e){return Xe.current.useLayoutEffect(t,e)};G.useMemo=function(t,e){return Xe.current.useMemo(t,e)};G.useReducer=function(t,e,n){return Xe.current.useReducer(t,e,n)};G.useRef=function(t){return Xe.current.useRef(t)};G.useState=function(t){return Xe.current.useState(t)};G.useSyncExternalStore=function(t,e,n){return Xe.current.useSyncExternalStore(t,e,n)};G.useTransition=function(){return Xe.current.useTransition()};G.version="18.3.1";Py.exports=G;var _=Py.exports;const dc=QA(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dE=_,hE=Symbol.for("react.element"),fE=Symbol.for("react.fragment"),pE=Object.prototype.hasOwnProperty,mE=dE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gE={key:!0,ref:!0,__self:!0,__source:!0};function Fy(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)pE.call(e,r)&&!gE.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:hE,type:t,key:i,ref:s,props:o,_owner:mE.current}}uc.Fragment=fE;uc.jsx=Fy;uc.jsxs=Fy;_y.exports=uc;var S=_y.exports,ru={},Hy={exports:{}},Tt={},By={exports:{}},jy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,j){var K=b.length;b.push(j);e:for(;0<K;){var V=K-1>>>1,se=b[V];if(0<o(se,j))b[V]=j,b[K]=se,K=V;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var j=b[0],K=b.pop();if(K!==j){b[0]=K;e:for(var V=0,se=b.length,ur=se>>>1;V<ur;){var Qt=2*(V+1)-1,$r=b[Qt],dt=Qt+1,dr=b[dt];if(0>o($r,K))dt<se&&0>o(dr,$r)?(b[V]=dr,b[dt]=K,V=dt):(b[V]=$r,b[Qt]=K,V=Qt);else if(dt<se&&0>o(dr,K))b[V]=dr,b[dt]=K,V=dt;else break e}}return j}function o(b,j){var K=b.sortIndex-j.sortIndex;return K!==0?K:b.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var c=[],l=[],u=1,d=null,h=3,p=!1,v=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(b){for(var j=n(l);j!==null;){if(j.callback===null)r(l);else if(j.startTime<=b)r(l),j.sortIndex=j.expirationTime,e(c,j);else break;j=n(l)}}function w(b){if(y=!1,m(b),!v)if(n(c)!==null)v=!0,me(A);else{var j=n(l);j!==null&&At(w,j.startTime-b)}}function A(b,j){v=!1,y&&(y=!1,g(P),P=-1),p=!0;var K=h;try{for(m(j),d=n(c);d!==null&&(!(d.expirationTime>j)||b&&!ee());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var se=V(d.expirationTime<=j);j=t.unstable_now(),typeof se=="function"?d.callback=se:d===n(c)&&r(c),m(j)}else r(c);d=n(c)}if(d!==null)var ur=!0;else{var Qt=n(l);Qt!==null&&At(w,Qt.startTime-j),ur=!1}return ur}finally{d=null,h=K,p=!1}}var R=!1,O=null,P=-1,U=5,F=-1;function ee(){return!(t.unstable_now()-F<U)}function Ae(){if(O!==null){var b=t.unstable_now();F=b;var j=!0;try{j=O(!0,b)}finally{j?ie():(R=!1,O=null)}}else R=!1}var ie;if(typeof f=="function")ie=function(){f(Ae)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,_n=_e.port2;_e.port1.onmessage=Ae,ie=function(){_n.postMessage(null)}}else ie=function(){T(Ae,0)};function me(b){O=b,R||(R=!0,ie())}function At(b,j){P=T(function(){b(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,me(A))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(b){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var K=h;h=j;try{return b()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,j){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var K=h;h=b;try{return j()}finally{h=K}},t.unstable_scheduleCallback=function(b,j,K){var V=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?V+K:V):K=V,b){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=K+se,b={id:u++,callback:j,priorityLevel:b,startTime:K,expirationTime:se,sortIndex:-1},K>V?(b.sortIndex=K,e(l,b),n(c)===null&&b===n(l)&&(y?(g(P),P=-1):y=!0,At(w,K-V))):(b.sortIndex=se,e(c,b),v||p||(v=!0,me(A))),b},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(b){var j=h;return function(){var K=h;h=j;try{return b.apply(this,arguments)}finally{h=K}}}})(jy);By.exports=jy;var yE=By.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vE=_,Ct=yE;function x(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vy=new Set,Ri={};function Br(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(Ri[t]=e,t=0;t<e.length;t++)Vy.add(e[t])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ou=Object.prototype.hasOwnProperty,CE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pp={},mp={};function wE(t){return ou.call(mp,t)?!0:ou.call(pp,t)?!1:CE.test(t)?mp[t]=!0:(pp[t]=!0,!1)}function TE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SE(t,e,n,r){if(e===null||typeof e>"u"||TE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ze(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Fe[t]=new Ze(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Fe[e]=new Ze(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Fe[t]=new Ze(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Fe[t]=new Ze(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Fe[t]=new Ze(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Fe[t]=new Ze(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Fe[t]=new Ze(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Fe[t]=new Ze(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Fe[t]=new Ze(t,5,!1,t.toLowerCase(),null,!1,!1)});var Dd=/[\-:]([a-z])/g;function Ld(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Dd,Ld);Fe[e]=new Ze(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Dd,Ld);Fe[e]=new Ze(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Dd,Ld);Fe[e]=new Ze(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Fe[t]=new Ze(t,1,!1,t.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new Ze("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Fe[t]=new Ze(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ud(t,e,n,r){var o=Fe.hasOwnProperty(e)?Fe[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SE(e,n,o,r)&&(n=null),r||o===null?wE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Rn=vE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ms=Symbol.for("react.element"),Yr=Symbol.for("react.portal"),Jr=Symbol.for("react.fragment"),Fd=Symbol.for("react.strict_mode"),iu=Symbol.for("react.profiler"),zy=Symbol.for("react.provider"),Ky=Symbol.for("react.context"),Hd=Symbol.for("react.forward_ref"),su=Symbol.for("react.suspense"),au=Symbol.for("react.suspense_list"),Bd=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),$y=Symbol.for("react.offscreen"),gp=Symbol.iterator;function zo(t){return t===null||typeof t!="object"?null:(t=gp&&t[gp]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,cl;function ti(t){if(cl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cl=e&&e[1]||""}return`
`+cl+t}var ll=!1;function ul(t,e){if(!t||ll)return"";ll=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var o=l.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var c=`
`+o[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=a);break}}}finally{ll=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ti(t):""}function AE(t){switch(t.tag){case 5:return ti(t.type);case 16:return ti("Lazy");case 13:return ti("Suspense");case 19:return ti("SuspenseList");case 0:case 2:case 15:return t=ul(t.type,!1),t;case 11:return t=ul(t.type.render,!1),t;case 1:return t=ul(t.type,!0),t;default:return""}}function cu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jr:return"Fragment";case Yr:return"Portal";case iu:return"Profiler";case Fd:return"StrictMode";case su:return"Suspense";case au:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ky:return(t.displayName||"Context")+".Consumer";case zy:return(t._context.displayName||"Context")+".Provider";case Hd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bd:return e=t.displayName||null,e!==null?e:cu(t.type)||"Memo";case xn:e=t._payload,t=t._init;try{return cu(t(e))}catch{}}return null}function EE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cu(e);case 8:return e===Fd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kE(t){var e=Gy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gs(t){t._valueTracker||(t._valueTracker=kE(t))}function Wy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ca(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lu(t,e){var n=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yp(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=tr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qy(t,e){e=e.checked,e!=null&&Ud(t,"checked",e,!1)}function uu(t,e){qy(t,e);var n=tr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?du(t,e.type,n):e.hasOwnProperty("defaultValue")&&du(t,e.type,tr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function du(t,e,n){(e!=="number"||ca(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ni=Array.isArray;function fo(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+tr(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function hu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(x(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(x(92));if(ni(n)){if(1<n.length)throw Error(x(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:tr(n)}}function Qy(t,e){var n=tr(e.value),r=tr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ys,Jy=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ys.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _i(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},IE=["Webkit","ms","Moz","O"];Object.keys(ci).forEach(function(t){IE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ci[e]=ci[t]})});function Xy(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ci.hasOwnProperty(t)&&ci[t]?(""+e).trim():e+"px"}function Zy(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Xy(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var RE=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pu(t,e){if(e){if(RE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(x(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(x(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(x(61))}if(e.style!=null&&typeof e.style!="object")throw Error(x(62))}}function mu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=null;function jd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yu=null,po=null,mo=null;function Tp(t){if(t=rs(t)){if(typeof yu!="function")throw Error(x(280));var e=t.stateNode;e&&(e=gc(e),yu(t.stateNode,t.type,e))}}function ev(t){po?mo?mo.push(t):mo=[t]:po=t}function tv(){if(po){var t=po,e=mo;if(mo=po=null,Tp(t),e)for(t=0;t<e.length;t++)Tp(e[t])}}function nv(t,e){return t(e)}function rv(){}var dl=!1;function ov(t,e,n){if(dl)return t(e,n);dl=!0;try{return nv(t,e,n)}finally{dl=!1,(po!==null||mo!==null)&&(rv(),tv())}}function Pi(t,e){var n=t.stateNode;if(n===null)return null;var r=gc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(x(231,e,typeof n));return n}var vu=!1;if(wn)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){vu=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{vu=!1}function _E(t,e,n,r,o,i,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var li=!1,la=null,ua=!1,Cu=null,PE={onError:function(t){li=!0,la=t}};function OE(t,e,n,r,o,i,s,a,c){li=!1,la=null,_E.apply(PE,arguments)}function NE(t,e,n,r,o,i,s,a,c){if(OE.apply(this,arguments),li){if(li){var l=la;li=!1,la=null}else throw Error(x(198));ua||(ua=!0,Cu=l)}}function jr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sp(t){if(jr(t)!==t)throw Error(x(188))}function xE(t){var e=t.alternate;if(!e){if(e=jr(t),e===null)throw Error(x(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Sp(o),t;if(i===r)return Sp(o),e;i=i.sibling}throw Error(x(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(x(189))}}if(n.alternate!==r)throw Error(x(190))}if(n.tag!==3)throw Error(x(188));return n.stateNode.current===n?t:e}function sv(t){return t=xE(t),t!==null?av(t):null}function av(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=av(t);if(e!==null)return e;t=t.sibling}return null}var cv=Ct.unstable_scheduleCallback,Ap=Ct.unstable_cancelCallback,ME=Ct.unstable_shouldYield,bE=Ct.unstable_requestPaint,ge=Ct.unstable_now,DE=Ct.unstable_getCurrentPriorityLevel,Vd=Ct.unstable_ImmediatePriority,lv=Ct.unstable_UserBlockingPriority,da=Ct.unstable_NormalPriority,LE=Ct.unstable_LowPriority,uv=Ct.unstable_IdlePriority,hc=null,sn=null;function UE(t){if(sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(hc,t,void 0,(t.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:BE,FE=Math.log,HE=Math.LN2;function BE(t){return t>>>=0,t===0?32:31-(FE(t)/HE|0)|0}var vs=64,Cs=4194304;function ri(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ha(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=ri(a):(i&=s,i!==0&&(r=ri(i)))}else s=n&~o,s!==0?r=ri(s):i!==0&&(r=ri(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Bt(e),o=1<<n,r|=t[n],e&=~o;return r}function jE(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VE(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Bt(i),a=1<<s,c=o[s];c===-1?(!(a&n)||a&r)&&(o[s]=jE(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function wu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dv(){var t=vs;return vs<<=1,!(vs&4194240)&&(vs=64),t}function hl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ts(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Bt(e),t[e]=n}function zE(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Bt(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function zd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Bt(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var Y=0;function hv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fv,Kd,pv,mv,gv,Tu=!1,ws=[],jn=null,Vn=null,zn=null,Oi=new Map,Ni=new Map,Dn=[],KE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ep(t,e){switch(t){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":Oi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ni.delete(e.pointerId)}}function $o(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=rs(e),e!==null&&Kd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function $E(t,e,n,r,o){switch(e){case"focusin":return jn=$o(jn,t,e,n,r,o),!0;case"dragenter":return Vn=$o(Vn,t,e,n,r,o),!0;case"mouseover":return zn=$o(zn,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Oi.set(i,$o(Oi.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Ni.set(i,$o(Ni.get(i)||null,t,e,n,r,o)),!0}return!1}function yv(t){var e=Tr(t.target);if(e!==null){var n=jr(e);if(n!==null){if(e=n.tag,e===13){if(e=iv(n),e!==null){t.blockedOn=e,gv(t.priority,function(){pv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ks(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Su(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);gu=r,n.target.dispatchEvent(r),gu=null}else return e=rs(n),e!==null&&Kd(e),t.blockedOn=n,!1;e.shift()}return!0}function kp(t,e,n){Ks(t)&&n.delete(e)}function GE(){Tu=!1,jn!==null&&Ks(jn)&&(jn=null),Vn!==null&&Ks(Vn)&&(Vn=null),zn!==null&&Ks(zn)&&(zn=null),Oi.forEach(kp),Ni.forEach(kp)}function Go(t,e){t.blockedOn===e&&(t.blockedOn=null,Tu||(Tu=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,GE)))}function xi(t){function e(o){return Go(o,t)}if(0<ws.length){Go(ws[0],t);for(var n=1;n<ws.length;n++){var r=ws[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jn!==null&&Go(jn,t),Vn!==null&&Go(Vn,t),zn!==null&&Go(zn,t),Oi.forEach(e),Ni.forEach(e),n=0;n<Dn.length;n++)r=Dn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Dn.length&&(n=Dn[0],n.blockedOn===null);)yv(n),n.blockedOn===null&&Dn.shift()}var go=Rn.ReactCurrentBatchConfig,fa=!0;function WE(t,e,n,r){var o=Y,i=go.transition;go.transition=null;try{Y=1,$d(t,e,n,r)}finally{Y=o,go.transition=i}}function qE(t,e,n,r){var o=Y,i=go.transition;go.transition=null;try{Y=4,$d(t,e,n,r)}finally{Y=o,go.transition=i}}function $d(t,e,n,r){if(fa){var o=Su(t,e,n,r);if(o===null)Sl(t,e,r,pa,n),Ep(t,r);else if($E(o,t,e,n,r))r.stopPropagation();else if(Ep(t,r),e&4&&-1<KE.indexOf(t)){for(;o!==null;){var i=rs(o);if(i!==null&&fv(i),i=Su(t,e,n,r),i===null&&Sl(t,e,r,pa,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Sl(t,e,r,null,n)}}var pa=null;function Su(t,e,n,r){if(pa=null,t=jd(r),t=Tr(t),t!==null)if(e=jr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pa=t,null}function vv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DE()){case Vd:return 1;case lv:return 4;case da:case LE:return 16;case uv:return 536870912;default:return 16}default:return 16}}var Fn=null,Gd=null,$s=null;function Cv(){if($s)return $s;var t,e=Gd,n=e.length,r,o="value"in Fn?Fn.value:Fn.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return $s=o.slice(t,1<r?1-r:void 0)}function Gs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ts(){return!0}function Ip(){return!1}function St(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ts:Ip,this.isPropagationStopped=Ip,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),e}var bo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wd=St(bo),ns=he({},bo,{view:0,detail:0}),QE=St(ns),fl,pl,Wo,fc=he({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wo&&(Wo&&t.type==="mousemove"?(fl=t.screenX-Wo.screenX,pl=t.screenY-Wo.screenY):pl=fl=0,Wo=t),fl)},movementY:function(t){return"movementY"in t?t.movementY:pl}}),Rp=St(fc),YE=he({},fc,{dataTransfer:0}),JE=St(YE),XE=he({},ns,{relatedTarget:0}),ml=St(XE),ZE=he({},bo,{animationName:0,elapsedTime:0,pseudoElement:0}),ek=St(ZE),tk=he({},bo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nk=St(tk),rk=he({},bo,{data:0}),_p=St(rk),ok={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ik={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ak(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=sk[t])?!!e[t]:!1}function qd(){return ak}var ck=he({},ns,{key:function(t){if(t.key){var e=ok[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ik[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qd,charCode:function(t){return t.type==="keypress"?Gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lk=St(ck),uk=he({},fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pp=St(uk),dk=he({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qd}),hk=St(dk),fk=he({},bo,{propertyName:0,elapsedTime:0,pseudoElement:0}),pk=St(fk),mk=he({},fc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gk=St(mk),yk=[9,13,27,32],Qd=wn&&"CompositionEvent"in window,ui=null;wn&&"documentMode"in document&&(ui=document.documentMode);var vk=wn&&"TextEvent"in window&&!ui,wv=wn&&(!Qd||ui&&8<ui&&11>=ui),Op=String.fromCharCode(32),Np=!1;function Tv(t,e){switch(t){case"keyup":return yk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xr=!1;function Ck(t,e){switch(t){case"compositionend":return Sv(e);case"keypress":return e.which!==32?null:(Np=!0,Op);case"textInput":return t=e.data,t===Op&&Np?null:t;default:return null}}function wk(t,e){if(Xr)return t==="compositionend"||!Qd&&Tv(t,e)?(t=Cv(),$s=Gd=Fn=null,Xr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wv&&e.locale!=="ko"?null:e.data;default:return null}}var Tk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Tk[t.type]:e==="textarea"}function Av(t,e,n,r){ev(r),e=ma(e,"onChange"),0<e.length&&(n=new Wd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var di=null,Mi=null;function Sk(t){bv(t,0)}function pc(t){var e=to(t);if(Wy(e))return t}function Ak(t,e){if(t==="change")return e}var Ev=!1;if(wn){var gl;if(wn){var yl="oninput"in document;if(!yl){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),yl=typeof Mp.oninput=="function"}gl=yl}else gl=!1;Ev=gl&&(!document.documentMode||9<document.documentMode)}function bp(){di&&(di.detachEvent("onpropertychange",kv),Mi=di=null)}function kv(t){if(t.propertyName==="value"&&pc(Mi)){var e=[];Av(e,Mi,t,jd(t)),ov(Sk,e)}}function Ek(t,e,n){t==="focusin"?(bp(),di=e,Mi=n,di.attachEvent("onpropertychange",kv)):t==="focusout"&&bp()}function kk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pc(Mi)}function Ik(t,e){if(t==="click")return pc(e)}function Rk(t,e){if(t==="input"||t==="change")return pc(e)}function _k(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kt=typeof Object.is=="function"?Object.is:_k;function bi(t,e){if(Kt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ou.call(e,o)||!Kt(t[o],e[o]))return!1}return!0}function Dp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lp(t,e){var n=Dp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dp(n)}}function Iv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Iv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Rv(){for(var t=window,e=ca();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ca(t.document)}return e}function Yd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Pk(t){var e=Rv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Iv(n.ownerDocument.documentElement,n)){if(r!==null&&Yd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Lp(n,i);var s=Lp(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ok=wn&&"documentMode"in document&&11>=document.documentMode,Zr=null,Au=null,hi=null,Eu=!1;function Up(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Eu||Zr==null||Zr!==ca(r)||(r=Zr,"selectionStart"in r&&Yd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),hi&&bi(hi,r)||(hi=r,r=ma(Au,"onSelect"),0<r.length&&(e=new Wd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Zr)))}function Ss(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var eo={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionend:Ss("Transition","TransitionEnd")},vl={},_v={};wn&&(_v=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function mc(t){if(vl[t])return vl[t];if(!eo[t])return t;var e=eo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _v)return vl[t]=e[n];return t}var Pv=mc("animationend"),Ov=mc("animationiteration"),Nv=mc("animationstart"),xv=mc("transitionend"),Mv=new Map,Fp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sr(t,e){Mv.set(t,e),Br(e,[t])}for(var Cl=0;Cl<Fp.length;Cl++){var wl=Fp[Cl],Nk=wl.toLowerCase(),xk=wl[0].toUpperCase()+wl.slice(1);sr(Nk,"on"+xk)}sr(Pv,"onAnimationEnd");sr(Ov,"onAnimationIteration");sr(Nv,"onAnimationStart");sr("dblclick","onDoubleClick");sr("focusin","onFocus");sr("focusout","onBlur");sr(xv,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Br("onBeforeInput",["compositionend","keypress","textInput","paste"]);Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mk=new Set("cancel close invalid load scroll toggle".split(" ").concat(oi));function Hp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,NE(r,e,void 0,t),t.currentTarget=null}function bv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;Hp(o,a,l),i=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,l=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;Hp(o,a,l),i=c}}}if(ua)throw t=Cu,ua=!1,Cu=null,t}function re(t,e){var n=e[Pu];n===void 0&&(n=e[Pu]=new Set);var r=t+"__bubble";n.has(r)||(Dv(e,t,2,!1),n.add(r))}function Tl(t,e,n){var r=0;e&&(r|=4),Dv(n,t,r,e)}var As="_reactListening"+Math.random().toString(36).slice(2);function Di(t){if(!t[As]){t[As]=!0,Vy.forEach(function(n){n!=="selectionchange"&&(Mk.has(n)||Tl(n,!1,t),Tl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[As]||(e[As]=!0,Tl("selectionchange",!1,e))}}function Dv(t,e,n,r){switch(vv(e)){case 1:var o=WE;break;case 4:o=qE;break;default:o=$d}n=o.bind(null,e,n,t),o=void 0,!vu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Sl(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;a!==null;){if(s=Tr(a),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}a=a.parentNode}}r=r.return}ov(function(){var l=i,u=jd(n),d=[];e:{var h=Mv.get(t);if(h!==void 0){var p=Wd,v=t;switch(t){case"keypress":if(Gs(n)===0)break e;case"keydown":case"keyup":p=lk;break;case"focusin":v="focus",p=ml;break;case"focusout":v="blur",p=ml;break;case"beforeblur":case"afterblur":p=ml;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hk;break;case Pv:case Ov:case Nv:p=ek;break;case xv:p=pk;break;case"scroll":p=QE;break;case"wheel":p=gk;break;case"copy":case"cut":case"paste":p=nk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Pp}var y=(e&4)!==0,T=!y&&t==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var f=l,m;f!==null;){m=f;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=Pi(f,g),w!=null&&y.push(Li(f,w,m)))),T)break;f=f.return}0<y.length&&(h=new p(h,v,null,n,u),d.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==gu&&(v=n.relatedTarget||n.fromElement)&&(Tr(v)||v[Tn]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=l,v=v?Tr(v):null,v!==null&&(T=jr(v),v!==T||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=l),p!==v)){if(y=Rp,w="onMouseLeave",g="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(y=Pp,w="onPointerLeave",g="onPointerEnter",f="pointer"),T=p==null?h:to(p),m=v==null?h:to(v),h=new y(w,f+"leave",p,n,u),h.target=T,h.relatedTarget=m,w=null,Tr(u)===l&&(y=new y(g,f+"enter",v,n,u),y.target=m,y.relatedTarget=T,w=y),T=w,p&&v)t:{for(y=p,g=v,f=0,m=y;m;m=Gr(m))f++;for(m=0,w=g;w;w=Gr(w))m++;for(;0<f-m;)y=Gr(y),f--;for(;0<m-f;)g=Gr(g),m--;for(;f--;){if(y===g||g!==null&&y===g.alternate)break t;y=Gr(y),g=Gr(g)}y=null}else y=null;p!==null&&Bp(d,h,p,y,!1),v!==null&&T!==null&&Bp(d,T,v,y,!0)}}e:{if(h=l?to(l):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var A=Ak;else if(xp(h))if(Ev)A=Rk;else{A=kk;var R=Ek}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=Ik);if(A&&(A=A(t,l))){Av(d,A,n,u);break e}R&&R(t,h,l),t==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&du(h,"number",h.value)}switch(R=l?to(l):window,t){case"focusin":(xp(R)||R.contentEditable==="true")&&(Zr=R,Au=l,hi=null);break;case"focusout":hi=Au=Zr=null;break;case"mousedown":Eu=!0;break;case"contextmenu":case"mouseup":case"dragend":Eu=!1,Up(d,n,u);break;case"selectionchange":if(Ok)break;case"keydown":case"keyup":Up(d,n,u)}var O;if(Qd)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Xr?Tv(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(wv&&n.locale!=="ko"&&(Xr||P!=="onCompositionStart"?P==="onCompositionEnd"&&Xr&&(O=Cv()):(Fn=u,Gd="value"in Fn?Fn.value:Fn.textContent,Xr=!0)),R=ma(l,P),0<R.length&&(P=new _p(P,t,null,n,u),d.push({event:P,listeners:R}),O?P.data=O:(O=Sv(n),O!==null&&(P.data=O)))),(O=vk?Ck(t,n):wk(t,n))&&(l=ma(l,"onBeforeInput"),0<l.length&&(u=new _p("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=O))}bv(d,e)})}function Li(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ma(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Pi(t,n),i!=null&&r.unshift(Li(t,i,o)),i=Pi(t,e),i!=null&&r.push(Li(t,i,o))),t=t.return}return r}function Gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bp(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,o?(c=Pi(n,i),c!=null&&s.unshift(Li(n,c,a))):o||(c=Pi(n,i),c!=null&&s.push(Li(n,c,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var bk=/\r\n?/g,Dk=/\u0000|\uFFFD/g;function jp(t){return(typeof t=="string"?t:""+t).replace(bk,`
`).replace(Dk,"")}function Es(t,e,n){if(e=jp(e),jp(t)!==e&&n)throw Error(x(425))}function ga(){}var ku=null,Iu=null;function Ru(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _u=typeof setTimeout=="function"?setTimeout:void 0,Lk=typeof clearTimeout=="function"?clearTimeout:void 0,Vp=typeof Promise=="function"?Promise:void 0,Uk=typeof queueMicrotask=="function"?queueMicrotask:typeof Vp<"u"?function(t){return Vp.resolve(null).then(t).catch(Fk)}:_u;function Fk(t){setTimeout(function(){throw t})}function Al(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),xi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);xi(e)}function Kn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Do=Math.random().toString(36).slice(2),nn="__reactFiber$"+Do,Ui="__reactProps$"+Do,Tn="__reactContainer$"+Do,Pu="__reactEvents$"+Do,Hk="__reactListeners$"+Do,Bk="__reactHandles$"+Do;function Tr(t){var e=t[nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tn]||n[nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zp(t);t!==null;){if(n=t[nn])return n;t=zp(t)}return e}t=n,n=t.parentNode}return null}function rs(t){return t=t[nn]||t[Tn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function to(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(x(33))}function gc(t){return t[Ui]||null}var Ou=[],no=-1;function ar(t){return{current:t}}function oe(t){0>no||(t.current=Ou[no],Ou[no]=null,no--)}function te(t,e){no++,Ou[no]=t.current,t.current=e}var nr={},$e=ar(nr),ot=ar(!1),Or=nr;function Ao(t,e){var n=t.type.contextTypes;if(!n)return nr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function it(t){return t=t.childContextTypes,t!=null}function ya(){oe(ot),oe($e)}function Kp(t,e,n){if($e.current!==nr)throw Error(x(168));te($e,e),te(ot,n)}function Lv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(x(108,EE(t)||"Unknown",o));return he({},n,r)}function va(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||nr,Or=$e.current,te($e,t),te(ot,ot.current),!0}function $p(t,e,n){var r=t.stateNode;if(!r)throw Error(x(169));n?(t=Lv(t,e,Or),r.__reactInternalMemoizedMergedChildContext=t,oe(ot),oe($e),te($e,t)):oe(ot),te(ot,n)}var hn=null,yc=!1,El=!1;function Uv(t){hn===null?hn=[t]:hn.push(t)}function jk(t){yc=!0,Uv(t)}function cr(){if(!El&&hn!==null){El=!0;var t=0,e=Y;try{var n=hn;for(Y=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hn=null,yc=!1}catch(o){throw hn!==null&&(hn=hn.slice(t+1)),cv(Vd,cr),o}finally{Y=e,El=!1}}return null}var ro=[],oo=0,Ca=null,wa=0,It=[],Rt=0,Nr=null,fn=1,pn="";function mr(t,e){ro[oo++]=wa,ro[oo++]=Ca,Ca=t,wa=e}function Fv(t,e,n){It[Rt++]=fn,It[Rt++]=pn,It[Rt++]=Nr,Nr=t;var r=fn;t=pn;var o=32-Bt(r)-1;r&=~(1<<o),n+=1;var i=32-Bt(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,fn=1<<32-Bt(e)+o|n<<o|r,pn=i+t}else fn=1<<i|n<<o|r,pn=t}function Jd(t){t.return!==null&&(mr(t,1),Fv(t,1,0))}function Xd(t){for(;t===Ca;)Ca=ro[--oo],ro[oo]=null,wa=ro[--oo],ro[oo]=null;for(;t===Nr;)Nr=It[--Rt],It[Rt]=null,pn=It[--Rt],It[Rt]=null,fn=It[--Rt],It[Rt]=null}var gt=null,mt=null,ce=!1,Ft=null;function Hv(t,e){var n=Pt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gt=t,mt=Kn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gt=t,mt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Nr!==null?{id:fn,overflow:pn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,gt=t,mt=null,!0):!1;default:return!1}}function Nu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xu(t){if(ce){var e=mt;if(e){var n=e;if(!Gp(t,e)){if(Nu(t))throw Error(x(418));e=Kn(n.nextSibling);var r=gt;e&&Gp(t,e)?Hv(r,n):(t.flags=t.flags&-4097|2,ce=!1,gt=t)}}else{if(Nu(t))throw Error(x(418));t.flags=t.flags&-4097|2,ce=!1,gt=t}}}function Wp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gt=t}function ks(t){if(t!==gt)return!1;if(!ce)return Wp(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ru(t.type,t.memoizedProps)),e&&(e=mt)){if(Nu(t))throw Bv(),Error(x(418));for(;e;)Hv(t,e),e=Kn(e.nextSibling)}if(Wp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(x(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mt=Kn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mt=null}}else mt=gt?Kn(t.stateNode.nextSibling):null;return!0}function Bv(){for(var t=mt;t;)t=Kn(t.nextSibling)}function Eo(){mt=gt=null,ce=!1}function Zd(t){Ft===null?Ft=[t]:Ft.push(t)}var Vk=Rn.ReactCurrentBatchConfig;function qo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(x(309));var r=n.stateNode}if(!r)throw Error(x(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(x(284));if(!n._owner)throw Error(x(290,t))}return t}function Is(t,e){throw t=Object.prototype.toString.call(e),Error(x(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qp(t){var e=t._init;return e(t._payload)}function jv(t){function e(g,f){if(t){var m=g.deletions;m===null?(g.deletions=[f],g.flags|=16):m.push(f)}}function n(g,f){if(!t)return null;for(;f!==null;)e(g,f),f=f.sibling;return null}function r(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function o(g,f){return g=qn(g,f),g.index=0,g.sibling=null,g}function i(g,f,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<f?(g.flags|=2,f):m):(g.flags|=2,f)):(g.flags|=1048576,f)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,f,m,w){return f===null||f.tag!==6?(f=Nl(m,g.mode,w),f.return=g,f):(f=o(f,m),f.return=g,f)}function c(g,f,m,w){var A=m.type;return A===Jr?u(g,f,m.props.children,w,m.key):f!==null&&(f.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===xn&&qp(A)===f.type)?(w=o(f,m.props),w.ref=qo(g,f,m),w.return=g,w):(w=Zs(m.type,m.key,m.props,null,g.mode,w),w.ref=qo(g,f,m),w.return=g,w)}function l(g,f,m,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=xl(m,g.mode,w),f.return=g,f):(f=o(f,m.children||[]),f.return=g,f)}function u(g,f,m,w,A){return f===null||f.tag!==7?(f=Pr(m,g.mode,w,A),f.return=g,f):(f=o(f,m),f.return=g,f)}function d(g,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Nl(""+f,g.mode,m),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ms:return m=Zs(f.type,f.key,f.props,null,g.mode,m),m.ref=qo(g,null,f),m.return=g,m;case Yr:return f=xl(f,g.mode,m),f.return=g,f;case xn:var w=f._init;return d(g,w(f._payload),m)}if(ni(f)||zo(f))return f=Pr(f,g.mode,m,null),f.return=g,f;Is(g,f)}return null}function h(g,f,m,w){var A=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return A!==null?null:a(g,f,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ms:return m.key===A?c(g,f,m,w):null;case Yr:return m.key===A?l(g,f,m,w):null;case xn:return A=m._init,h(g,f,A(m._payload),w)}if(ni(m)||zo(m))return A!==null?null:u(g,f,m,w,null);Is(g,m)}return null}function p(g,f,m,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,a(f,g,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ms:return g=g.get(w.key===null?m:w.key)||null,c(f,g,w,A);case Yr:return g=g.get(w.key===null?m:w.key)||null,l(f,g,w,A);case xn:var R=w._init;return p(g,f,m,R(w._payload),A)}if(ni(w)||zo(w))return g=g.get(m)||null,u(f,g,w,A,null);Is(f,w)}return null}function v(g,f,m,w){for(var A=null,R=null,O=f,P=f=0,U=null;O!==null&&P<m.length;P++){O.index>P?(U=O,O=null):U=O.sibling;var F=h(g,O,m[P],w);if(F===null){O===null&&(O=U);break}t&&O&&F.alternate===null&&e(g,O),f=i(F,f,P),R===null?A=F:R.sibling=F,R=F,O=U}if(P===m.length)return n(g,O),ce&&mr(g,P),A;if(O===null){for(;P<m.length;P++)O=d(g,m[P],w),O!==null&&(f=i(O,f,P),R===null?A=O:R.sibling=O,R=O);return ce&&mr(g,P),A}for(O=r(g,O);P<m.length;P++)U=p(O,g,P,m[P],w),U!==null&&(t&&U.alternate!==null&&O.delete(U.key===null?P:U.key),f=i(U,f,P),R===null?A=U:R.sibling=U,R=U);return t&&O.forEach(function(ee){return e(g,ee)}),ce&&mr(g,P),A}function y(g,f,m,w){var A=zo(m);if(typeof A!="function")throw Error(x(150));if(m=A.call(m),m==null)throw Error(x(151));for(var R=A=null,O=f,P=f=0,U=null,F=m.next();O!==null&&!F.done;P++,F=m.next()){O.index>P?(U=O,O=null):U=O.sibling;var ee=h(g,O,F.value,w);if(ee===null){O===null&&(O=U);break}t&&O&&ee.alternate===null&&e(g,O),f=i(ee,f,P),R===null?A=ee:R.sibling=ee,R=ee,O=U}if(F.done)return n(g,O),ce&&mr(g,P),A;if(O===null){for(;!F.done;P++,F=m.next())F=d(g,F.value,w),F!==null&&(f=i(F,f,P),R===null?A=F:R.sibling=F,R=F);return ce&&mr(g,P),A}for(O=r(g,O);!F.done;P++,F=m.next())F=p(O,g,P,F.value,w),F!==null&&(t&&F.alternate!==null&&O.delete(F.key===null?P:F.key),f=i(F,f,P),R===null?A=F:R.sibling=F,R=F);return t&&O.forEach(function(Ae){return e(g,Ae)}),ce&&mr(g,P),A}function T(g,f,m,w){if(typeof m=="object"&&m!==null&&m.type===Jr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ms:e:{for(var A=m.key,R=f;R!==null;){if(R.key===A){if(A=m.type,A===Jr){if(R.tag===7){n(g,R.sibling),f=o(R,m.props.children),f.return=g,g=f;break e}}else if(R.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===xn&&qp(A)===R.type){n(g,R.sibling),f=o(R,m.props),f.ref=qo(g,R,m),f.return=g,g=f;break e}n(g,R);break}else e(g,R);R=R.sibling}m.type===Jr?(f=Pr(m.props.children,g.mode,w,m.key),f.return=g,g=f):(w=Zs(m.type,m.key,m.props,null,g.mode,w),w.ref=qo(g,f,m),w.return=g,g=w)}return s(g);case Yr:e:{for(R=m.key;f!==null;){if(f.key===R)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){n(g,f.sibling),f=o(f,m.children||[]),f.return=g,g=f;break e}else{n(g,f);break}else e(g,f);f=f.sibling}f=xl(m,g.mode,w),f.return=g,g=f}return s(g);case xn:return R=m._init,T(g,f,R(m._payload),w)}if(ni(m))return v(g,f,m,w);if(zo(m))return y(g,f,m,w);Is(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(n(g,f.sibling),f=o(f,m),f.return=g,g=f):(n(g,f),f=Nl(m,g.mode,w),f.return=g,g=f),s(g)):n(g,f)}return T}var ko=jv(!0),Vv=jv(!1),Ta=ar(null),Sa=null,io=null,eh=null;function th(){eh=io=Sa=null}function nh(t){var e=Ta.current;oe(Ta),t._currentValue=e}function Mu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function yo(t,e){Sa=t,eh=io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rt=!0),t.firstContext=null)}function Nt(t){var e=t._currentValue;if(eh!==t)if(t={context:t,memoizedValue:e,next:null},io===null){if(Sa===null)throw Error(x(308));io=t,Sa.dependencies={lanes:0,firstContext:t}}else io=io.next=t;return e}var Sr=null;function rh(t){Sr===null?Sr=[t]:Sr.push(t)}function zv(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,rh(e)):(n.next=o.next,o.next=n),e.interleaved=n,Sn(t,r)}function Sn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mn=!1;function oh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function yn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $n(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,Sn(t,n)}return o=r.interleaved,o===null?(e.next=e,rh(r)):(e.next=o.next,o.next=e),r.interleaved=e,Sn(t,n)}function Ws(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zd(t,n)}}function Qp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Aa(t,e,n,r){var o=t.updateQueue;Mn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,l=c.next;c.next=null,s===null?i=l:s.next=l,s=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(i!==null){var d=o.baseState;s=0,u=l=c=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(h=e,p=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,h=typeof v=="function"?v.call(p,d,h):v,h==null)break e;d=he({},d,h);break e;case 2:Mn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(u===null&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Mr|=s,t.lanes=s,t.memoizedState=d}}function Yp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(x(191,o));o.call(r)}}}var os={},an=ar(os),Fi=ar(os),Hi=ar(os);function Ar(t){if(t===os)throw Error(x(174));return t}function ih(t,e){switch(te(Hi,e),te(Fi,t),te(an,os),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fu(e,t)}oe(an),te(an,e)}function Io(){oe(an),oe(Fi),oe(Hi)}function $v(t){Ar(Hi.current);var e=Ar(an.current),n=fu(e,t.type);e!==n&&(te(Fi,t),te(an,n))}function sh(t){Fi.current===t&&(oe(an),oe(Fi))}var le=ar(0);function Ea(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var kl=[];function ah(){for(var t=0;t<kl.length;t++)kl[t]._workInProgressVersionPrimary=null;kl.length=0}var qs=Rn.ReactCurrentDispatcher,Il=Rn.ReactCurrentBatchConfig,xr=0,de=null,Ee=null,Ne=null,ka=!1,fi=!1,Bi=0,zk=0;function He(){throw Error(x(321))}function ch(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kt(t[n],e[n]))return!1;return!0}function lh(t,e,n,r,o,i){if(xr=i,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qs.current=t===null||t.memoizedState===null?Wk:qk,t=n(r,o),fi){i=0;do{if(fi=!1,Bi=0,25<=i)throw Error(x(301));i+=1,Ne=Ee=null,e.updateQueue=null,qs.current=Qk,t=n(r,o)}while(fi)}if(qs.current=Ia,e=Ee!==null&&Ee.next!==null,xr=0,Ne=Ee=de=null,ka=!1,e)throw Error(x(300));return t}function uh(){var t=Bi!==0;return Bi=0,t}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?de.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function xt(){if(Ee===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Ne===null?de.memoizedState:Ne.next;if(e!==null)Ne=e,Ee=t;else{if(t===null)throw Error(x(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Ne===null?de.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function ji(t,e){return typeof e=="function"?e(t):e}function Rl(t){var e=xt(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=Ee,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,c=null,l=i;do{var u=l.lane;if((xr&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,s=r):c=c.next=d,de.lanes|=u,Mr|=u}l=l.next}while(l!==null&&l!==i);c===null?s=r:c.next=a,Kt(r,e.memoizedState)||(rt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,de.lanes|=i,Mr|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _l(t){var e=xt(),n=e.queue;if(n===null)throw Error(x(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);Kt(i,e.memoizedState)||(rt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Gv(){}function Wv(t,e){var n=de,r=xt(),o=e(),i=!Kt(r.memoizedState,o);if(i&&(r.memoizedState=o,rt=!0),r=r.queue,dh(Yv.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,Vi(9,Qv.bind(null,n,r,o,e),void 0,null),Me===null)throw Error(x(349));xr&30||qv(n,e,o)}return o}function qv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Qv(t,e,n,r){e.value=n,e.getSnapshot=r,Jv(e)&&Xv(t)}function Yv(t,e,n){return n(function(){Jv(e)&&Xv(t)})}function Jv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kt(t,n)}catch{return!0}}function Xv(t){var e=Sn(t,1);e!==null&&jt(e,t,1,-1)}function Jp(t){var e=en();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},e.queue=t,t=t.dispatch=Gk.bind(null,de,t),[e.memoizedState,t]}function Vi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zv(){return xt().memoizedState}function Qs(t,e,n,r){var o=en();de.flags|=t,o.memoizedState=Vi(1|e,n,void 0,r===void 0?null:r)}function vc(t,e,n,r){var o=xt();r=r===void 0?null:r;var i=void 0;if(Ee!==null){var s=Ee.memoizedState;if(i=s.destroy,r!==null&&ch(r,s.deps)){o.memoizedState=Vi(e,n,i,r);return}}de.flags|=t,o.memoizedState=Vi(1|e,n,i,r)}function Xp(t,e){return Qs(8390656,8,t,e)}function dh(t,e){return vc(2048,8,t,e)}function eC(t,e){return vc(4,2,t,e)}function tC(t,e){return vc(4,4,t,e)}function nC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rC(t,e,n){return n=n!=null?n.concat([t]):null,vc(4,4,nC.bind(null,e,t),n)}function hh(){}function oC(t,e){var n=xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ch(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iC(t,e){var n=xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ch(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sC(t,e,n){return xr&21?(Kt(n,e)||(n=dv(),de.lanes|=n,Mr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rt=!0),t.memoizedState=n)}function Kk(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var r=Il.transition;Il.transition={};try{t(!1),e()}finally{Y=n,Il.transition=r}}function aC(){return xt().memoizedState}function $k(t,e,n){var r=Wn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cC(t))lC(e,n);else if(n=zv(t,e,n,r),n!==null){var o=Je();jt(n,t,r,o),uC(n,e,r)}}function Gk(t,e,n){var r=Wn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cC(t))lC(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Kt(a,s)){var c=e.interleaved;c===null?(o.next=o,rh(e)):(o.next=c.next,c.next=o),e.interleaved=o;return}}catch{}finally{}n=zv(t,e,o,r),n!==null&&(o=Je(),jt(n,t,r,o),uC(n,e,r))}}function cC(t){var e=t.alternate;return t===de||e!==null&&e===de}function lC(t,e){fi=ka=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zd(t,n)}}var Ia={readContext:Nt,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useInsertionEffect:He,useLayoutEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useMutableSource:He,useSyncExternalStore:He,useId:He,unstable_isNewReconciler:!1},Wk={readContext:Nt,useCallback:function(t,e){return en().memoizedState=[t,e===void 0?null:e],t},useContext:Nt,useEffect:Xp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Qs(4194308,4,nC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qs(4,2,t,e)},useMemo:function(t,e){var n=en();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=en();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$k.bind(null,de,t),[r.memoizedState,t]},useRef:function(t){var e=en();return t={current:t},e.memoizedState=t},useState:Jp,useDebugValue:hh,useDeferredValue:function(t){return en().memoizedState=t},useTransition:function(){var t=Jp(!1),e=t[0];return t=Kk.bind(null,t[1]),en().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=de,o=en();if(ce){if(n===void 0)throw Error(x(407));n=n()}else{if(n=e(),Me===null)throw Error(x(349));xr&30||qv(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,Xp(Yv.bind(null,r,i,t),[t]),r.flags|=2048,Vi(9,Qv.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=en(),e=Me.identifierPrefix;if(ce){var n=pn,r=fn;n=(r&~(1<<32-Bt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Bi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qk={readContext:Nt,useCallback:oC,useContext:Nt,useEffect:dh,useImperativeHandle:rC,useInsertionEffect:eC,useLayoutEffect:tC,useMemo:iC,useReducer:Rl,useRef:Zv,useState:function(){return Rl(ji)},useDebugValue:hh,useDeferredValue:function(t){var e=xt();return sC(e,Ee.memoizedState,t)},useTransition:function(){var t=Rl(ji)[0],e=xt().memoizedState;return[t,e]},useMutableSource:Gv,useSyncExternalStore:Wv,useId:aC,unstable_isNewReconciler:!1},Qk={readContext:Nt,useCallback:oC,useContext:Nt,useEffect:dh,useImperativeHandle:rC,useInsertionEffect:eC,useLayoutEffect:tC,useMemo:iC,useReducer:_l,useRef:Zv,useState:function(){return _l(ji)},useDebugValue:hh,useDeferredValue:function(t){var e=xt();return Ee===null?e.memoizedState=t:sC(e,Ee.memoizedState,t)},useTransition:function(){var t=_l(ji)[0],e=xt().memoizedState;return[t,e]},useMutableSource:Gv,useSyncExternalStore:Wv,useId:aC,unstable_isNewReconciler:!1};function Dt(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cc={isMounted:function(t){return(t=t._reactInternals)?jr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Je(),o=Wn(t),i=yn(r,o);i.payload=e,n!=null&&(i.callback=n),e=$n(t,i,o),e!==null&&(jt(e,t,o,r),Ws(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Je(),o=Wn(t),i=yn(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=$n(t,i,o),e!==null&&(jt(e,t,o,r),Ws(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Je(),r=Wn(t),o=yn(n,r);o.tag=2,e!=null&&(o.callback=e),e=$n(t,o,r),e!==null&&(jt(e,t,r,n),Ws(e,t,r))}};function Zp(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!bi(n,r)||!bi(o,i):!0}function dC(t,e,n){var r=!1,o=nr,i=e.contextType;return typeof i=="object"&&i!==null?i=Nt(i):(o=it(e)?Or:$e.current,r=e.contextTypes,i=(r=r!=null)?Ao(t,o):nr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function em(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cc.enqueueReplaceState(e,e.state,null)}function Du(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},oh(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Nt(i):(i=it(e)?Or:$e.current,o.context=Ao(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(bu(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Cc.enqueueReplaceState(o,o.state,null),Aa(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Ro(t,e){try{var n="",r=e;do n+=AE(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Pl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Yk=typeof WeakMap=="function"?WeakMap:Map;function hC(t,e,n){n=yn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_a||(_a=!0,Gu=r),Lu(t,e)},n}function fC(t,e,n){n=yn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Lu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Lu(t,e),typeof r!="function"&&(Gn===null?Gn=new Set([this]):Gn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function tm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Yk;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=uI.bind(null,t,e,n),e.then(t,t))}function nm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rm(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=yn(-1,1),e.tag=2,$n(n,e,1))),n.lanes|=1),t)}var Jk=Rn.ReactCurrentOwner,rt=!1;function qe(t,e,n,r){e.child=t===null?Vv(e,null,n,r):ko(e,t.child,n,r)}function om(t,e,n,r,o){n=n.render;var i=e.ref;return yo(e,o),r=lh(t,e,n,r,i,o),n=uh(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,An(t,e,o)):(ce&&n&&Jd(e),e.flags|=1,qe(t,e,r,o),e.child)}function im(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!wh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,pC(t,e,i,r,o)):(t=Zs(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:bi,n(s,r)&&t.ref===e.ref)return An(t,e,o)}return e.flags|=1,t=qn(i,r),t.ref=e.ref,t.return=e,e.child=t}function pC(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(bi(i,r)&&t.ref===e.ref)if(rt=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(rt=!0);else return e.lanes=t.lanes,An(t,e,o)}return Uu(t,e,n,r,o)}function mC(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(ao,ft),ft|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,te(ao,ft),ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,te(ao,ft),ft|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,te(ao,ft),ft|=r;return qe(t,e,o,n),e.child}function gC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uu(t,e,n,r,o){var i=it(n)?Or:$e.current;return i=Ao(e,i),yo(e,o),n=lh(t,e,n,r,i,o),r=uh(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,An(t,e,o)):(ce&&r&&Jd(e),e.flags|=1,qe(t,e,n,o),e.child)}function sm(t,e,n,r,o){if(it(n)){var i=!0;va(e)}else i=!1;if(yo(e,o),e.stateNode===null)Ys(t,e),dC(e,n,r),Du(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var c=s.context,l=n.contextType;typeof l=="object"&&l!==null?l=Nt(l):(l=it(n)?Or:$e.current,l=Ao(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==l)&&em(e,s,r,l),Mn=!1;var h=e.memoizedState;s.state=h,Aa(e,r,s,o),c=e.memoizedState,a!==r||h!==c||ot.current||Mn?(typeof u=="function"&&(bu(e,n,u,r),c=e.memoizedState),(a=Mn||Zp(e,n,a,r,h,c,l))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Kv(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Dt(e.type,a),s.props=l,d=e.pendingProps,h=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nt(c):(c=it(n)?Or:$e.current,c=Ao(e,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==c)&&em(e,s,r,c),Mn=!1,h=e.memoizedState,s.state=h,Aa(e,r,s,o);var v=e.memoizedState;a!==d||h!==v||ot.current||Mn?(typeof p=="function"&&(bu(e,n,p,r),v=e.memoizedState),(l=Mn||Zp(e,n,l,r,h,v,c)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=c,r=l):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Fu(t,e,n,r,i,o)}function Fu(t,e,n,r,o,i){gC(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&$p(e,n,!1),An(t,e,i);r=e.stateNode,Jk.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=ko(e,t.child,null,i),e.child=ko(e,null,a,i)):qe(t,e,a,i),e.memoizedState=r.state,o&&$p(e,n,!0),e.child}function yC(t){var e=t.stateNode;e.pendingContext?Kp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kp(t,e.context,!1),ih(t,e.containerInfo)}function am(t,e,n,r,o){return Eo(),Zd(o),e.flags|=256,qe(t,e,n,r),e.child}var Hu={dehydrated:null,treeContext:null,retryLane:0};function Bu(t){return{baseLanes:t,cachePool:null,transitions:null}}function vC(t,e,n){var r=e.pendingProps,o=le.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),te(le,o&1),t===null)return xu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Sc(s,r,0,null),t=Pr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Bu(n),e.memoizedState=Hu,t):fh(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Xk(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=qn(o,c),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=qn(a,i):(i=Pr(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?Bu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=Hu,r}return i=t.child,t=i.sibling,r=qn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fh(t,e){return e=Sc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rs(t,e,n,r){return r!==null&&Zd(r),ko(e,t.child,null,n),t=fh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Xk(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Pl(Error(x(422))),Rs(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Sc({mode:"visible",children:r.children},o,0,null),i=Pr(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&ko(e,t.child,null,s),e.child.memoizedState=Bu(s),e.memoizedState=Hu,i);if(!(e.mode&1))return Rs(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(x(419)),r=Pl(i,r,void 0),Rs(t,e,s,r)}if(a=(s&t.childLanes)!==0,rt||a){if(r=Me,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Sn(t,o),jt(r,t,o,-1))}return Ch(),r=Pl(Error(x(421))),Rs(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=dI.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,mt=Kn(o.nextSibling),gt=e,ce=!0,Ft=null,t!==null&&(It[Rt++]=fn,It[Rt++]=pn,It[Rt++]=Nr,fn=t.id,pn=t.overflow,Nr=e),e=fh(e,r.children),e.flags|=4096,e)}function cm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Mu(t.return,e,n)}function Ol(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function CC(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(qe(t,e,r.children,n),r=le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cm(t,n,e);else if(t.tag===19)cm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(te(le,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Ea(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Ol(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Ea(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Ol(e,!0,n,null,i);break;case"together":Ol(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ys(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function An(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(x(153));if(e.child!==null){for(t=e.child,n=qn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Zk(t,e,n){switch(e.tag){case 3:yC(e),Eo();break;case 5:$v(e);break;case 1:it(e.type)&&va(e);break;case 4:ih(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;te(Ta,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(te(le,le.current&1),e.flags|=128,null):n&e.child.childLanes?vC(t,e,n):(te(le,le.current&1),t=An(t,e,n),t!==null?t.sibling:null);te(le,le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return CC(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),te(le,le.current),r)break;return null;case 22:case 23:return e.lanes=0,mC(t,e,n)}return An(t,e,n)}var wC,ju,TC,SC;wC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ju=function(){};TC=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Ar(an.current);var i=null;switch(n){case"input":o=lu(t,o),r=lu(t,r),i=[];break;case"select":o=he({},o,{value:void 0}),r=he({},r,{value:void 0}),i=[];break;case"textarea":o=hu(t,o),r=hu(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ga)}pu(n,r);var s;n=null;for(l in o)if(!r.hasOwnProperty(l)&&o.hasOwnProperty(l)&&o[l]!=null)if(l==="style"){var a=o[l];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ri.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(a=o!=null?o[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Ri.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&re("scroll",t),i||a===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(e.updateQueue=l)&&(e.flags|=4)}};SC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qo(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Be(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eI(t,e,n){var r=e.pendingProps;switch(Xd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(e),null;case 1:return it(e.type)&&ya(),Be(e),null;case 3:return r=e.stateNode,Io(),oe(ot),oe($e),ah(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ks(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ft!==null&&(Qu(Ft),Ft=null))),ju(t,e),Be(e),null;case 5:sh(e);var o=Ar(Hi.current);if(n=e.type,t!==null&&e.stateNode!=null)TC(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(x(166));return Be(e),null}if(t=Ar(an.current),ks(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[nn]=e,r[Ui]=i,t=(e.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(o=0;o<oi.length;o++)re(oi[o],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":yp(r,i),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},re("invalid",r);break;case"textarea":Cp(r,i),re("invalid",r)}pu(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Es(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Es(r.textContent,a,t),o=["children",""+a]):Ri.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&re("scroll",r)}switch(n){case"input":gs(r),vp(r,i,!0);break;case"textarea":gs(r),wp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ga)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[nn]=e,t[Ui]=r,wC(t,e,!1,!1),e.stateNode=t;e:{switch(s=mu(n,r),n){case"dialog":re("cancel",t),re("close",t),o=r;break;case"iframe":case"object":case"embed":re("load",t),o=r;break;case"video":case"audio":for(o=0;o<oi.length;o++)re(oi[o],t);o=r;break;case"source":re("error",t),o=r;break;case"img":case"image":case"link":re("error",t),re("load",t),o=r;break;case"details":re("toggle",t),o=r;break;case"input":yp(t,r),o=lu(t,r),re("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=he({},r,{value:void 0}),re("invalid",t);break;case"textarea":Cp(t,r),o=hu(t,r),re("invalid",t);break;default:o=r}pu(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Zy(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Jy(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_i(t,c):typeof c=="number"&&_i(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ri.hasOwnProperty(i)?c!=null&&i==="onScroll"&&re("scroll",t):c!=null&&Ud(t,i,c,s))}switch(n){case"input":gs(t),vp(t,r,!1);break;case"textarea":gs(t),wp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+tr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?fo(t,!!r.multiple,i,!1):r.defaultValue!=null&&fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=ga)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Be(e),null;case 6:if(t&&e.stateNode!=null)SC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(x(166));if(n=Ar(Hi.current),Ar(an.current),ks(e)){if(r=e.stateNode,n=e.memoizedProps,r[nn]=e,(i=r.nodeValue!==n)&&(t=gt,t!==null))switch(t.tag){case 3:Es(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Es(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nn]=e,e.stateNode=r}return Be(e),null;case 13:if(oe(le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&mt!==null&&e.mode&1&&!(e.flags&128))Bv(),Eo(),e.flags|=98560,i=!1;else if(i=ks(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(x(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(x(317));i[nn]=e}else Eo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Be(e),i=!1}else Ft!==null&&(Qu(Ft),Ft=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||le.current&1?ke===0&&(ke=3):Ch())),e.updateQueue!==null&&(e.flags|=4),Be(e),null);case 4:return Io(),ju(t,e),t===null&&Di(e.stateNode.containerInfo),Be(e),null;case 10:return nh(e.type._context),Be(e),null;case 17:return it(e.type)&&ya(),Be(e),null;case 19:if(oe(le),i=e.memoizedState,i===null)return Be(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Qo(i,!1);else{if(ke!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ea(t),s!==null){for(e.flags|=128,Qo(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return te(le,le.current&1|2),e.child}t=t.sibling}i.tail!==null&&ge()>_o&&(e.flags|=128,r=!0,Qo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ea(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ce)return Be(e),null}else 2*ge()-i.renderingStartTime>_o&&n!==1073741824&&(e.flags|=128,r=!0,Qo(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ge(),e.sibling=null,n=le.current,te(le,r?n&1|2:n&1),e):(Be(e),null);case 22:case 23:return vh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ft&1073741824&&(Be(e),e.subtreeFlags&6&&(e.flags|=8192)):Be(e),null;case 24:return null;case 25:return null}throw Error(x(156,e.tag))}function tI(t,e){switch(Xd(e),e.tag){case 1:return it(e.type)&&ya(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Io(),oe(ot),oe($e),ah(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sh(e),null;case 13:if(oe(le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(x(340));Eo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return oe(le),null;case 4:return Io(),null;case 10:return nh(e.type._context),null;case 22:case 23:return vh(),null;case 24:return null;default:return null}}var _s=!1,ze=!1,nI=typeof WeakSet=="function"?WeakSet:Set,L=null;function so(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(t,e,r)}else n.current=null}function Vu(t,e,n){try{n()}catch(r){fe(t,e,r)}}var lm=!1;function rI(t,e){if(ku=fa,t=Rv(),Yd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,l=0,u=0,d=t,h=null;t:for(;;){for(var p;d!==n||o!==0&&d.nodeType!==3||(a=s+o),d!==i||r!==0&&d.nodeType!==3||(c=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++l===o&&(a=s),h===i&&++u===r&&(c=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iu={focusedElem:t,selectionRange:n},fa=!1,L=e;L!==null;)if(e=L,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,L=t;else for(;L!==null;){e=L;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,T=v.memoizedState,g=e.stateNode,f=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Dt(e.type,y),T);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(x(163))}}catch(w){fe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,L=t;break}L=e.return}return v=lm,lm=!1,v}function pi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&Vu(e,n,i)}o=o.next}while(o!==r)}}function wc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function zu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AC(t){var e=t.alternate;e!==null&&(t.alternate=null,AC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nn],delete e[Ui],delete e[Pu],delete e[Hk],delete e[Bk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function EC(t){return t.tag===5||t.tag===3||t.tag===4}function um(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||EC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ku(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ga));else if(r!==4&&(t=t.child,t!==null))for(Ku(t,e,n),t=t.sibling;t!==null;)Ku(t,e,n),t=t.sibling}function $u(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($u(t,e,n),t=t.sibling;t!==null;)$u(t,e,n),t=t.sibling}var De=null,Lt=!1;function Pn(t,e,n){for(n=n.child;n!==null;)kC(t,e,n),n=n.sibling}function kC(t,e,n){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(hc,n)}catch{}switch(n.tag){case 5:ze||so(n,e);case 6:var r=De,o=Lt;De=null,Pn(t,e,n),De=r,Lt=o,De!==null&&(Lt?(t=De,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(Lt?(t=De,n=n.stateNode,t.nodeType===8?Al(t.parentNode,n):t.nodeType===1&&Al(t,n),xi(t)):Al(De,n.stateNode));break;case 4:r=De,o=Lt,De=n.stateNode.containerInfo,Lt=!0,Pn(t,e,n),De=r,Lt=o;break;case 0:case 11:case 14:case 15:if(!ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Vu(n,e,s),o=o.next}while(o!==r)}Pn(t,e,n);break;case 1:if(!ze&&(so(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fe(n,e,a)}Pn(t,e,n);break;case 21:Pn(t,e,n);break;case 22:n.mode&1?(ze=(r=ze)||n.memoizedState!==null,Pn(t,e,n),ze=r):Pn(t,e,n);break;default:Pn(t,e,n)}}function dm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nI),e.forEach(function(r){var o=hI.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function bt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:De=a.stateNode,Lt=!1;break e;case 3:De=a.stateNode.containerInfo,Lt=!0;break e;case 4:De=a.stateNode.containerInfo,Lt=!0;break e}a=a.return}if(De===null)throw Error(x(160));kC(i,s,o),De=null,Lt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(l){fe(o,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IC(e,t),e=e.sibling}function IC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(bt(e,t),Yt(t),r&4){try{pi(3,t,t.return),wc(3,t)}catch(y){fe(t,t.return,y)}try{pi(5,t,t.return)}catch(y){fe(t,t.return,y)}}break;case 1:bt(e,t),Yt(t),r&512&&n!==null&&so(n,n.return);break;case 5:if(bt(e,t),Yt(t),r&512&&n!==null&&so(n,n.return),t.flags&32){var o=t.stateNode;try{_i(o,"")}catch(y){fe(t,t.return,y)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&qy(o,i),mu(a,s);var l=mu(a,i);for(s=0;s<c.length;s+=2){var u=c[s],d=c[s+1];u==="style"?Zy(o,d):u==="dangerouslySetInnerHTML"?Jy(o,d):u==="children"?_i(o,d):Ud(o,u,d,l)}switch(a){case"input":uu(o,i);break;case"textarea":Qy(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?fo(o,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?fo(o,!!i.multiple,i.defaultValue,!0):fo(o,!!i.multiple,i.multiple?[]:"",!1))}o[Ui]=i}catch(y){fe(t,t.return,y)}}break;case 6:if(bt(e,t),Yt(t),r&4){if(t.stateNode===null)throw Error(x(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(y){fe(t,t.return,y)}}break;case 3:if(bt(e,t),Yt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xi(e.containerInfo)}catch(y){fe(t,t.return,y)}break;case 4:bt(e,t),Yt(t);break;case 13:bt(e,t),Yt(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(gh=ge())),r&4&&dm(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(ze=(l=ze)||u,bt(e,t),ze=l):bt(e,t),Yt(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(L=t,u=t.child;u!==null;){for(d=L=u;L!==null;){switch(h=L,p=h.child,h.tag){case 0:case 11:case 14:case 15:pi(4,h,h.return);break;case 1:so(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){fe(r,n,y)}}break;case 5:so(h,h.return);break;case 22:if(h.memoizedState!==null){fm(d);continue}}p!==null?(p.return=h,L=p):fm(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,l?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Xy("display",s))}catch(y){fe(t,t.return,y)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(y){fe(t,t.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bt(e,t),Yt(t),r&4&&dm(t);break;case 21:break;default:bt(e,t),Yt(t)}}function Yt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(EC(n)){var r=n;break e}n=n.return}throw Error(x(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(_i(o,""),r.flags&=-33);var i=um(t);$u(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=um(t);Ku(t,a,s);break;default:throw Error(x(161))}}catch(c){fe(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oI(t,e,n){L=t,RC(t)}function RC(t,e,n){for(var r=(t.mode&1)!==0;L!==null;){var o=L,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||_s;if(!s){var a=o.alternate,c=a!==null&&a.memoizedState!==null||ze;a=_s;var l=ze;if(_s=s,(ze=c)&&!l)for(L=o;L!==null;)s=L,c=s.child,s.tag===22&&s.memoizedState!==null?pm(o):c!==null?(c.return=s,L=c):pm(o);for(;i!==null;)L=i,RC(i),i=i.sibling;L=o,_s=a,ze=l}hm(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,L=i):hm(t)}}function hm(t){for(;L!==null;){var e=L;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ze||wc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ze)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Dt(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Yp(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Yp(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&xi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(x(163))}ze||e.flags&512&&zu(e)}catch(h){fe(e,e.return,h)}}if(e===t){L=null;break}if(n=e.sibling,n!==null){n.return=e.return,L=n;break}L=e.return}}function fm(t){for(;L!==null;){var e=L;if(e===t){L=null;break}var n=e.sibling;if(n!==null){n.return=e.return,L=n;break}L=e.return}}function pm(t){for(;L!==null;){var e=L;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wc(4,e)}catch(c){fe(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(c){fe(e,o,c)}}var i=e.return;try{zu(e)}catch(c){fe(e,i,c)}break;case 5:var s=e.return;try{zu(e)}catch(c){fe(e,s,c)}}}catch(c){fe(e,e.return,c)}if(e===t){L=null;break}var a=e.sibling;if(a!==null){a.return=e.return,L=a;break}L=e.return}}var iI=Math.ceil,Ra=Rn.ReactCurrentDispatcher,ph=Rn.ReactCurrentOwner,Ot=Rn.ReactCurrentBatchConfig,W=0,Me=null,Te=null,Ue=0,ft=0,ao=ar(0),ke=0,zi=null,Mr=0,Tc=0,mh=0,mi=null,tt=null,gh=0,_o=1/0,un=null,_a=!1,Gu=null,Gn=null,Ps=!1,Hn=null,Pa=0,gi=0,Wu=null,Js=-1,Xs=0;function Je(){return W&6?ge():Js!==-1?Js:Js=ge()}function Wn(t){return t.mode&1?W&2&&Ue!==0?Ue&-Ue:Vk.transition!==null?(Xs===0&&(Xs=dv()),Xs):(t=Y,t!==0||(t=window.event,t=t===void 0?16:vv(t.type)),t):1}function jt(t,e,n,r){if(50<gi)throw gi=0,Wu=null,Error(x(185));ts(t,n,r),(!(W&2)||t!==Me)&&(t===Me&&(!(W&2)&&(Tc|=n),ke===4&&Ln(t,Ue)),st(t,r),n===1&&W===0&&!(e.mode&1)&&(_o=ge()+500,yc&&cr()))}function st(t,e){var n=t.callbackNode;VE(t,e);var r=ha(t,t===Me?Ue:0);if(r===0)n!==null&&Ap(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ap(n),e===1)t.tag===0?jk(mm.bind(null,t)):Uv(mm.bind(null,t)),Uk(function(){!(W&6)&&cr()}),n=null;else{switch(hv(r)){case 1:n=Vd;break;case 4:n=lv;break;case 16:n=da;break;case 536870912:n=uv;break;default:n=da}n=DC(n,_C.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _C(t,e){if(Js=-1,Xs=0,W&6)throw Error(x(327));var n=t.callbackNode;if(vo()&&t.callbackNode!==n)return null;var r=ha(t,t===Me?Ue:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Oa(t,r);else{e=r;var o=W;W|=2;var i=OC();(Me!==t||Ue!==e)&&(un=null,_o=ge()+500,_r(t,e));do try{cI();break}catch(a){PC(t,a)}while(1);th(),Ra.current=i,W=o,Te!==null?e=0:(Me=null,Ue=0,e=ke)}if(e!==0){if(e===2&&(o=wu(t),o!==0&&(r=o,e=qu(t,o))),e===1)throw n=zi,_r(t,0),Ln(t,r),st(t,ge()),n;if(e===6)Ln(t,r);else{if(o=t.current.alternate,!(r&30)&&!sI(o)&&(e=Oa(t,r),e===2&&(i=wu(t),i!==0&&(r=i,e=qu(t,i))),e===1))throw n=zi,_r(t,0),Ln(t,r),st(t,ge()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(x(345));case 2:gr(t,tt,un);break;case 3:if(Ln(t,r),(r&130023424)===r&&(e=gh+500-ge(),10<e)){if(ha(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Je(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=_u(gr.bind(null,t,tt,un),e);break}gr(t,tt,un);break;case 4:if(Ln(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-Bt(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iI(r/1960))-r,10<r){t.timeoutHandle=_u(gr.bind(null,t,tt,un),r);break}gr(t,tt,un);break;case 5:gr(t,tt,un);break;default:throw Error(x(329))}}}return st(t,ge()),t.callbackNode===n?_C.bind(null,t):null}function qu(t,e){var n=mi;return t.current.memoizedState.isDehydrated&&(_r(t,e).flags|=256),t=Oa(t,e),t!==2&&(e=tt,tt=n,e!==null&&Qu(e)),t}function Qu(t){tt===null?tt=t:tt.push.apply(tt,t)}function sI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Kt(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ln(t,e){for(e&=~mh,e&=~Tc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Bt(e),r=1<<n;t[n]=-1,e&=~r}}function mm(t){if(W&6)throw Error(x(327));vo();var e=ha(t,0);if(!(e&1))return st(t,ge()),null;var n=Oa(t,e);if(t.tag!==0&&n===2){var r=wu(t);r!==0&&(e=r,n=qu(t,r))}if(n===1)throw n=zi,_r(t,0),Ln(t,e),st(t,ge()),n;if(n===6)throw Error(x(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gr(t,tt,un),st(t,ge()),null}function yh(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(_o=ge()+500,yc&&cr())}}function br(t){Hn!==null&&Hn.tag===0&&!(W&6)&&vo();var e=W;W|=1;var n=Ot.transition,r=Y;try{if(Ot.transition=null,Y=1,t)return t()}finally{Y=r,Ot.transition=n,W=e,!(W&6)&&cr()}}function vh(){ft=ao.current,oe(ao)}function _r(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Lk(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(Xd(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ya();break;case 3:Io(),oe(ot),oe($e),ah();break;case 5:sh(r);break;case 4:Io();break;case 13:oe(le);break;case 19:oe(le);break;case 10:nh(r.type._context);break;case 22:case 23:vh()}n=n.return}if(Me=t,Te=t=qn(t.current,null),Ue=ft=e,ke=0,zi=null,mh=Tc=Mr=0,tt=mi=null,Sr!==null){for(e=0;e<Sr.length;e++)if(n=Sr[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Sr=null}return t}function PC(t,e){do{var n=Te;try{if(th(),qs.current=Ia,ka){for(var r=de.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}ka=!1}if(xr=0,Ne=Ee=de=null,fi=!1,Bi=0,ph.current=null,n===null||n.return===null){ke=1,zi=e,Te=null;break}e:{var i=t,s=n.return,a=n,c=e;if(e=Ue,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=nm(s);if(p!==null){p.flags&=-257,rm(p,s,a,i,e),p.mode&1&&tm(i,l,e),e=p,c=l;var v=e.updateQueue;if(v===null){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break e}else{if(!(e&1)){tm(i,l,e),Ch();break e}c=Error(x(426))}}else if(ce&&a.mode&1){var T=nm(s);if(T!==null){!(T.flags&65536)&&(T.flags|=256),rm(T,s,a,i,e),Zd(Ro(c,a));break e}}i=c=Ro(c,a),ke!==4&&(ke=2),mi===null?mi=[i]:mi.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=hC(i,c,e);Qp(i,g);break e;case 1:a=c;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Gn===null||!Gn.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=fC(i,a,e);Qp(i,w);break e}}i=i.return}while(i!==null)}xC(n)}catch(A){e=A,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(1)}function OC(){var t=Ra.current;return Ra.current=Ia,t===null?Ia:t}function Ch(){(ke===0||ke===3||ke===2)&&(ke=4),Me===null||!(Mr&268435455)&&!(Tc&268435455)||Ln(Me,Ue)}function Oa(t,e){var n=W;W|=2;var r=OC();(Me!==t||Ue!==e)&&(un=null,_r(t,e));do try{aI();break}catch(o){PC(t,o)}while(1);if(th(),W=n,Ra.current=r,Te!==null)throw Error(x(261));return Me=null,Ue=0,ke}function aI(){for(;Te!==null;)NC(Te)}function cI(){for(;Te!==null&&!ME();)NC(Te)}function NC(t){var e=bC(t.alternate,t,ft);t.memoizedProps=t.pendingProps,e===null?xC(t):Te=e,ph.current=null}function xC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tI(n,e),n!==null){n.flags&=32767,Te=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ke=6,Te=null;return}}else if(n=eI(n,e,ft),n!==null){Te=n;return}if(e=e.sibling,e!==null){Te=e;return}Te=e=t}while(e!==null);ke===0&&(ke=5)}function gr(t,e,n){var r=Y,o=Ot.transition;try{Ot.transition=null,Y=1,lI(t,e,n,r)}finally{Ot.transition=o,Y=r}return null}function lI(t,e,n,r){do vo();while(Hn!==null);if(W&6)throw Error(x(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(x(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(zE(t,i),t===Me&&(Te=Me=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ps||(Ps=!0,DC(da,function(){return vo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ot.transition,Ot.transition=null;var s=Y;Y=1;var a=W;W|=4,ph.current=null,rI(t,n),IC(n,t),Pk(Iu),fa=!!ku,Iu=ku=null,t.current=n,oI(n),bE(),W=a,Y=s,Ot.transition=i}else t.current=n;if(Ps&&(Ps=!1,Hn=t,Pa=o),i=t.pendingLanes,i===0&&(Gn=null),UE(n.stateNode),st(t,ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(_a)throw _a=!1,t=Gu,Gu=null,t;return Pa&1&&t.tag!==0&&vo(),i=t.pendingLanes,i&1?t===Wu?gi++:(gi=0,Wu=t):gi=0,cr(),null}function vo(){if(Hn!==null){var t=hv(Pa),e=Ot.transition,n=Y;try{if(Ot.transition=null,Y=16>t?16:t,Hn===null)var r=!1;else{if(t=Hn,Hn=null,Pa=0,W&6)throw Error(x(331));var o=W;for(W|=4,L=t.current;L!==null;){var i=L,s=i.child;if(L.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(L=l;L!==null;){var u=L;switch(u.tag){case 0:case 11:case 15:pi(8,u,i)}var d=u.child;if(d!==null)d.return=u,L=d;else for(;L!==null;){u=L;var h=u.sibling,p=u.return;if(AC(u),u===l){L=null;break}if(h!==null){h.return=p,L=h;break}L=p}}}var v=i.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var T=y.sibling;y.sibling=null,y=T}while(y!==null)}}L=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,L=s;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pi(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,L=g;break e}L=i.return}}var f=t.current;for(L=f;L!==null;){s=L;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,L=m;else e:for(s=f;L!==null;){if(a=L,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wc(9,a)}}catch(A){fe(a,a.return,A)}if(a===s){L=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,L=w;break e}L=a.return}}if(W=o,cr(),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(hc,t)}catch{}r=!0}return r}finally{Y=n,Ot.transition=e}}return!1}function gm(t,e,n){e=Ro(n,e),e=hC(t,e,1),t=$n(t,e,1),e=Je(),t!==null&&(ts(t,1,e),st(t,e))}function fe(t,e,n){if(t.tag===3)gm(t,t,n);else for(;e!==null;){if(e.tag===3){gm(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Gn===null||!Gn.has(r))){t=Ro(n,t),t=fC(e,t,1),e=$n(e,t,1),t=Je(),e!==null&&(ts(e,1,t),st(e,t));break}}e=e.return}}function uI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Je(),t.pingedLanes|=t.suspendedLanes&n,Me===t&&(Ue&n)===n&&(ke===4||ke===3&&(Ue&130023424)===Ue&&500>ge()-gh?_r(t,0):mh|=n),st(t,e)}function MC(t,e){e===0&&(t.mode&1?(e=Cs,Cs<<=1,!(Cs&130023424)&&(Cs=4194304)):e=1);var n=Je();t=Sn(t,e),t!==null&&(ts(t,e,n),st(t,n))}function dI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MC(t,n)}function hI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(x(314))}r!==null&&r.delete(e),MC(t,n)}var bC;bC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ot.current)rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rt=!1,Zk(t,e,n);rt=!!(t.flags&131072)}else rt=!1,ce&&e.flags&1048576&&Fv(e,wa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ys(t,e),t=e.pendingProps;var o=Ao(e,$e.current);yo(e,n),o=lh(null,e,r,t,o,n);var i=uh();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,it(r)?(i=!0,va(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,oh(e),o.updater=Cc,e.stateNode=o,o._reactInternals=e,Du(e,r,t,n),e=Fu(null,e,r,!0,i,n)):(e.tag=0,ce&&i&&Jd(e),qe(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ys(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=pI(r),t=Dt(r,t),o){case 0:e=Uu(null,e,r,t,n);break e;case 1:e=sm(null,e,r,t,n);break e;case 11:e=om(null,e,r,t,n);break e;case 14:e=im(null,e,r,Dt(r.type,t),n);break e}throw Error(x(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Dt(r,o),Uu(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Dt(r,o),sm(t,e,r,o,n);case 3:e:{if(yC(e),t===null)throw Error(x(387));r=e.pendingProps,i=e.memoizedState,o=i.element,Kv(t,e),Aa(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Ro(Error(x(423)),e),e=am(t,e,r,n,o);break e}else if(r!==o){o=Ro(Error(x(424)),e),e=am(t,e,r,n,o);break e}else for(mt=Kn(e.stateNode.containerInfo.firstChild),gt=e,ce=!0,Ft=null,n=Vv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Eo(),r===o){e=An(t,e,n);break e}qe(t,e,r,n)}e=e.child}return e;case 5:return $v(e),t===null&&xu(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,Ru(r,o)?s=null:i!==null&&Ru(r,i)&&(e.flags|=32),gC(t,e),qe(t,e,s,n),e.child;case 6:return t===null&&xu(e),null;case 13:return vC(t,e,n);case 4:return ih(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ko(e,null,r,n):qe(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Dt(r,o),om(t,e,r,o,n);case 7:return qe(t,e,e.pendingProps,n),e.child;case 8:return qe(t,e,e.pendingProps.children,n),e.child;case 12:return qe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,te(Ta,r._currentValue),r._currentValue=s,i!==null)if(Kt(i.value,s)){if(i.children===o.children&&!ot.current){e=An(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=yn(-1,n&-n),c.tag=2;var l=i.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Mu(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(x(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Mu(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}qe(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,yo(e,n),o=Nt(o),r=r(o),e.flags|=1,qe(t,e,r,n),e.child;case 14:return r=e.type,o=Dt(r,e.pendingProps),o=Dt(r.type,o),im(t,e,r,o,n);case 15:return pC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Dt(r,o),Ys(t,e),e.tag=1,it(r)?(t=!0,va(e)):t=!1,yo(e,n),dC(e,r,o),Du(e,r,o,n),Fu(null,e,r,!0,t,n);case 19:return CC(t,e,n);case 22:return mC(t,e,n)}throw Error(x(156,e.tag))};function DC(t,e){return cv(t,e)}function fI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(t,e,n,r){return new fI(t,e,n,r)}function wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pI(t){if(typeof t=="function")return wh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hd)return 11;if(t===Bd)return 14}return 2}function qn(t,e){var n=t.alternate;return n===null?(n=Pt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Zs(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")wh(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Jr:return Pr(n.children,o,i,e);case Fd:s=8,o|=8;break;case iu:return t=Pt(12,n,e,o|2),t.elementType=iu,t.lanes=i,t;case su:return t=Pt(13,n,e,o),t.elementType=su,t.lanes=i,t;case au:return t=Pt(19,n,e,o),t.elementType=au,t.lanes=i,t;case $y:return Sc(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zy:s=10;break e;case Ky:s=9;break e;case Hd:s=11;break e;case Bd:s=14;break e;case xn:s=16,r=null;break e}throw Error(x(130,t==null?t:typeof t,""))}return e=Pt(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Pr(t,e,n,r){return t=Pt(7,t,r,e),t.lanes=n,t}function Sc(t,e,n,r){return t=Pt(22,t,r,e),t.elementType=$y,t.lanes=n,t.stateNode={isHidden:!1},t}function Nl(t,e,n){return t=Pt(6,t,null,e),t.lanes=n,t}function xl(t,e,n){return e=Pt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mI(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hl(0),this.expirationTimes=hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hl(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Th(t,e,n,r,o,i,s,a,c){return t=new mI(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Pt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},oh(i),t}function gI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LC(t){if(!t)return nr;t=t._reactInternals;e:{if(jr(t)!==t||t.tag!==1)throw Error(x(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(it(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(x(171))}if(t.tag===1){var n=t.type;if(it(n))return Lv(t,n,e)}return e}function UC(t,e,n,r,o,i,s,a,c){return t=Th(n,r,!0,t,o,i,s,a,c),t.context=LC(null),n=t.current,r=Je(),o=Wn(n),i=yn(r,o),i.callback=e??null,$n(n,i,o),t.current.lanes=o,ts(t,o,r),st(t,r),t}function Ac(t,e,n,r){var o=e.current,i=Je(),s=Wn(o);return n=LC(n),e.context===null?e.context=n:e.pendingContext=n,e=yn(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$n(o,e,s),t!==null&&(jt(t,o,s,i),Ws(t,o,s)),s}function Na(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ym(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sh(t,e){ym(t,e),(t=t.alternate)&&ym(t,e)}function yI(){return null}var FC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ah(t){this._internalRoot=t}Ec.prototype.render=Ah.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(x(409));Ac(t,e,null,null)};Ec.prototype.unmount=Ah.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;br(function(){Ac(null,t,null,null)}),e[Tn]=null}};function Ec(t){this._internalRoot=t}Ec.prototype.unstable_scheduleHydration=function(t){if(t){var e=mv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Dn.length&&e!==0&&e<Dn[n].priority;n++);Dn.splice(n,0,t),n===0&&yv(t)}};function Eh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vm(){}function vI(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var l=Na(s);i.call(l)}}var s=UC(e,r,t,0,null,!1,!1,"",vm);return t._reactRootContainer=s,t[Tn]=s.current,Di(t.nodeType===8?t.parentNode:t),br(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var l=Na(c);a.call(l)}}var c=Th(t,0,!1,null,null,!1,!1,"",vm);return t._reactRootContainer=c,t[Tn]=c.current,Di(t.nodeType===8?t.parentNode:t),br(function(){Ac(e,c,n,r)}),c}function Ic(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var c=Na(s);a.call(c)}}Ac(e,s,t,o)}else s=vI(n,e,t,o,r);return Na(s)}fv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ri(e.pendingLanes);n!==0&&(zd(e,n|1),st(e,ge()),!(W&6)&&(_o=ge()+500,cr()))}break;case 13:br(function(){var r=Sn(t,1);if(r!==null){var o=Je();jt(r,t,1,o)}}),Sh(t,1)}};Kd=function(t){if(t.tag===13){var e=Sn(t,134217728);if(e!==null){var n=Je();jt(e,t,134217728,n)}Sh(t,134217728)}};pv=function(t){if(t.tag===13){var e=Wn(t),n=Sn(t,e);if(n!==null){var r=Je();jt(n,t,e,r)}Sh(t,e)}};mv=function(){return Y};gv=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};yu=function(t,e,n){switch(e){case"input":if(uu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=gc(r);if(!o)throw Error(x(90));Wy(r),uu(r,o)}}}break;case"textarea":Qy(t,n);break;case"select":e=n.value,e!=null&&fo(t,!!n.multiple,e,!1)}};nv=yh;rv=br;var CI={usingClientEntryPoint:!1,Events:[rs,to,gc,ev,tv,yh]},Yo={findFiberByHostInstance:Tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wI={bundleType:Yo.bundleType,version:Yo.version,rendererPackageName:Yo.rendererPackageName,rendererConfig:Yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sv(t),t===null?null:t.stateNode},findFiberByHostInstance:Yo.findFiberByHostInstance||yI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Os=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Os.isDisabled&&Os.supportsFiber)try{hc=Os.inject(wI),sn=Os}catch{}}Tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CI;Tt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Eh(e))throw Error(x(200));return gI(t,e,null,n)};Tt.createRoot=function(t,e){if(!Eh(t))throw Error(x(299));var n=!1,r="",o=FC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Th(t,1,!1,null,null,n,!1,r,o),t[Tn]=e.current,Di(t.nodeType===8?t.parentNode:t),new Ah(e)};Tt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(x(188)):(t=Object.keys(t).join(","),Error(x(268,t)));return t=sv(e),t=t===null?null:t.stateNode,t};Tt.flushSync=function(t){return br(t)};Tt.hydrate=function(t,e,n){if(!kc(e))throw Error(x(200));return Ic(null,t,e,!0,n)};Tt.hydrateRoot=function(t,e,n){if(!Eh(t))throw Error(x(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=FC;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=UC(e,null,t,1,n??null,o,!1,i,s),t[Tn]=e.current,Di(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Ec(e)};Tt.render=function(t,e,n){if(!kc(e))throw Error(x(200));return Ic(null,t,e,!1,n)};Tt.unmountComponentAtNode=function(t){if(!kc(t))throw Error(x(40));return t._reactRootContainer?(br(function(){Ic(null,null,t,!1,function(){t._reactRootContainer=null,t[Tn]=null})}),!0):!1};Tt.unstable_batchedUpdates=yh;Tt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kc(n))throw Error(x(200));if(t==null||t._reactInternals===void 0)throw Error(x(38));return Ic(t,e,n,!1,r)};Tt.version="18.3.1-next-f1338f8080-20240426";function HC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HC)}catch(t){console.error(t)}}HC(),Hy.exports=Tt;var TI=Hy.exports,Cm=TI;ru.createRoot=Cm.createRoot,ru.hydrateRoot=Cm.hydrateRoot;/*! @azure/msal-common v15.12.0 2025-08-19 */const I={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Bn={SUCCESS:200,SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR:400,CLIENT_ERROR_RANGE_START:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,REQUEST_TIMEOUT:408,GONE:410,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599,MULTI_SIDED_ERROR:600},Er={GET:"GET",POST:"POST"},Lo=[I.OPENID_SCOPE,I.PROFILE_SCOPE,I.OFFLINE_ACCESS_SCOPE],wm=[...Lo,I.EMAIL_SCOPE],Qe={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",WWWAuthenticate:"WWW-Authenticate",AuthenticationInfo:"Authentication-Info",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},Tm={ACTIVE_ACCOUNT_FILTERS:"active-account-filters"},Qn={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},Ns={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},Ye={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},kh={CODE:"code",IDTOKEN_TOKEN:"id_token token",IDTOKEN_TOKEN_REFRESHTOKEN:"id_token token refresh_token"},Rc={QUERY:"query",FRAGMENT:"fragment"},SI={QUERY:"query",FRAGMENT:"fragment",FORM_POST:"form_post"},BC={IMPLICIT_GRANT:"implicit",AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},xs={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",MSAV1_ACCOUNT_TYPE:"MSA",GENERIC_ACCOUNT_TYPE:"Generic"},Ki={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},Le={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Ih="appmetadata",AI="client_info",xa="1",Ma={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:3600*24},ht={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},be={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Q={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},yi={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},Sm={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},Wr={FAILED_AUTO_DETECTION:"1",INTERNAL_CACHE:"2",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},Ml={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},yr={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},EI={Jwt:"JWT",Jwk:"JWK",Pop:"pop"},jC=300;/*! @azure/msal-common v15.12.0 2025-08-19 */const ba="unexpected_error",kI="post_request_failed";/*! @azure/msal-common v15.12.0 2025-08-19 */const Am={[ba]:"Unexpected error in authentication.",[kI]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class X extends Error{constructor(e,n,r){const o=n?`${e}: ${n}`:e;super(o),Object.setPrototypeOf(this,X.prototype),this.errorCode=e||I.EMPTY_STRING,this.errorMessage=n||I.EMPTY_STRING,this.subError=r||I.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function Yu(t,e){return new X(t,e?`${Am[t]} ${e}`:Am[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */const Rh="client_info_decoding_error",VC="client_info_empty_error",_h="token_parsing_error",zC="null_or_empty_token",dn="endpoints_resolution_error",KC="network_error",$C="openid_config_error",GC="hash_not_deserialized",Po="invalid_state",WC="state_mismatch",Ju="state_not_found",qC="nonce_mismatch",Ph="auth_time_not_found",QC="max_age_transpired",II="multiple_matching_tokens",RI="multiple_matching_accounts",YC="multiple_matching_appMetadata",JC="request_cannot_be_made",XC="cannot_remove_empty_scope",ZC="cannot_append_scopeset",Xu="empty_input_scopeset",_I="device_code_polling_cancelled",PI="device_code_expired",OI="device_code_unknown_error",Oh="no_account_in_silent_request",ew="invalid_cache_record",Nh="invalid_cache_environment",Zu="no_account_found",ed="no_crypto_object",NI="unexpected_credential_type",xI="invalid_assertion",MI="invalid_client_credential",Yn="token_refresh_required",bI="user_timeout_reached",tw="token_claims_cnf_required_for_signedjwt",nw="authorization_code_missing_from_server_response",rw="binding_key_not_removed",ow="end_session_endpoint_not_supported",xh="key_id_missing",DI="no_network_connectivity",LI="user_canceled",UI="missing_tenant_id_error",$="method_not_implemented",FI="nested_app_auth_bridge_disabled";/*! @azure/msal-common v15.12.0 2025-08-19 */const Em={[Rh]:"The client info could not be parsed/decoded correctly",[VC]:"The client info was empty",[_h]:"Token cannot be parsed",[zC]:"The token is null or empty",[dn]:"Endpoints cannot be resolved",[KC]:"Network request failed",[$C]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[GC]:"The hash parameters could not be deserialized",[Po]:"State was not the expected format",[WC]:"State mismatch error",[Ju]:"State not found",[qC]:"Nonce mismatch error",[Ph]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[QC]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[II]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[RI]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[YC]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[JC]:"Token request cannot be made without authorization code or refresh token.",[XC]:"Cannot remove null or empty scope from ScopeSet",[ZC]:"Cannot append ScopeSet",[Xu]:"Empty input ScopeSet cannot be processed",[_I]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[PI]:"Device code is expired.",[OI]:"Device code stopped polling for unknown reasons.",[Oh]:"Please pass an account object, silent flow is not supported without account information",[ew]:"Cache record object was null or undefined.",[Nh]:"Invalid environment when attempting to create cache entry",[Zu]:"No account found in cache for given key.",[ed]:"No crypto object detected.",[NI]:"Unexpected credential type.",[xI]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[MI]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Yn]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[bI]:"User defined timeout for device code polling reached",[tw]:"Cannot generate a POP jwt if the token_claims are not populated",[nw]:"Server response does not contain an authorization code to proceed",[rw]:"Could not remove the credential's binding key from storage.",[ow]:"The provided authority does not support logout",[xh]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[DI]:"No network connectivity. Check your internet connection.",[LI]:"User cancelled the flow.",[UI]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[$]:"This method has not been implemented",[FI]:"The nested app auth bridge is disabled"};class Mh extends X{constructor(e,n){super(e,n?`${Em[e]}: ${n}`:Em[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,Mh.prototype)}}function N(t,e){return new Mh(t,e)}/*! @azure/msal-common v15.12.0 2025-08-19 */const Da={createNewGuid:()=>{throw N($)},base64Decode:()=>{throw N($)},base64Encode:()=>{throw N($)},base64UrlEncode:()=>{throw N($)},encodeKid:()=>{throw N($)},async getPublicKeyThumbprint(){throw N($)},async removeTokenBindingKey(){throw N($)},async clearKeystore(){throw N($)},async signJwt(){throw N($)},async hashString(){throw N($)}};/*! @azure/msal-common v15.12.0 2025-08-19 */var ae;(function(t){t[t.Error=0]="Error",t[t.Warning=1]="Warning",t[t.Info=2]="Info",t[t.Verbose=3]="Verbose",t[t.Trace=4]="Trace"})(ae||(ae={}));class En{constructor(e,n,r){this.level=ae.Info;const o=()=>{},i=e||En.createDefaultLoggerOptions();this.localCallback=i.loggerCallback||o,this.piiLoggingEnabled=i.piiLoggingEnabled||!1,this.level=typeof i.logLevel=="number"?i.logLevel:ae.Info,this.correlationId=i.correlationId||I.EMPTY_STRING,this.packageName=n||I.EMPTY_STRING,this.packageVersion=r||I.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ae.Info}}clone(e,n,r){return new En({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,n)}logMessage(e,n){if(n.logLevel>this.level||!this.piiLoggingEnabled&&n.containsPii)return;const i=`${`[${new Date().toUTCString()}] : [${n.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${ae[n.logLevel]} - ${e}`;this.executeCallback(n.logLevel,i,n.containsPii||!1)}executeCallback(e,n,r){this.localCallback&&this.localCallback(e,n,r)}error(e,n){this.logMessage(e,{logLevel:ae.Error,containsPii:!1,correlationId:n||I.EMPTY_STRING})}errorPii(e,n){this.logMessage(e,{logLevel:ae.Error,containsPii:!0,correlationId:n||I.EMPTY_STRING})}warning(e,n){this.logMessage(e,{logLevel:ae.Warning,containsPii:!1,correlationId:n||I.EMPTY_STRING})}warningPii(e,n){this.logMessage(e,{logLevel:ae.Warning,containsPii:!0,correlationId:n||I.EMPTY_STRING})}info(e,n){this.logMessage(e,{logLevel:ae.Info,containsPii:!1,correlationId:n||I.EMPTY_STRING})}infoPii(e,n){this.logMessage(e,{logLevel:ae.Info,containsPii:!0,correlationId:n||I.EMPTY_STRING})}verbose(e,n){this.logMessage(e,{logLevel:ae.Verbose,containsPii:!1,correlationId:n||I.EMPTY_STRING})}verbosePii(e,n){this.logMessage(e,{logLevel:ae.Verbose,containsPii:!0,correlationId:n||I.EMPTY_STRING})}trace(e,n){this.logMessage(e,{logLevel:ae.Trace,containsPii:!1,correlationId:n||I.EMPTY_STRING})}tracePii(e,n){this.logMessage(e,{logLevel:ae.Trace,containsPii:!0,correlationId:n||I.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v15.12.0 2025-08-19 */const iw="@azure/msal-common",bh="15.12.0";/*! @azure/msal-common v15.12.0 2025-08-19 */const Dh={None:"none",AzurePublic:"https://login.microsoftonline.com",AzurePpe:"https://login.windows-ppe.net",AzureChina:"https://login.chinacloudapi.cn",AzureGermany:"https://login.microsoftonline.de",AzureUsGovernment:"https://login.microsoftonline.us"};/*! @azure/msal-common v15.12.0 2025-08-19 */const sw="redirect_uri_empty",HI="claims_request_parsing_error",aw="authority_uri_insecure",ii="url_parse_error",cw="empty_url_error",lw="empty_input_scopes_error",Lh="invalid_claims",uw="token_request_empty",dw="logout_request_empty",BI="invalid_code_challenge_method",Uh="pkce_params_missing",Fh="invalid_cloud_discovery_metadata",hw="invalid_authority_metadata",fw="untrusted_authority",_c="missing_ssh_jwk",pw="missing_ssh_kid",jI="missing_nonce_authentication_header",VI="invalid_authentication_header",mw="cannot_set_OIDCOptions",gw="cannot_allow_platform_broker",yw="authority_mismatch",vw="invalid_request_method_for_EAR",Cw="invalid_authorize_post_body_parameters";/*! @azure/msal-common v15.12.0 2025-08-19 */const zI={[sw]:"A redirect URI is required for all calls, and none has been set.",[HI]:"Could not parse the given claims request object.",[aw]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[ii]:"URL could not be parsed into appropriate segments.",[cw]:"URL was empty or null.",[lw]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[Lh]:"Given claims parameter must be a stringified JSON object.",[uw]:"Token request was empty and not found in cache.",[dw]:"The logout request was null or undefined.",[BI]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Uh]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Fh]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[hw]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[fw]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[_c]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[pw]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[jI]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[VI]:"Invalid authentication header provided",[mw]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[gw]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[yw]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.",[Cw]:"Invalid authorize post body parameters provided. If you are using authorizePostBodyParameters, the request method must be POST. Please check the request method and parameters.",[vw]:"Invalid request method for EAR protocol mode. The request method cannot be GET when using EAR protocol mode. Please change the request method to POST."};class Hh extends X{constructor(e){super(e,zI[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,Hh.prototype)}}function Z(t){return new Hh(t)}/*! @azure/msal-common v15.12.0 2025-08-19 */class yt{static isEmptyObj(e){if(e)try{const n=JSON.parse(e);return Object.keys(n).length===0}catch{}return!0}static startsWith(e,n){return e.indexOf(n)===0}static endsWith(e,n){return e.length>=n.length&&e.lastIndexOf(n)===e.length-n.length}static queryStringToObject(e){const n={},r=e.split("&"),o=i=>decodeURIComponent(i.replace(/\+/g," "));return r.forEach(i=>{if(i.trim()){const[s,a]=i.split(/=(.+)/g,2);s&&a&&(n[o(s)]=o(a))}}),n}static trimArrayEntries(e){return e.map(n=>n.trim())}static removeEmptyStringsFromArray(e){return e.filter(n=>!!n)}static jsonParseHelper(e){try{return JSON.parse(e)}catch{return null}}static matchPattern(e,n){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Ie{constructor(e){const n=e?yt.trimArrayEntries([...e]):[],r=n?yt.removeEmptyStringsFromArray(n):[];if(!r||!r.length)throw Z(lw);this.scopes=new Set,r.forEach(o=>this.scopes.add(o))}static fromString(e){const r=(e||I.EMPTY_STRING).split(" ");return new Ie(r)}static createSearchScopes(e){const n=e&&e.length>0?e:[...Lo],r=new Ie(n);return r.containsOnlyOIDCScopes()?r.removeScope(I.OFFLINE_ACCESS_SCOPE):r.removeOIDCScopes(),r}containsScope(e){const n=this.printScopesLowerCase().split(" "),r=new Ie(n);return e?r.scopes.has(e.toLowerCase()):!1}containsScopeSet(e){return!e||e.scopes.size<=0?!1:this.scopes.size>=e.scopes.size&&e.asArray().every(n=>this.containsScope(n))}containsOnlyOIDCScopes(){let e=0;return wm.forEach(n=>{this.containsScope(n)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(n=>this.appendScope(n))}catch{throw N(ZC)}}removeScope(e){if(!e)throw N(XC);this.scopes.delete(e.trim())}removeOIDCScopes(){wm.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw N(Xu);const n=new Set;return e.scopes.forEach(r=>n.add(r.toLowerCase())),this.scopes.forEach(r=>n.add(r.toLowerCase())),n}intersectingScopeSets(e){if(!e)throw N(Xu);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const n=this.unionScopeSets(e),r=e.getScopeCount(),o=this.getScopeCount();return n.size<o+r}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach(n=>e.push(n)),e}printScopes(){return this.scopes?this.asArray().join(" "):I.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v15.12.0 2025-08-19 */function km(t,e){return!!t&&!!e&&t===e.split(".")[1]}function Bh(t,e,n,r){if(r){const{oid:o,sub:i,tid:s,name:a,tfp:c,acr:l,preferred_username:u,upn:d,login_hint:h}=r,p=s||c||l||"";return{tenantId:p,localAccountId:o||i||"",name:a,username:u||d||"",loginHint:h,isHomeTenant:km(p,t)}}else return{tenantId:n,localAccountId:e,username:"",isHomeTenant:km(n,t)}}function jh(t,e,n,r){let o=t;if(e){const{isHomeTenant:i,...s}=e;o={...t,...s}}if(n){const{isHomeTenant:i,...s}=Bh(t.homeAccountId,t.localAccountId,t.tenantId,n);return o={...o,...s,idTokenClaims:n,idToken:r},o}return o}/*! @azure/msal-common v15.12.0 2025-08-19 */function Uo(t,e){const n=KI(t);try{const r=e(n);return JSON.parse(r)}catch{throw N(_h)}}function KI(t){if(!t)throw N(zC);const n=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!n||n.length<4)throw N(_h);return n[2]}function ww(t,e){if(e===0||Date.now()-3e5>t+e)throw N(QC)}/*! @azure/msal-common v15.12.0 2025-08-19 */function Im(t){if(!t)return t;let e=t.toLowerCase();return yt.endsWith(e,"?")?e=e.slice(0,-1):yt.endsWith(e,"?/")&&(e=e.slice(0,-2)),yt.endsWith(e,"/")||(e+="/"),e}function Tw(t){return t.startsWith("#/")?t.substring(2):t.startsWith("#")||t.startsWith("?")?t.substring(1):t}function La(t){if(!t||t.indexOf("=")<0)return null;try{const e=Tw(t),n=Object.fromEntries(new URLSearchParams(e));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch{throw N(GC)}return null}function $i(t,e=!0,n){const r=new Array;return t.forEach((o,i)=>{!e&&n&&i in n?r.push(`${i}=${o}`):r.push(`${i}=${encodeURIComponent(o)}`)}),r.join("&")}function Rm(t){if(!t)return t;const e=t.split("#")[0];try{const n=new URL(e),r=n.origin+n.pathname+n.search;return Im(r)}catch{return Im(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class q{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw Z(cw);e.includes("#")||(this._urlString=q.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let n=e.toLowerCase();return yt.endsWith(n,"?")?n=n.slice(0,-1):yt.endsWith(n,"?/")&&(n=n.slice(0,-2)),yt.endsWith(n,"/")||(n+="/"),n}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch{throw Z(ii)}if(!e.HostNameAndPort||!e.PathSegments)throw Z(ii);if(!e.Protocol||e.Protocol.toLowerCase()!=="https:")throw Z(aw)}static appendQueryString(e,n){return n?e.indexOf("?")<0?`${e}?${n}`:`${e}&${n}`:e}static removeHashFromUrl(e){return q.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const n=this.getUrlComponents(),r=n.PathSegments;return e&&r.length!==0&&(r[0]===Qn.COMMON||r[0]===Qn.ORGANIZATIONS)&&(r[0]=e),q.constructAuthorityUriFromObject(n)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),n=this.urlString.match(e);if(!n)throw Z(ii);const r={Protocol:n[1],HostNameAndPort:n[4],AbsolutePath:n[5],QueryString:n[7]};let o=r.AbsolutePath.split("/");return o=o.filter(i=>i&&i.length>0),r.PathSegments=o,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){const n=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(n);if(!r)throw Z(ii);return r[2]}static getAbsoluteUrl(e,n){if(e[0]===I.FORWARD_SLASH){const o=new q(n).getUrlComponents();return o.Protocol+"//"+o.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new q(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!La(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const Sw={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},_m=Sw.endpointMetadata,Vh=Sw.instanceDiscoveryMetadata,Aw=new Set;Vh.metadata.forEach(t=>{t.aliases.forEach(e=>{Aw.add(e)})});function $I(t,e){var o;let n;const r=t.canonicalAuthority;if(r){const i=new q(r).getUrlComponents().HostNameAndPort;n=Pm(i,(o=t.cloudDiscoveryMetadata)==null?void 0:o.metadata,ht.CONFIG,e)||Pm(i,Vh.metadata,ht.HARDCODED_VALUES,e)||t.knownAuthorities}return n||[]}function Pm(t,e,n,r){if(r==null||r.trace(`getAliasesFromMetadata called with source: ${n}`),t&&e){const o=Ua(e,t);if(o)return r==null||r.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),o.aliases;r==null||r.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function GI(t){return Ua(Vh.metadata,t)}function Ua(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(r.aliases.includes(e))return r}return null}/*! @azure/msal-common v15.12.0 2025-08-19 */const Fa="cache_quota_exceeded",zh="cache_error_unknown";/*! @azure/msal-common v15.12.0 2025-08-19 */const bl={[Fa]:"Exceeded cache storage capacity.",[zh]:"Unexpected error occurred when using cache storage."};class Co extends X{constructor(e,n){const r=n||(bl[e]?bl[e]:bl[zh]);super(`${e}: ${r}`),Object.setPrototypeOf(this,Co.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}function td(t){return t instanceof Error?t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED"||t.message.includes("exceeded the quota")?new Co(Fa):new Co(t.name,t.message):new Co(zh)}/*! @azure/msal-common v15.12.0 2025-08-19 */class nd{constructor(e,n,r,o,i){this.clientId=e,this.cryptoImpl=n,this.commonLogger=r.clone(iw,bh),this.staticAuthorityOptions=i,this.performanceClient=o}getAllAccounts(e,n){return this.buildTenantProfiles(this.getAccountsFilteredBy(e,n),n,e)}getAccountInfoFilteredBy(e,n){if(Object.keys(e).length===0||Object.values(e).every(o=>!o))return this.commonLogger.warning("getAccountInfoFilteredBy: Account filter is empty or invalid, returning null"),null;const r=this.getAllAccounts(e,n);return r.length>1?r.sort(i=>i.idTokenClaims?-1:1)[0]:r.length===1?r[0]:null}getBaseAccountInfo(e,n){const r=this.getAccountsFilteredBy(e,n);return r.length>0?r[0].getAccountInfo():null}buildTenantProfiles(e,n,r){return e.flatMap(o=>this.getTenantProfilesFromAccountEntity(o,n,r==null?void 0:r.tenantId,r))}getTenantedAccountInfoByFilter(e,n,r,o,i){let s=null,a;if(i&&!this.tenantProfileMatchesFilter(r,i))return null;const c=this.getIdToken(e,o,n,r.tenantId);return c&&(a=Uo(c.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(a,i))?null:(s=jh(e,r,a,c==null?void 0:c.secret),s)}getTenantProfilesFromAccountEntity(e,n,r,o){const i=e.getAccountInfo();let s=i.tenantProfiles||new Map;const a=this.getTokenKeys();if(r){const l=s.get(r);if(l)s=new Map([[r,l]]);else return[]}const c=[];return s.forEach(l=>{const u=this.getTenantedAccountInfoByFilter(i,a,l,n,o);u&&c.push(u)}),c}tenantProfileMatchesFilter(e,n){return!(n.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,n.localAccountId)||n.name&&e.name!==n.name||n.isHomeTenant!==void 0&&e.isHomeTenant!==n.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,n){return!(n&&(n.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,n.localAccountId)||n.loginHint&&!this.matchLoginHintFromTokenClaims(e,n.loginHint)||n.username&&!this.matchUsername(e.preferred_username,n.username)||n.name&&!this.matchName(e,n.name)||n.sid&&!this.matchSid(e,n.sid)))}async saveCacheRecord(e,n,r){var o;if(!e)throw N(ew);try{e.account&&await this.setAccount(e.account,n),e.idToken&&(r==null?void 0:r.idToken)!==!1&&await this.setIdTokenCredential(e.idToken,n),e.accessToken&&(r==null?void 0:r.accessToken)!==!1&&await this.saveAccessToken(e.accessToken,n),e.refreshToken&&(r==null?void 0:r.refreshToken)!==!1&&await this.setRefreshTokenCredential(e.refreshToken,n),e.appMetadata&&this.setAppMetadata(e.appMetadata,n)}catch(i){throw(o=this.commonLogger)==null||o.error("CacheManager.saveCacheRecord: failed"),i instanceof X?i:td(i)}}async saveAccessToken(e,n){const r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},o=this.getTokenKeys(),i=Ie.fromString(e.target);o.accessToken.forEach(s=>{if(!this.accessTokenKeyMatchesFilter(s,r,!1))return;const a=this.getAccessTokenCredential(s,n);a&&this.credentialMatchesFilter(a,r)&&Ie.fromString(a.target).intersectingScopeSets(i)&&this.removeAccessToken(s,n)}),await this.setAccessTokenCredential(e,n)}getAccountsFilteredBy(e,n){const r=this.getAccountKeys(),o=[];return r.forEach(i=>{var l;const s=this.getAccount(i,n);if(!s||e.homeAccountId&&!this.matchHomeAccountId(s,e.homeAccountId)||e.username&&!this.matchUsername(s.username,e.username)||e.environment&&!this.matchEnvironment(s,e.environment)||e.realm&&!this.matchRealm(s,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(s,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(s,e.authorityType))return;const a={localAccountId:e==null?void 0:e.localAccountId,name:e==null?void 0:e.name},c=(l=s.tenantProfiles)==null?void 0:l.filter(u=>this.tenantProfileMatchesFilter(u,a));c&&c.length===0||o.push(s)}),o}credentialMatchesFilter(e,n){return!(n.clientId&&!this.matchClientId(e,n.clientId)||n.userAssertionHash&&!this.matchUserAssertionHash(e,n.userAssertionHash)||typeof n.homeAccountId=="string"&&!this.matchHomeAccountId(e,n.homeAccountId)||n.environment&&!this.matchEnvironment(e,n.environment)||n.realm&&!this.matchRealm(e,n.realm)||n.credentialType&&!this.matchCredentialType(e,n.credentialType)||n.familyId&&!this.matchFamilyId(e,n.familyId)||n.target&&!this.matchTarget(e,n.target)||(n.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==n.requestedClaimsHash||e.credentialType===Le.ACCESS_TOKEN_WITH_AUTH_SCHEME&&(n.tokenType&&!this.matchTokenType(e,n.tokenType)||n.tokenType===Q.SSH&&n.keyId&&!this.matchKeyId(e,n.keyId)))}getAppMetadataFilteredBy(e){const n=this.getKeys(),r={};return n.forEach(o=>{if(!this.isAppMetadata(o))return;const i=this.getAppMetadata(o);i&&(e.environment&&!this.matchEnvironment(i,e.environment)||e.clientId&&!this.matchClientId(i,e.clientId)||(r[o]=i))}),r}getAuthorityMetadataByAlias(e){const n=this.getAuthorityMetadataKeys();let r=null;return n.forEach(o=>{if(!this.isAuthorityMetadata(o)||o.indexOf(this.clientId)===-1)return;const i=this.getAuthorityMetadata(o);i&&i.aliases.indexOf(e)!==-1&&(r=i)}),r}removeAllAccounts(e){this.getAllAccounts({},e).forEach(r=>{this.removeAccount(r,e)})}removeAccount(e,n){this.removeAccountContext(e,n);const r=this.getAccountKeys(),o=i=>i.includes(e.homeAccountId)&&i.includes(e.environment);r.filter(o).forEach(i=>{this.removeItem(i,n),this.performanceClient.incrementFields({accountsRemoved:1},n)})}removeAccountContext(e,n){const r=this.getTokenKeys(),o=i=>i.includes(e.homeAccountId)&&i.includes(e.environment);r.idToken.filter(o).forEach(i=>{this.removeIdToken(i,n)}),r.accessToken.filter(o).forEach(i=>{this.removeAccessToken(i,n)}),r.refreshToken.filter(o).forEach(i=>{this.removeRefreshToken(i,n)})}removeAccessToken(e,n){const r=this.getAccessTokenCredential(e,n);if(this.removeItem(e,n),this.performanceClient.incrementFields({accessTokensRemoved:1},n),!r||r.credentialType.toLowerCase()!==Le.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||r.tokenType!==Q.POP)return;const o=r.keyId;o&&this.cryptoImpl.removeTokenBindingKey(o).catch(()=>{var i;this.commonLogger.error(`Failed to remove token binding key ${o}`,n),(i=this.performanceClient)==null||i.incrementFields({removeTokenBindingKeyFailure:1},n)})}removeAppMetadata(e){return this.getKeys().forEach(r=>{this.isAppMetadata(r)&&this.removeItem(r,e)}),!0}getIdToken(e,n,r,o,i){this.commonLogger.trace("CacheManager - getIdToken called");const s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Le.ID_TOKEN,clientId:this.clientId,realm:o},a=this.getIdTokensByFilter(s,n,r),c=a.size;if(c<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(c>1){let l=a;if(!o){const u=new Map;a.forEach((h,p)=>{h.realm===e.tenantId&&u.set(p,h)});const d=u.size;if(d<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),a.values().next().value;if(d===1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),u.values().next().value;l=u}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),l.forEach((u,d)=>{this.removeIdToken(d,n)}),i&&n&&i.addFields({multiMatchedID:a.size},n),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),a.values().next().value}getIdTokensByFilter(e,n,r){const o=r&&r.idToken||this.getTokenKeys().idToken,i=new Map;return o.forEach(s=>{if(!this.idTokenKeyMatchesFilter(s,{clientId:this.clientId,...e}))return;const a=this.getIdTokenCredential(s,n);a&&this.credentialMatchesFilter(a,e)&&i.set(s,a)}),i}idTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}removeIdToken(e,n){this.removeItem(e,n)}removeRefreshToken(e,n){this.removeItem(e,n)}getAccessToken(e,n,r,o){const i=n.correlationId;this.commonLogger.trace("CacheManager - getAccessToken called",i);const s=Ie.createSearchScopes(n.scopes),a=n.authenticationScheme||Q.BEARER,c=a&&a.toLowerCase()!==Q.BEARER.toLowerCase()?Le.ACCESS_TOKEN_WITH_AUTH_SCHEME:Le.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:o||e.tenantId,target:s,tokenType:a,keyId:n.sshKid,requestedClaimsHash:n.requestedClaimsHash},u=r&&r.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach(p=>{if(this.accessTokenKeyMatchesFilter(p,l,!0)){const v=this.getAccessTokenCredential(p,i);v&&this.credentialMatchesFilter(v,l)&&d.push(v)}});const h=d.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found",i),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them",i),d.forEach(p=>{this.removeAccessToken(this.generateCredentialKey(p),i)}),this.performanceClient.addFields({multiMatchedAT:d.length},i),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token",i),d[0])}accessTokenKeyMatchesFilter(e,n,r){const o=e.toLowerCase();if(n.clientId&&o.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&o.indexOf(n.homeAccountId.toLowerCase())===-1||n.realm&&o.indexOf(n.realm.toLowerCase())===-1||n.requestedClaimsHash&&o.indexOf(n.requestedClaimsHash.toLowerCase())===-1)return!1;if(n.target){const i=n.target.asArray();for(let s=0;s<i.length;s++){if(r&&!o.includes(i[s].toLowerCase()))return!1;if(!r&&o.includes(i[s].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e,n){const r=this.getTokenKeys(),o=[];return r.accessToken.forEach(i=>{if(!this.accessTokenKeyMatchesFilter(i,e,!0))return;const s=this.getAccessTokenCredential(i,n);s&&this.credentialMatchesFilter(s,e)&&o.push(s)}),o}getRefreshToken(e,n,r,o,i){this.commonLogger.trace("CacheManager - getRefreshToken called");const s=n?xa:void 0,a={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Le.REFRESH_TOKEN,clientId:this.clientId,familyId:s},c=o&&o.refreshToken||this.getTokenKeys().refreshToken,l=[];c.forEach(d=>{if(this.refreshTokenKeyMatchesFilter(d,a)){const h=this.getRefreshTokenCredential(d,r);h&&this.credentialMatchesFilter(h,a)&&l.push(h)}});const u=l.length;return u<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(u>1&&i&&r&&i.addFields({multiMatchedRT:u},r),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),l[0])}refreshTokenKeyMatchesFilter(e,n){const r=e.toLowerCase();return!(n.familyId&&r.indexOf(n.familyId.toLowerCase())===-1||!n.familyId&&n.clientId&&r.indexOf(n.clientId.toLowerCase())===-1||n.homeAccountId&&r.indexOf(n.homeAccountId.toLowerCase())===-1)}readAppMetadataFromCache(e){const n={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(n),o=Object.keys(r).map(s=>r[s]),i=o.length;if(i<1)return null;if(i>1)throw N(YC);return o[0]}isAppMetadataFOCI(e){const n=this.readAppMetadataFromCache(e);return!!(n&&n.familyId===xa)}matchHomeAccountId(e,n){return typeof e.homeAccountId=="string"&&n===e.homeAccountId}matchLocalAccountIdFromTokenClaims(e,n){const r=e.oid||e.sub;return n===r}matchLocalAccountIdFromTenantProfile(e,n){return e.localAccountId===n}matchName(e,n){var r;return n.toLowerCase()===((r=e.name)==null?void 0:r.toLowerCase())}matchUsername(e,n){return!!(e&&typeof e=="string"&&(n==null?void 0:n.toLowerCase())===e.toLowerCase())}matchUserAssertionHash(e,n){return!!(e.userAssertionHash&&n===e.userAssertionHash)}matchEnvironment(e,n){if(this.staticAuthorityOptions){const o=$I(this.staticAuthorityOptions,this.commonLogger);if(o.includes(n)&&o.includes(e.environment))return!0}const r=this.getAuthorityMetadataByAlias(n);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,n){return e.credentialType&&n.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,n){return!!(e.clientId&&n===e.clientId)}matchFamilyId(e,n){return!!(e.familyId&&n===e.familyId)}matchRealm(e,n){var r;return((r=e.realm)==null?void 0:r.toLowerCase())===n.toLowerCase()}matchNativeAccountId(e,n){return!!(e.nativeAccountId&&n===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,n){return e.login_hint===n||e.preferred_username===n||e.upn===n}matchSid(e,n){return e.sid===n}matchAuthorityType(e,n){return!!(e.authorityType&&n.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,n){return e.credentialType!==Le.ACCESS_TOKEN&&e.credentialType!==Le.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target?!1:Ie.fromString(e.target).containsScopeSet(n)}matchTokenType(e,n){return!!(e.tokenType&&e.tokenType===n)}matchKeyId(e,n){return!!(e.keyId&&e.keyId===n)}isAppMetadata(e){return e.indexOf(Ih)!==-1}isAuthorityMetadata(e){return e.indexOf(Ma.CACHE_KEY)!==-1}generateAuthorityMetadataCacheKey(e){return`${Ma.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,n){for(const r in n)e[r]=n[r];return e}}class WI extends nd{async setAccount(){throw N($)}getAccount(){throw N($)}async setIdTokenCredential(){throw N($)}getIdTokenCredential(){throw N($)}async setAccessTokenCredential(){throw N($)}getAccessTokenCredential(){throw N($)}async setRefreshTokenCredential(){throw N($)}getRefreshTokenCredential(){throw N($)}setAppMetadata(){throw N($)}getAppMetadata(){throw N($)}setServerTelemetry(){throw N($)}getServerTelemetry(){throw N($)}setAuthorityMetadata(){throw N($)}getAuthorityMetadata(){throw N($)}getAuthorityMetadataKeys(){throw N($)}setThrottlingCache(){throw N($)}getThrottlingCache(){throw N($)}removeItem(){throw N($)}getKeys(){throw N($)}getAccountKeys(){throw N($)}getTokenKeys(){throw N($)}generateCredentialKey(){throw N($)}generateAccountKey(){throw N($)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const at={AAD:"AAD",OIDC:"OIDC",EAR:"EAR"};/*! @azure/msal-common v15.12.0 2025-08-19 */const C={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenPreRedirect:"acquireTokenPreRedirect",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",AwaitConcurrentIframe:"awaitConcurrentIframe",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",InitializeCache:"initializeCache",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",GetAuthCodeUrl:"getAuthCodeUrl",GetStandardParams:"getStandardParams",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",HandleResponseEar:"handleResponseEar",HandleResponsePlatformBroker:"handleResponsePlatformBroker",HandleResponseCode:"handleResponseCode",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",ImportExistingCache:"importExistingCache",SetUserData:"setUserData",LocalStorageUpdated:"localStorageUpdated",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues",GenerateHKDF:"generateHKDF",GenerateBaseKey:"generateBaseKey",Base64Decode:"base64Decode",UrlEncodeArr:"urlEncodeArr",Encrypt:"encrypt",Decrypt:"decrypt",GenerateEarKey:"generateEarKey",DecryptEarResponse:"decryptEarResponse"},qI={NotStarted:0,InProgress:1,Completed:2};/*! @azure/msal-common v15.12.0 2025-08-19 */class Om{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Ew{generateId(){return"callback-id"}startMeasurement(e,n){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:qI.InProgress,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:n||""},measurement:new Om}}startPerformanceMeasurement(){return new Om}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}/*! @azure/msal-common v15.12.0 2025-08-19 */const kw={tokenRenewalOffsetSeconds:jC,preventCorsPreflight:!1},QI={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:ae.Info,correlationId:I.EMPTY_STRING},YI={claimsBasedCachingEnabled:!1},JI={async sendGetRequestAsync(){throw N($)},async sendPostRequestAsync(){throw N($)}},XI={sku:I.SKU,version:bh,cpu:I.EMPTY_STRING,os:I.EMPTY_STRING},ZI={clientSecret:I.EMPTY_STRING,clientAssertion:void 0},e0={azureCloudInstance:Dh.None,tenant:`${I.DEFAULT_COMMON_TENANT}`},t0={application:{appName:"",appVersion:""}};function n0({authOptions:t,systemOptions:e,loggerOptions:n,cacheOptions:r,storageInterface:o,networkInterface:i,cryptoInterface:s,clientCredentials:a,libraryInfo:c,telemetry:l,serverTelemetryManager:u,persistencePlugin:d,serializableCache:h}){const p={...QI,...n};return{authOptions:r0(t),systemOptions:{...kw,...e},loggerOptions:p,cacheOptions:{...YI,...r},storageInterface:o||new WI(t.clientId,Da,new En(p),new Ew),networkInterface:i||JI,cryptoInterface:s||Da,clientCredentials:a||ZI,libraryInfo:{...XI,...c},telemetry:{...t0,...l},serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:h||null}}function r0(t){return{clientCapabilities:[],azureCloudOptions:e0,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...t}}function Iw(t){return t.authOptions.authority.options.protocolMode===at.OIDC}/*! @azure/msal-common v15.12.0 2025-08-19 */const Ht={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v15.12.0 2025-08-19 */function Ha(t,e){if(!t)throw N(VC);try{const n=e(t);return JSON.parse(n)}catch{throw N(Rh)}}function wo(t){if(!t)throw N(Rh);const e=t.split(Ki.CLIENT_INFO_SEPARATOR,2);return{uid:e[0],utid:e.length<2?I.EMPTY_STRING:e[1]}}/*! @azure/msal-common v15.12.0 2025-08-19 */const Dr="client_id",Rw="redirect_uri",o0="response_type",i0="response_mode",s0="grant_type",a0="claims",c0="scope",l0="refresh_token",u0="state",d0="nonce",h0="prompt",f0="code",p0="code_challenge",m0="code_challenge_method",g0="code_verifier",y0="client-request-id",v0="x-client-SKU",C0="x-client-VER",w0="x-client-OS",T0="x-client-CPU",S0="x-client-current-telemetry",A0="x-client-last-telemetry",E0="x-ms-lib-capability",k0="x-app-name",I0="x-app-ver",R0="post_logout_redirect_uri",_0="id_token_hint",P0="client_secret",O0="client_assertion",N0="client_assertion_type",_w="token_type",Pw="req_cnf",Nm="return_spa_code",x0="nativebroker",M0="logout_hint",b0="sid",D0="login_hint",L0="domain_hint",U0="x-client-xtra-sku",Ba="brk_client_id",ja="brk_redirect_uri",rd="instance_aware",F0="ear_jwk",H0="ear_jwe_crypto";/*! @azure/msal-common v15.12.0 2025-08-19 */function Pc(t,e,n){if(!e)return;const r=t.get(Dr);r&&t.has(Ba)&&(n==null||n.addFields({embeddedClientId:r,embeddedRedirectUri:t.get(Rw)},e))}function Kh(t,e){t.set(o0,e)}function B0(t,e){t.set(i0,e||SI.QUERY)}function j0(t){t.set(x0,"1")}function $h(t,e,n=!0,r=Lo){n&&!r.includes("openid")&&!e.includes("openid")&&r.push("openid");const o=n?[...e||[],...r]:e||[],i=new Ie(o);t.set(c0,i.printScopes())}function Gh(t,e){t.set(Dr,e)}function Wh(t,e){t.set(Rw,e)}function V0(t,e){t.set(R0,e)}function z0(t,e){t.set(_0,e)}function K0(t,e){t.set(L0,e)}function Ms(t,e){t.set(D0,e)}function Va(t,e){t.set(Qe.CCS_HEADER,`UPN:${e}`)}function vi(t,e){t.set(Qe.CCS_HEADER,`Oid:${e.uid}@${e.utid}`)}function xm(t,e){t.set(b0,e)}function qh(t,e,n){const r=Y0(e,n);try{JSON.parse(r)}catch{throw Z(Lh)}t.set(a0,r)}function Qh(t,e){t.set(y0,e)}function Yh(t,e){t.set(v0,e.sku),t.set(C0,e.version),e.os&&t.set(w0,e.os),e.cpu&&t.set(T0,e.cpu)}function Jh(t,e){e!=null&&e.appName&&t.set(k0,e.appName),e!=null&&e.appVersion&&t.set(I0,e.appVersion)}function $0(t,e){t.set(h0,e)}function Ow(t,e){e&&t.set(u0,e)}function G0(t,e){t.set(d0,e)}function Nw(t,e,n){if(e&&n)t.set(p0,e),t.set(m0,n);else throw Z(Uh)}function W0(t,e){t.set(f0,e)}function q0(t,e){t.set(l0,e)}function Q0(t,e){t.set(g0,e)}function xw(t,e){t.set(P0,e)}function Mw(t,e){e&&t.set(O0,e)}function bw(t,e){e&&t.set(N0,e)}function Dw(t,e){t.set(s0,e)}function Xh(t){t.set(AI,"1")}function Lw(t){t.has(rd)||t.set(rd,"true")}function Jn(t,e){Object.entries(e).forEach(([n,r])=>{!t.has(n)&&r&&t.set(n,r)})}function Y0(t,e){let n;if(!t)n={};else try{n=JSON.parse(t)}catch{throw Z(Lh)}return e&&e.length>0&&(n.hasOwnProperty(Ns.ACCESS_TOKEN)||(n[Ns.ACCESS_TOKEN]={}),n[Ns.ACCESS_TOKEN][Ns.XMS_CC]={values:e}),JSON.stringify(n)}function Zh(t,e){e&&(t.set(_w,Q.POP),t.set(Pw,e))}function Uw(t,e){e&&(t.set(_w,Q.SSH),t.set(Pw,e))}function Fw(t,e){t.set(S0,e.generateCurrentRequestHeaderValue()),t.set(A0,e.generateLastRequestHeaderValue())}function Hw(t){t.set(E0,yi.X_MS_LIB_CAPABILITY_VALUE)}function J0(t,e){t.set(M0,e)}function Oc(t,e,n){t.has(Ba)||t.set(Ba,e),t.has(ja)||t.set(ja,n)}function X0(t,e){t.set(F0,encodeURIComponent(e));const n="eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0";t.set(H0,n)}function Z0(t,e){Object.entries(e).forEach(([n,r])=>{r&&t.set(n,r)})}/*! @azure/msal-common v15.12.0 2025-08-19 */const Ut={Default:0,Adfs:1,Dsts:2,Ciam:3};/*! @azure/msal-common v15.12.0 2025-08-19 */function eR(t){return t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri")}/*! @azure/msal-common v15.12.0 2025-08-19 */function tR(t){return t.hasOwnProperty("tenant_discovery_endpoint")&&t.hasOwnProperty("metadata")}/*! @azure/msal-common v15.12.0 2025-08-19 */function nR(t){return t.hasOwnProperty("error")&&t.hasOwnProperty("error_description")}/*! @azure/msal-common v15.12.0 2025-08-19 */const vt=(t,e,n,r,o)=>(...i)=>{n.trace(`Executing function ${e}`);const s=r==null?void 0:r.startMeasurement(e,o);if(o){const a=e+"CallCount";r==null||r.incrementFields({[a]:1},o)}try{const a=t(...i);return s==null||s.end({success:!0}),n.trace(`Returning result from ${e}`),a}catch(a){n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(a))}catch{n.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a}},k=(t,e,n,r,o)=>(...i)=>{n.trace(`Executing function ${e}`);const s=r==null?void 0:r.startMeasurement(e,o);if(o){const a=e+"CallCount";r==null||r.incrementFields({[a]:1},o)}return r==null||r.setPreQueueTime(e,o),t(...i).then(a=>(n.trace(`Returning result from ${e}`),s==null||s.end({success:!0}),a)).catch(a=>{n.trace(`Error occurred in ${e}`);try{n.trace(JSON.stringify(a))}catch{n.trace("Unable to print error message.")}throw s==null||s.end({success:!1},a),a})};/*! @azure/msal-common v15.12.0 2025-08-19 */class Nc{constructor(e,n,r,o){this.networkInterface=e,this.logger=n,this.performanceClient=r,this.correlationId=o}async detectRegion(e,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(C.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)n.region_source=Wr.ENVIRONMENT_VARIABLE;else{const i=Nc.IMDS_OPTIONS;try{const s=await k(this.getRegionFromIMDS.bind(this),C.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(I.IMDS_VERSION,i);if(s.status===Bn.SUCCESS&&(r=s.body,n.region_source=Wr.IMDS),s.status===Bn.BAD_REQUEST){const a=await k(this.getCurrentVersion.bind(this),C.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(i);if(!a)return n.region_source=Wr.FAILED_AUTO_DETECTION,null;const c=await k(this.getRegionFromIMDS.bind(this),C.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a,i);c.status===Bn.SUCCESS&&(r=c.body,n.region_source=Wr.IMDS)}}catch{return n.region_source=Wr.FAILED_AUTO_DETECTION,null}}return r||(n.region_source=Wr.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,n){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(C.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${I.IMDS_ENDPOINT}?api-version=${e}&format=text`,n,I.IMDS_TIMEOUT)}async getCurrentVersion(e){var n;(n=this.performanceClient)==null||n.addQueueMeasurement(C.RegionDiscoveryGetCurrentVersion,this.correlationId);try{const r=await this.networkInterface.sendGetRequestAsync(`${I.IMDS_ENDPOINT}?format=json`,e);return r.status===Bn.BAD_REQUEST&&r.body&&r.body["newest-versions"]&&r.body["newest-versions"].length>0?r.body["newest-versions"][0]:null}catch{return null}}}Nc.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v15.12.0 2025-08-19 */function lt(){return Math.round(new Date().getTime()/1e3)}function Mm(t){return t.getTime()/1e3}function To(t){return t?new Date(Number(t)*1e3):new Date}function za(t,e){const n=Number(t)||0;return lt()+e>n}function rR(t,e){const n=Number(t)+e*24*60*60*1e3;return Date.now()>n}function oR(t){return Number(t)>lt()}/*! @azure/msal-common v15.12.0 2025-08-19 */function xc(t,e,n,r,o){return{credentialType:Le.ID_TOKEN,homeAccountId:t,environment:e,clientId:r,secret:n,realm:o,lastUpdatedAt:Date.now().toString()}}function Mc(t,e,n,r,o,i,s,a,c,l,u,d,h,p,v){var T,g;const y={homeAccountId:t,credentialType:Le.ACCESS_TOKEN,secret:n,cachedAt:lt().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:e,clientId:r,realm:o,target:i,tokenType:u||Q.BEARER,lastUpdatedAt:Date.now().toString()};if(d&&(y.userAssertionHash=d),l&&(y.refreshOn=l.toString()),p&&(y.requestedClaims=p,y.requestedClaimsHash=v),((T=y.tokenType)==null?void 0:T.toLowerCase())!==Q.BEARER.toLowerCase())switch(y.credentialType=Le.ACCESS_TOKEN_WITH_AUTH_SCHEME,y.tokenType){case Q.POP:const f=Uo(n,c);if(!((g=f==null?void 0:f.cnf)!=null&&g.kid))throw N(tw);y.keyId=f.cnf.kid;break;case Q.SSH:y.keyId=h}return y}function Bw(t,e,n,r,o,i,s){const a={credentialType:Le.REFRESH_TOKEN,homeAccountId:t,environment:e,clientId:r,secret:n,lastUpdatedAt:Date.now().toString()};return i&&(a.userAssertionHash=i),o&&(a.familyId=o),s&&(a.expiresOn=s.toString()),a}function ef(t){return t.hasOwnProperty("homeAccountId")&&t.hasOwnProperty("environment")&&t.hasOwnProperty("credentialType")&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("secret")}function bm(t){return t?ef(t)&&t.hasOwnProperty("realm")&&t.hasOwnProperty("target")&&(t.credentialType===Le.ACCESS_TOKEN||t.credentialType===Le.ACCESS_TOKEN_WITH_AUTH_SCHEME):!1}function iR(t){return t?ef(t)&&t.hasOwnProperty("realm")&&t.credentialType===Le.ID_TOKEN:!1}function Dm(t){return t?ef(t)&&t.credentialType===Le.REFRESH_TOKEN:!1}function sR(t,e){const n=t.indexOf(be.CACHE_KEY)===0;let r=!0;return e&&(r=e.hasOwnProperty("failedRequests")&&e.hasOwnProperty("errors")&&e.hasOwnProperty("cacheHits")),n&&r}function aR(t,e){let n=!1;t&&(n=t.indexOf(yi.THROTTLING_PREFIX)===0);let r=!0;return e&&(r=e.hasOwnProperty("throttleTime")),n&&r}function cR({environment:t,clientId:e}){return[Ih,t,e].join(Ki.CACHE_KEY_SEPARATOR).toLowerCase()}function lR(t,e){return e?t.indexOf(Ih)===0&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("environment"):!1}function uR(t,e){return e?t.indexOf(Ma.CACHE_KEY)===0&&e.hasOwnProperty("aliases")&&e.hasOwnProperty("preferred_cache")&&e.hasOwnProperty("preferred_network")&&e.hasOwnProperty("canonical_authority")&&e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("aliasesFromNetwork")&&e.hasOwnProperty("endpointsFromNetwork")&&e.hasOwnProperty("expiresAt")&&e.hasOwnProperty("jwks_uri"):!1}function Lm(){return lt()+Ma.REFRESH_TIME_SECONDS}function bs(t,e,n){t.authorization_endpoint=e.authorization_endpoint,t.token_endpoint=e.token_endpoint,t.end_session_endpoint=e.end_session_endpoint,t.issuer=e.issuer,t.endpointsFromNetwork=n,t.jwks_uri=e.jwks_uri}function Dl(t,e,n){t.aliases=e.aliases,t.preferred_cache=e.preferred_cache,t.preferred_network=e.preferred_network,t.aliasesFromNetwork=n}function Um(t){return t.expiresAt<=lt()}/*! @azure/msal-common v15.12.0 2025-08-19 */class Ve{constructor(e,n,r,o,i,s,a,c){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=n,this.cacheManager=r,this.authorityOptions=o,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=a,this.correlationId=s,this.managedIdentity=c||!1,this.regionDiscovery=new Nc(n,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(I.CIAM_AUTH_URL))return Ut.Ciam;const n=e.PathSegments;if(n.length)switch(n[0].toLowerCase()){case I.ADFS:return Ut.Adfs;case I.DSTS:return Ut.Dsts}return Ut.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new q(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw N(dn)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw N(dn)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw N(dn)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw N(ow);return this.replacePath(this.metadata.end_session_endpoint)}else throw N(dn)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw N(dn)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw N(dn)}canReplaceTenant(e){return e.PathSegments.length===1&&!Ve.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===Ut.Default&&this.protocolMode!==at.OIDC}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let n=e;const o=new q(this.metadata.canonical_authority).getUrlComponents(),i=o.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((a,c)=>{let l=i[c];if(c===0&&this.canReplaceTenant(o)){const u=new q(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];l!==u&&(this.logger.verbose(`Replacing tenant domain name ${l} with id ${u}`),l=u)}a!==l&&(n=n.replace(`/${l}/`,`/${a}/`))}),this.replaceTenant(n)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===Ut.Adfs||this.protocolMode===at.OIDC&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){var o,i;(o=this.performanceClient)==null||o.addQueueMeasurement(C.AuthorityResolveEndpointsAsync,this.correlationId);const e=this.getCurrentMetadataEntity(),n=await k(this.updateCloudDiscoveryMetadata.bind(this),C.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const r=await k(this.updateEndpointMetadata.bind(this),C.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,n,{source:r}),(i=this.performanceClient)==null||i.addFields({cloudDiscoverySource:n,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Lm(),jwks_uri:""}),e}updateCachedMetadata(e,n,r){n!==ht.CACHE&&(r==null?void 0:r.source)!==ht.CACHE&&(e.expiresAt=Lm(),e.canonical_authority=this.canonicalAuthority);const o=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(o,e),this.metadata=e}async updateEndpointMetadata(e){var o,i,s;(o=this.performanceClient)==null||o.addQueueMeasurement(C.AuthorityUpdateEndpointMetadata,this.correlationId);const n=this.updateEndpointMetadataFromLocalSources(e);if(n){if(n.source===ht.HARDCODED_VALUES&&(i=this.authorityOptions.azureRegionConfiguration)!=null&&i.azureRegion&&n.metadata){const a=await k(this.updateMetadataWithRegionalInformation.bind(this),C.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(n.metadata);bs(e,a,!1),e.canonical_authority=this.canonicalAuthority}return n.source}let r=await k(this.getEndpointMetadataFromNetwork.bind(this),C.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return(s=this.authorityOptions.azureRegionConfiguration)!=null&&s.azureRegion&&(r=await k(this.updateMetadataWithRegionalInformation.bind(this),C.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),bs(e,r,!0),ht.NETWORK;throw N($C,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const n=this.getEndpointMetadataFromConfig();if(n)return this.logger.verbose("Found endpoint metadata in authority configuration"),bs(e,n,!1),{source:ht.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const o=this.getEndpointMetadataFromHardcodedValues();if(o)return bs(e,o,!1),{source:ht.HARDCODED_VALUES,metadata:o};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const r=Um(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:ht.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new q(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch{throw Z(hw)}return null}async getEndpointMetadataFromNetwork(){var r;(r=this.performanceClient)==null||r.addQueueMeasurement(C.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);const e={},n=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${n}`);try{const o=await this.networkInterface.sendGetRequestAsync(n,e);return eR(o.body)?o.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(o){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${o}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in _m?_m[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){var r,o,i;(r=this.performanceClient)==null||r.addQueueMeasurement(C.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);const n=(o=this.authorityOptions.azureRegionConfiguration)==null?void 0:o.azureRegion;if(n){if(n!==I.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Ml.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=n,Ve.replaceWithRegionalInformation(e,n);const s=await k(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),C.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)((i=this.authorityOptions.azureRegionConfiguration)==null?void 0:i.environmentRegion,this.regionDiscoveryMetadata);if(s)return this.regionDiscoveryMetadata.region_outcome=Ml.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=s,Ve.replaceWithRegionalInformation(e,s);this.regionDiscoveryMetadata.region_outcome=Ml.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(C.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);const n=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(n)return n;const r=await k(this.getCloudDiscoveryMetadataFromNetwork.bind(this),C.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return Dl(e,r,!0),ht.NETWORK;throw Z(fw)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||I.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||I.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||I.NOT_APPLICABLE}`);const n=this.getCloudDiscoveryMetadataFromConfig();if(n)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),Dl(e,n,!1),ht.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const o=GI(this.hostnameAndPort);if(o)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),Dl(e,o,!1),ht.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}const r=Um(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),ht.CACHE):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===Ut.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Ve.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),n=Ua(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),n)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),n;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch{throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),Z(Fh)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Ve.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(C.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);const e=`${I.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,n={};let r=null;try{const i=await this.networkInterface.sendGetRequestAsync(e,n);let s,a;if(tR(i.body))s=i.body,a=s.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${s.tenant_discovery_endpoint}`);else if(nR(i.body)){if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${i.status}`),s=i.body,s.error===I.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${s.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${s.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),a=[]}else return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),r=Ua(a,this.hostnameAndPort)}catch(i){if(i instanceof X)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${i.errorCode}
Error Description: ${i.errorMessage}`);else{const s=i;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${s.name}
Error Description: ${s.message}`)}return null}return r||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),r=Ve.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),r}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(n=>n&&q.getDomainFromUrl(n).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,n){let r;if(n&&n.azureCloudInstance!==Dh.None){const o=n.tenant?n.tenant:I.DEFAULT_COMMON_TENANT;r=`${n.azureCloudInstance}/${o}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return I.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw N(dn)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Aw.has(e)}static isPublicCloudAuthority(e){return I.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,n,r){const o=new q(e);o.validateAsUri();const i=o.getUrlComponents();let s=`${n}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(s=`${n}.${I.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const a=q.constructAuthorityUriFromObject({...o.getUrlComponents(),HostNameAndPort:s}).urlString;return r?`${a}?${r}`:a}static replaceWithRegionalInformation(e,n){const r={...e};return r.authorization_endpoint=Ve.buildRegionalAuthorityString(r.authorization_endpoint,n),r.token_endpoint=Ve.buildRegionalAuthorityString(r.token_endpoint,n),r.end_session_endpoint&&(r.end_session_endpoint=Ve.buildRegionalAuthorityString(r.end_session_endpoint,n)),r}static transformCIAMAuthority(e){let n=e;const o=new q(e).getUrlComponents();if(o.PathSegments.length===0&&o.HostNameAndPort.endsWith(I.CIAM_AUTH_URL)){const i=o.HostNameAndPort.split(".")[0];n=`${n}${i}${I.AAD_TENANT_DOMAIN_SUFFIX}`}return n}}Ve.reservedTenantDomains=new Set(["{tenant}","{tenantid}",Qn.COMMON,Qn.CONSUMERS,Qn.ORGANIZATIONS]);function dR(t){var o;const r=(o=new q(t).getUrlComponents().PathSegments.slice(-1)[0])==null?void 0:o.toLowerCase();switch(r){case Qn.COMMON:case Qn.ORGANIZATIONS:case Qn.CONSUMERS:return;default:return r}}function jw(t){return t.endsWith(I.FORWARD_SLASH)?t:`${t}${I.FORWARD_SLASH}`}function hR(t){const e=t.cloudDiscoveryMetadata;let n;if(e)try{n=JSON.parse(e)}catch{throw Z(Fh)}return{canonicalAuthority:t.authority?jw(t.authority):void 0,knownAuthorities:t.knownAuthorities,cloudDiscoveryMetadata:n}}/*! @azure/msal-common v15.12.0 2025-08-19 */async function Vw(t,e,n,r,o,i,s){s==null||s.addQueueMeasurement(C.AuthorityFactoryCreateDiscoveredInstance,i);const a=Ve.transformCIAMAuthority(jw(t)),c=new Ve(a,e,n,r,o,i,s);try{return await k(c.resolveEndpointsAsync.bind(c),C.AuthorityResolveEndpointsAsync,o,s,i)(),c}catch{throw N(dn)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Vr extends X{constructor(e,n,r,o,i){super(e,n,r),this.name="ServerError",this.errorNo=o,this.status=i,Object.setPrototypeOf(this,Vr.prototype)}}/*! @azure/msal-common v15.12.0 2025-08-19 */function bc(t,e,n){var r;return{clientId:t,authority:e.authority,scopes:e.scopes,homeAccountIdentifier:n,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid,embeddedClientId:e.embeddedClientId||((r=e.tokenBodyParameters)==null?void 0:r.clientId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class rn{static generateThrottlingStorageKey(e){return`${yi.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,n,r){var s;const o=rn.generateThrottlingStorageKey(n),i=e.getThrottlingCache(o);if(i){if(i.throttleTime<Date.now()){e.removeItem(o,r);return}throw new Vr(((s=i.errorCodes)==null?void 0:s.join(" "))||I.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,n,r,o){if(rn.checkResponseStatus(r)||rn.checkResponseForRetryAfter(r)){const i={throttleTime:rn.calculateThrottleTime(parseInt(r.headers[Qe.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(rn.generateThrottlingStorageKey(n),i,o)}}static checkResponseStatus(e){return e.status===429||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return e.headers?e.headers.hasOwnProperty(Qe.RETRY_AFTER)&&(e.status<200||e.status>=300):!1}static calculateThrottleTime(e){const n=e<=0?0:e,r=Date.now()/1e3;return Math.floor(Math.min(r+(n||yi.DEFAULT_THROTTLE_TIME_SECONDS),r+yi.DEFAULT_MAX_THROTTLE_TIME_SECONDS)*1e3)}static removeThrottle(e,n,r,o){const i=bc(n,r,o),s=this.generateThrottlingStorageKey(i);e.removeItem(s,r.correlationId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Dc extends X{constructor(e,n,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Dc.prototype),this.name="NetworkError",this.error=e,this.httpStatus=n,this.responseHeaders=r}}function si(t,e,n,r){return t.errorMessage=`${t.errorMessage}, additionalErrorInfo: error.name:${r==null?void 0:r.name}, error.message:${r==null?void 0:r.message}`,new Dc(t,e,n)}/*! @azure/msal-common v15.12.0 2025-08-19 */class tf{constructor(e,n){this.config=n0(e),this.logger=new En(this.config.loggerOptions,iw,bh),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=n}createTokenRequestHeaders(e){const n={};if(n[Qe.CONTENT_TYPE]=I.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case Ht.HOME_ACCOUNT_ID:try{const r=wo(e.credential);n[Qe.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case Ht.UPN:n[Qe.CCS_HEADER]=`UPN: ${e.credential}`;break}return n}async executePostToTokenEndpoint(e,n,r,o,i,s){var c;s&&((c=this.performanceClient)==null||c.addQueueMeasurement(s,i));const a=await this.sendPostRequest(o,e,{body:n,headers:r},i);return this.config.serverTelemetryManager&&a.status<500&&a.status!==429&&this.config.serverTelemetryManager.clearTelemetryCache(),a}async sendPostRequest(e,n,r,o){var s,a,c;rn.preProcess(this.cacheManager,e,o);let i;try{i=await k(this.networkClient.sendPostRequestAsync.bind(this.networkClient),C.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,o)(n,r);const l=i.headers||{};(a=this.performanceClient)==null||a.addFields({refreshTokenSize:((s=i.body.refresh_token)==null?void 0:s.length)||0,httpVerToken:l[Qe.X_MS_HTTP_VERSION]||"",requestId:l[Qe.X_MS_REQUEST_ID]||""},o)}catch(l){if(l instanceof Dc){const u=l.responseHeaders;throw u&&((c=this.performanceClient)==null||c.addFields({httpVerToken:u[Qe.X_MS_HTTP_VERSION]||"",requestId:u[Qe.X_MS_REQUEST_ID]||"",contentTypeHeader:u[Qe.CONTENT_TYPE]||void 0,contentLengthHeader:u[Qe.CONTENT_LENGTH]||void 0,httpStatus:l.httpStatus},o)),l.error}throw l instanceof X?l:N(KC)}return rn.postProcess(this.cacheManager,e,i,o),i}async updateAuthority(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(C.UpdateTokenEndpointAuthority,n);const r=`https://${e}/${this.authority.tenant}/`,o=await Vw(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,n,this.performanceClient);this.authority=o}createTokenQueryParameters(e){const n=new Map;return e.embeddedClientId&&Oc(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&Jn(n,e.tokenQueryParameters),Qh(n,e.correlationId),Pc(n,e.correlationId,this.performanceClient),$i(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */function zw(t){return t&&(t.tid||t.tfp||t.acr)||null}/*! @azure/msal-common v15.12.0 2025-08-19 */class $t{getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,loginHint:this.loginHint,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static createAccount(e,n,r){var l,u,d,h,p,v,y;const o=new $t;n.authorityType===Ut.Adfs?o.authorityType=xs.ADFS_ACCOUNT_TYPE:n.protocolMode===at.OIDC?o.authorityType=xs.GENERIC_ACCOUNT_TYPE:o.authorityType=xs.MSSTS_ACCOUNT_TYPE;let i;e.clientInfo&&r&&(i=Ha(e.clientInfo,r)),o.clientInfo=e.clientInfo,o.homeAccountId=e.homeAccountId,o.nativeAccountId=e.nativeAccountId;const s=e.environment||n&&n.getPreferredCache();if(!s)throw N(Nh);o.environment=s,o.realm=(i==null?void 0:i.utid)||zw(e.idTokenClaims)||"",o.localAccountId=(i==null?void 0:i.uid)||((l=e.idTokenClaims)==null?void 0:l.oid)||((u=e.idTokenClaims)==null?void 0:u.sub)||"";const a=((d=e.idTokenClaims)==null?void 0:d.preferred_username)||((h=e.idTokenClaims)==null?void 0:h.upn),c=(p=e.idTokenClaims)!=null&&p.emails?e.idTokenClaims.emails[0]:null;if(o.username=a||c||"",o.loginHint=(v=e.idTokenClaims)==null?void 0:v.login_hint,o.name=((y=e.idTokenClaims)==null?void 0:y.name)||"",o.cloudGraphHostName=e.cloudGraphHostName,o.msGraphHost=e.msGraphHost,e.tenantProfiles)o.tenantProfiles=e.tenantProfiles;else{const T=Bh(e.homeAccountId,o.localAccountId,o.realm,e.idTokenClaims);o.tenantProfiles=[T]}return o}static createFromAccountInfo(e,n,r){var i;const o=new $t;return o.authorityType=e.authorityType||xs.GENERIC_ACCOUNT_TYPE,o.homeAccountId=e.homeAccountId,o.localAccountId=e.localAccountId,o.nativeAccountId=e.nativeAccountId,o.realm=e.tenantId,o.environment=e.environment,o.username=e.username,o.name=e.name,o.loginHint=e.loginHint,o.cloudGraphHostName=n,o.msGraphHost=r,o.tenantProfiles=Array.from(((i=e.tenantProfiles)==null?void 0:i.values())||[]),o}static generateHomeAccountId(e,n,r,o,i){if(!(n===Ut.Adfs||n===Ut.Dsts)){if(e)try{const s=Ha(e,o.base64Decode);if(s.uid&&s.utid)return`${s.uid}.${s.utid}`}catch{}r.warning("No client info in response")}return(i==null?void 0:i.sub)||""}static isAccountEntity(e){return e?e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"):!1}static accountInfoIsEqual(e,n,r){if(!e||!n)return!1;let o=!0;if(r){const i=e.idTokenClaims||{},s=n.idTokenClaims||{};o=i.iat===s.iat&&i.nonce===s.nonce}return e.homeAccountId===n.homeAccountId&&e.localAccountId===n.localAccountId&&e.username===n.username&&e.tenantId===n.tenantId&&e.loginHint===n.loginHint&&e.environment===n.environment&&e.nativeAccountId===n.nativeAccountId&&o}}/*! @azure/msal-common v15.12.0 2025-08-19 */const Ka="no_tokens_found",Kw="native_account_unavailable",nf="refresh_token_expired",rf="ux_not_allowed",fR="interaction_required",pR="consent_required",mR="login_required",Lc="bad_token";/*! @azure/msal-common v15.12.0 2025-08-19 */const Fm=[fR,pR,mR,Lc,rf],gR=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],yR={[Ka]:"No refresh token found in the cache. Please sign-in.",[Kw]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[nf]:"Refresh token has expired.",[Lc]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.",[rf]:"`canShowUI` flag in Edge was set to false. User interaction required on web page. Please invoke an interactive API to resolve."};class Gt extends X{constructor(e,n,r,o,i,s,a,c){super(e,n,r),Object.setPrototypeOf(this,Gt.prototype),this.timestamp=o||I.EMPTY_STRING,this.traceId=i||I.EMPTY_STRING,this.correlationId=s||I.EMPTY_STRING,this.claims=a||I.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=c}}function $w(t,e,n){const r=!!t&&Fm.indexOf(t)>-1,o=!!n&&gR.indexOf(n)>-1,i=!!e&&Fm.some(s=>e.indexOf(s)>-1);return r||i||o}function $a(t){return new Gt(t,yR[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */class Fo{static setRequestState(e,n,r){const o=Fo.generateLibraryState(e,r);return n?`${o}${I.RESOURCE_DELIM}${n}`:o}static generateLibraryState(e,n){if(!e)throw N(ed);const r={id:e.createNewGuid()};n&&(r.meta=n);const o=JSON.stringify(r);return e.base64Encode(o)}static parseRequestState(e,n){if(!e)throw N(ed);if(!n)throw N(Po);try{const r=n.split(I.RESOURCE_DELIM),o=r[0],i=r.length>1?r.slice(1).join(I.RESOURCE_DELIM):I.EMPTY_STRING,s=e.base64Decode(o),a=JSON.parse(s);return{userRequestState:i||I.EMPTY_STRING,libraryState:a}}catch{throw N(Po)}}}/*! @azure/msal-common v15.12.0 2025-08-19 */const vR={SW:"sw"};class Oo{constructor(e,n){this.cryptoUtils=e,this.performanceClient=n}async generateCnf(e,n){var i;(i=this.performanceClient)==null||i.addQueueMeasurement(C.PopTokenGenerateCnf,e.correlationId);const r=await k(this.generateKid.bind(this),C.PopTokenGenerateCnf,n,this.performanceClient,e.correlationId)(e),o=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:o}}async generateKid(e){var r;return(r=this.performanceClient)==null||r.addQueueMeasurement(C.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:vR.SW}}async signPopToken(e,n,r){return this.signPayload(e,n,r)}async signPayload(e,n,r,o){const{resourceRequestMethod:i,resourceRequestUri:s,shrClaims:a,shrNonce:c,shrOptions:l}=r,u=s?new q(s):void 0,d=u==null?void 0:u.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:lt(),m:i==null?void 0:i.toUpperCase(),u:d==null?void 0:d.HostNameAndPort,nonce:c||this.cryptoUtils.createNewGuid(),p:d==null?void 0:d.AbsolutePath,q:d!=null&&d.QueryString?[[],d.QueryString]:void 0,client_claims:a||void 0,...o},n,l,r.correlationId)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class CR{constructor(e,n){this.cache=e,this.hasChanged=n}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}/*! @azure/msal-common v15.12.0 2025-08-19 */class Lr{constructor(e,n,r,o,i,s,a){this.clientId=e,this.cacheStorage=n,this.cryptoObj=r,this.logger=o,this.serializableCache=i,this.persistencePlugin=s,this.performanceClient=a}validateTokenResponse(e,n){var r;if(e.error||e.error_description||e.suberror){const o=`Error(s): ${e.error_codes||I.NOT_AVAILABLE} - Timestamp: ${e.timestamp||I.NOT_AVAILABLE} - Description: ${e.error_description||I.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||I.NOT_AVAILABLE} - Trace ID: ${e.trace_id||I.NOT_AVAILABLE}`,i=(r=e.error_codes)!=null&&r.length?e.error_codes[0]:void 0,s=new Vr(e.error,o,e.suberror,i,e.status);if(n&&e.status&&e.status>=Bn.SERVER_ERROR_RANGE_START&&e.status<=Bn.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${s}`);return}else if(n&&e.status&&e.status>=Bn.CLIENT_ERROR_RANGE_START&&e.status<=Bn.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${s}`);return}throw $w(e.error,e.error_description,e.suberror)?new Gt(e.error,e.error_description,e.suberror,e.timestamp||I.EMPTY_STRING,e.trace_id||I.EMPTY_STRING,e.correlation_id||I.EMPTY_STRING,e.claims||I.EMPTY_STRING,i):s}}async handleServerTokenResponse(e,n,r,o,i,s,a,c,l){var v;(v=this.performanceClient)==null||v.addQueueMeasurement(C.HandleServerTokenResponse,e.correlation_id);let u;if(e.id_token){if(u=Uo(e.id_token||I.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&u.nonce!==i.nonce)throw N(qC);if(o.maxAge||o.maxAge===0){const y=u.auth_time;if(!y)throw N(Ph);ww(y,o.maxAge)}}this.homeAccountIdentifier=$t.generateHomeAccountId(e.client_info||I.EMPTY_STRING,n.authorityType,this.logger,this.cryptoObj,u);let d;i&&i.state&&(d=Fo.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||o.sshKid||void 0;const h=this.generateCacheRecord(e,n,r,o,u,s,i);let p;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),p=new CR(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(p)),a&&!c&&h.account){const y=this.cacheStorage.generateAccountKey(h.account.getAccountInfo());if(!this.cacheStorage.getAccount(y,o.correlationId))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await Lr.generateAuthenticationResult(this.cryptoObj,n,h,!1,o,u,d,void 0,l)}await this.cacheStorage.saveCacheRecord(h,o.correlationId,o.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&p&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(p))}return Lr.generateAuthenticationResult(this.cryptoObj,n,h,!1,o,u,d,e,l)}generateCacheRecord(e,n,r,o,i,s,a){const c=n.getPreferredCache();if(!c)throw N(Nh);const l=zw(i);let u,d;e.id_token&&i&&(u=xc(this.homeAccountIdentifier,c,e.id_token,this.clientId,l||""),d=of(this.cacheStorage,n,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o.correlationId,i,e.client_info,c,l,a,void 0,this.logger));let h=null;if(e.access_token){const y=e.scope?Ie.fromString(e.scope):new Ie(o.scopes||[]),T=(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,g=(typeof e.ext_expires_in=="string"?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,f=(typeof e.refresh_in=="string"?parseInt(e.refresh_in,10):e.refresh_in)||void 0,m=r+T,w=m+g,A=f&&f>0?r+f:void 0;h=Mc(this.homeAccountIdentifier,c,e.access_token,this.clientId,l||n.tenant||"",y.printScopes(),m,w,this.cryptoObj.base64Decode,A,e.token_type,s,e.key_id,o.claims,o.requestedClaimsHash)}let p=null;if(e.refresh_token){let y;if(e.refresh_token_expires_in){const T=typeof e.refresh_token_expires_in=="string"?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in;y=r+T}p=Bw(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,s,y)}let v=null;return e.foci&&(v={clientId:this.clientId,environment:c,familyId:e.foci}),{account:d,idToken:u,accessToken:h,refreshToken:p,appMetadata:v}}static async generateAuthenticationResult(e,n,r,o,i,s,a,c,l){var m,w,A,R,O;let u=I.EMPTY_STRING,d=[],h=null,p,v,y=I.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType===Q.POP&&!i.popKid){const P=new Oo(e),{secret:U,keyId:F}=r.accessToken;if(!F)throw N(xh);u=await P.signPopToken(U,F,i)}else u=r.accessToken.secret;d=Ie.fromString(r.accessToken.target).asArray(),h=To(r.accessToken.expiresOn),p=To(r.accessToken.extendedExpiresOn),r.accessToken.refreshOn&&(v=To(r.accessToken.refreshOn))}r.appMetadata&&(y=r.appMetadata.familyId===xa?xa:"");const T=(s==null?void 0:s.oid)||(s==null?void 0:s.sub)||"",g=(s==null?void 0:s.tid)||"";c!=null&&c.spa_accountid&&r.account&&(r.account.nativeAccountId=c==null?void 0:c.spa_accountid);const f=r.account?jh(r.account.getAccountInfo(),void 0,s,(m=r.idToken)==null?void 0:m.secret):null;return{authority:n.canonicalAuthority,uniqueId:T,tenantId:g,scopes:d,account:f,idToken:((w=r==null?void 0:r.idToken)==null?void 0:w.secret)||"",idTokenClaims:s||{},accessToken:u,fromCache:o,expiresOn:h,extExpiresOn:p,refreshOn:v,correlationId:i.correlationId,requestId:l||I.EMPTY_STRING,familyId:y,tokenType:((A=r.accessToken)==null?void 0:A.tokenType)||I.EMPTY_STRING,state:a?a.userRequestState:I.EMPTY_STRING,cloudGraphHostName:((R=r.account)==null?void 0:R.cloudGraphHostName)||I.EMPTY_STRING,msGraphHost:((O=r.account)==null?void 0:O.msGraphHost)||I.EMPTY_STRING,code:c==null?void 0:c.spa_code,fromNativeBroker:!1}}}function of(t,e,n,r,o,i,s,a,c,l,u,d){d==null||d.verbose("setCachedAccount called");const p=t.getAccountKeys().find(f=>f.startsWith(n));let v=null;p&&(v=t.getAccount(p,o));const y=v||$t.createAccount({homeAccountId:n,idTokenClaims:i,clientInfo:s,environment:a,cloudGraphHostName:l==null?void 0:l.cloud_graph_host_name,msGraphHost:l==null?void 0:l.msgraph_host,nativeAccountId:u},e,r),T=y.tenantProfiles||[],g=c||y.realm;if(g&&!T.find(f=>f.tenantId===g)){const f=Bh(n,y.localAccountId,g,i);T.push(f)}return y.tenantProfiles=T,y}/*! @azure/msal-common v15.12.0 2025-08-19 */async function Gw(t,e,n){return typeof t=="string"?t:t({clientId:e,tokenEndpoint:n})}/*! @azure/msal-common v15.12.0 2025-08-19 */class Ww extends tf{constructor(e,n){var r;super(e,n),this.includeRedirectUri=!0,this.oidcDefaultScopes=(r=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:r.defaultScopes}async acquireToken(e,n){var a,c;if((a=this.performanceClient)==null||a.addQueueMeasurement(C.AuthClientAcquireToken,e.correlationId),!e.code)throw N(JC);const r=lt(),o=await k(this.executeTokenRequest.bind(this),C.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=(c=o.headers)==null?void 0:c[Qe.X_MS_REQUEST_ID],s=new Lr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return s.validateTokenResponse(o.body),k(s.handleServerTokenResponse.bind(s),C.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(o.body,this.authority,r,e,n,void 0,void 0,void 0,i)}getLogoutUri(e){if(!e)throw Z(dw);const n=this.createLogoutUrlQueryString(e);return q.appendQueryString(this.authority.endSessionEndpoint,n)}async executeTokenRequest(e,n){var l;(l=this.performanceClient)==null||l.addQueueMeasurement(C.AuthClientExecuteTokenRequest,n.correlationId);const r=this.createTokenQueryParameters(n),o=q.appendQueryString(e.tokenEndpoint,r),i=await k(this.createTokenRequestBody.bind(this),C.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,n.correlationId)(n);let s;if(n.clientInfo)try{const u=Ha(n.clientInfo,this.cryptoUtils.base64Decode);s={credential:`${u.uid}${Ki.CLIENT_INFO_SEPARATOR}${u.utid}`,type:Ht.HOME_ACCOUNT_ID}}catch(u){this.logger.verbose("Could not parse client info for CCS Header: "+u)}const a=this.createTokenRequestHeaders(s||n.ccsCredential),c=bc(this.config.authOptions.clientId,n);return k(this.executePostToTokenEndpoint.bind(this),C.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,n.correlationId)(o,i,a,c,n.correlationId,C.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var o,i;(o=this.performanceClient)==null||o.addQueueMeasurement(C.AuthClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(Gh(n,e.embeddedClientId||((i=e.tokenBodyParameters)==null?void 0:i[Dr])||this.config.authOptions.clientId),this.includeRedirectUri)Wh(n,e.redirectUri);else if(!e.redirectUri)throw Z(sw);if($h(n,e.scopes,!0,this.oidcDefaultScopes),W0(n,e.code),Yh(n,this.config.libraryInfo),Jh(n,this.config.telemetry.application),Hw(n),this.serverTelemetryManager&&!Iw(this.config)&&Fw(n,this.serverTelemetryManager),e.codeVerifier&&Q0(n,e.codeVerifier),this.config.clientCredentials.clientSecret&&xw(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;Mw(n,await Gw(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),bw(n,s.assertionType)}if(Dw(n,BC.AUTHORIZATION_CODE_GRANT),Xh(n),e.authenticationScheme===Q.POP){const s=new Oo(this.cryptoUtils,this.performanceClient);let a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await k(s.generateCnf.bind(s),C.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,Zh(n,a)}else if(e.authenticationScheme===Q.SSH)if(e.sshJwk)Uw(n,e.sshJwk);else throw Z(_c);(!yt.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&qh(n,e.claims,this.config.authOptions.clientCapabilities);let r;if(e.clientInfo)try{const s=Ha(e.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${s.uid}${Ki.CLIENT_INFO_SEPARATOR}${s.utid}`,type:Ht.HOME_ACCOUNT_ID}}catch(s){this.logger.verbose("Could not parse client info for CCS Header: "+s)}else r=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&r)switch(r.type){case Ht.HOME_ACCOUNT_ID:try{const s=wo(r.credential);vi(n,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Ht.UPN:Va(n,r.credential);break}return e.embeddedClientId&&Oc(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Jn(n,e.tokenBodyParameters),e.enableSpaAuthorizationCode&&(!e.tokenBodyParameters||!e.tokenBodyParameters[Nm])&&Jn(n,{[Nm]:"1"}),Pc(n,e.correlationId,this.performanceClient),$i(n)}createLogoutUrlQueryString(e){const n=new Map;return e.postLogoutRedirectUri&&V0(n,e.postLogoutRedirectUri),e.correlationId&&Qh(n,e.correlationId),e.idTokenHint&&z0(n,e.idTokenHint),e.state&&Ow(n,e.state),e.logoutHint&&J0(n,e.logoutHint),e.extraQueryParameters&&Jn(n,e.extraQueryParameters),this.config.authOptions.instanceAware&&Lw(n),$i(n,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const wR=300;class TR extends tf{constructor(e,n){super(e,n)}async acquireToken(e){var s,a;(s=this.performanceClient)==null||s.addQueueMeasurement(C.RefreshTokenClientAcquireToken,e.correlationId);const n=lt(),r=await k(this.executeTokenRequest.bind(this),C.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),o=(a=r.headers)==null?void 0:a[Qe.X_MS_REQUEST_ID],i=new Lr(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(r.body),k(i.handleServerTokenResponse.bind(i),C.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,void 0,void 0,!0,e.forceCache,o)}async acquireTokenByRefreshToken(e){var r;if(!e)throw Z(uw);if((r=this.performanceClient)==null||r.addQueueMeasurement(C.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw N(Oh);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await k(this.acquireTokenWithCachedRefreshToken.bind(this),C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(o){const i=o instanceof Gt&&o.errorCode===Ka,s=o instanceof Vr&&o.errorCode===Sm.INVALID_GRANT_ERROR&&o.subError===Sm.CLIENT_MISMATCH_ERROR;if(i||s)return k(this.acquireTokenWithCachedRefreshToken.bind(this),C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1);throw o}return k(this.acquireTokenWithCachedRefreshToken.bind(this),C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,n){var i,s,a;(i=this.performanceClient)==null||i.addQueueMeasurement(C.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);const r=vt(this.cacheManager.getRefreshToken.bind(this.cacheManager),C.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,n,e.correlationId,void 0,this.performanceClient);if(!r)throw $a(Ka);if(r.expiresOn&&za(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||wR))throw(s=this.performanceClient)==null||s.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),$a(nf);const o={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||Q.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:Ht.HOME_ACCOUNT_ID}};try{return await k(this.acquireToken.bind(this),C.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(o)}catch(c){if(c instanceof Gt&&((a=this.performanceClient)==null||a.addFields({rtExpiresOnMs:Number(r.expiresOn)},e.correlationId),c.subError===Lc)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const l=this.cacheManager.generateCredentialKey(r);this.cacheManager.removeRefreshToken(l,e.correlationId)}throw c}}async executeTokenRequest(e,n){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(C.RefreshTokenClientExecuteTokenRequest,e.correlationId);const r=this.createTokenQueryParameters(e),o=q.appendQueryString(n.tokenEndpoint,r),i=await k(this.createTokenRequestBody.bind(this),C.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),s=this.createTokenRequestHeaders(e.ccsCredential),a=bc(this.config.authOptions.clientId,e);return k(this.executePostToTokenEndpoint.bind(this),C.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(o,i,s,a,e.correlationId,C.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){var r,o,i;(r=this.performanceClient)==null||r.addQueueMeasurement(C.RefreshTokenClientCreateTokenRequestBody,e.correlationId);const n=new Map;if(Gh(n,e.embeddedClientId||((o=e.tokenBodyParameters)==null?void 0:o[Dr])||this.config.authOptions.clientId),e.redirectUri&&Wh(n,e.redirectUri),$h(n,e.scopes,!0,(i=this.config.authOptions.authority.options.OIDCOptions)==null?void 0:i.defaultScopes),Dw(n,BC.REFRESH_TOKEN_GRANT),Xh(n),Yh(n,this.config.libraryInfo),Jh(n,this.config.telemetry.application),Hw(n),this.serverTelemetryManager&&!Iw(this.config)&&Fw(n,this.serverTelemetryManager),q0(n,e.refreshToken),this.config.clientCredentials.clientSecret&&xw(n,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const s=this.config.clientCredentials.clientAssertion;Mw(n,await Gw(s.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),bw(n,s.assertionType)}if(e.authenticationScheme===Q.POP){const s=new Oo(this.cryptoUtils,this.performanceClient);let a;e.popKid?a=this.cryptoUtils.encodeKid(e.popKid):a=(await k(s.generateCnf.bind(s),C.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,Zh(n,a)}else if(e.authenticationScheme===Q.SSH)if(e.sshJwk)Uw(n,e.sshJwk);else throw Z(_c);if((!yt.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&qh(n,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case Ht.HOME_ACCOUNT_ID:try{const s=wo(e.ccsCredential.credential);vi(n,s)}catch(s){this.logger.verbose("Could not parse home account ID for CCS Header: "+s)}break;case Ht.UPN:Va(n,e.ccsCredential.credential);break}return e.embeddedClientId&&Oc(n,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&Jn(n,e.tokenBodyParameters),Pc(n,e.correlationId,this.performanceClient),$i(n)}}/*! @azure/msal-common v15.12.0 2025-08-19 */class SR extends tf{constructor(e,n){super(e,n)}async acquireCachedToken(e){var c;(c=this.performanceClient)==null||c.addQueueMeasurement(C.SilentFlowClientAcquireCachedToken,e.correlationId);let n=yr.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!yt.isEmptyObj(e.claims))throw this.setCacheOutcome(yr.FORCE_REFRESH_OR_CLAIMS,e.correlationId),N(Yn);if(!e.account)throw N(Oh);const r=e.account.tenantId||dR(e.authority),o=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,o,r);if(i){if(oR(i.cachedAt)||za(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(yr.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),N(Yn);i.refreshOn&&za(i.refreshOn,0)&&(n=yr.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(yr.NO_CACHED_ACCESS_TOKEN,e.correlationId),N(Yn);const s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.getAccount(this.cacheManager.generateAccountKey(e.account),e.correlationId),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,o,r,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(n,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await k(this.generateResultFromCacheRecord.bind(this),C.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(a,e),n]}setCacheOutcome(e,n){var r,o;(r=this.serverTelemetryManager)==null||r.setCacheOutcome(e),(o=this.performanceClient)==null||o.addFields({cacheOutcome:e},n),e!==yr.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,n){var o;(o=this.performanceClient)==null||o.addQueueMeasurement(C.SilentFlowClientGenerateResultFromCacheRecord,n.correlationId);let r;if(e.idToken&&(r=Uo(e.idToken.secret,this.config.cryptoInterface.base64Decode)),n.maxAge||n.maxAge===0){const i=r==null?void 0:r.auth_time;if(!i)throw N(Ph);ww(i,n.maxAge)}return Lr.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,n,r)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const AR={sendGetRequestAsync:()=>Promise.reject(N($)),sendPostRequestAsync:()=>Promise.reject(N($))};/*! @azure/msal-common v15.12.0 2025-08-19 */function ER(t,e,n,r){var a,c;const o=e.correlationId,i=new Map;Gh(i,e.embeddedClientId||((a=e.extraQueryParameters)==null?void 0:a[Dr])||t.clientId);const s=[...e.scopes||[],...e.extraScopesToConsent||[]];if($h(i,s,!0,(c=t.authority.options.OIDCOptions)==null?void 0:c.defaultScopes),Wh(i,e.redirectUri),Qh(i,o),B0(i,e.responseMode),Xh(i),e.prompt&&($0(i,e.prompt),r==null||r.addFields({prompt:e.prompt},o)),e.domainHint&&(K0(i,e.domainHint),r==null||r.addFields({domainHintFromRequest:!0},o)),e.prompt!==Ye.SELECT_ACCOUNT)if(e.sid&&e.prompt===Ye.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),xm(i,e.sid),r==null||r.addFields({sidFromRequest:!0},o);else if(e.account){const l=RR(e.account);let u=_R(e.account);if(u&&e.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),u=null),u){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),Ms(i,u),r==null||r.addFields({loginHintFromClaim:!0},o);try{const d=wo(e.account.homeAccountId);vi(i,d)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(l&&e.prompt===Ye.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),xm(i,l),r==null||r.addFields({sidFromClaim:!0},o);try{const d=wo(e.account.homeAccountId);vi(i,d)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),Ms(i,e.loginHint),Va(i,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},o);else if(e.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),Ms(i,e.account.username),r==null||r.addFields({loginHintFromUpn:!0},o);try{const d=wo(e.account.homeAccountId);vi(i,d)}catch{n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),Ms(i,e.loginHint),Va(i,e.loginHint),r==null||r.addFields({loginHintFromRequest:!0},o));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&G0(i,e.nonce),e.state&&Ow(i,e.state),(e.claims||t.clientCapabilities&&t.clientCapabilities.length>0)&&qh(i,e.claims,t.clientCapabilities),e.embeddedClientId&&Oc(i,t.clientId,t.redirectUri),t.instanceAware&&(!e.extraQueryParameters||!Object.keys(e.extraQueryParameters).includes(rd))&&Lw(i),i}function sf(t,e,n,r){const o=$i(e,n,r);return q.appendQueryString(t.authorizationEndpoint,o)}function kR(t,e){if(qw(t,e),!t.code)throw N(nw);return t}function qw(t,e){if(!t.state||!e)throw t.state?N(Ju,"Cached State"):N(Ju,"Server State");let n,r;try{n=decodeURIComponent(t.state)}catch{throw N(Po,t.state)}try{r=decodeURIComponent(e)}catch{throw N(Po,t.state)}if(n!==r)throw N(WC);if(t.error||t.error_description||t.suberror){const o=IR(t);throw $w(t.error,t.error_description,t.suberror)?new Gt(t.error||"",t.error_description,t.suberror,t.timestamp||"",t.trace_id||"",t.correlation_id||"",t.claims||"",o):new Vr(t.error||"",t.error_description,t.suberror,o)}}function IR(t){var r,o;const e="code=",n=(r=t.error_uri)==null?void 0:r.lastIndexOf(e);return n&&n>=0?(o=t.error_uri)==null?void 0:o.substring(n+e.length):void 0}function RR(t){var e;return((e=t.idTokenClaims)==null?void 0:e.sid)||null}function _R(t){var e;return t.loginHint||((e=t.idTokenClaims)==null?void 0:e.login_hint)||null}/*! @azure/msal-common v15.12.0 2025-08-19 */const Hm=",",Qw="|";function PR(t){const{skus:e,libraryName:n,libraryVersion:r,extensionName:o,extensionVersion:i}=t,s=new Map([[0,[n,r]],[2,[o,i]]]);let a=[];if(e!=null&&e.length){if(a=e.split(Hm),a.length<4)return e}else a=Array.from({length:4},()=>Qw);return s.forEach((c,l)=>{var u,d;c.length===2&&((u=c[0])!=null&&u.length)&&((d=c[1])!=null&&d.length)&&OR({skuArr:a,index:l,skuName:c[0],skuVersion:c[1]})}),a.join(Hm)}function OR(t){const{skuArr:e,index:n,skuName:r,skuVersion:o}=t;n>=e.length||(e[n]=[r,o].join(Qw))}class Gi{constructor(e,n){this.cacheOutcome=yr.NOT_APPLICABLE,this.cacheManager=n,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||I.EMPTY_STRING,this.wrapperVer=e.wrapperVer||I.EMPTY_STRING,this.telemetryCacheKey=be.CACHE_KEY+Ki.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${be.VALUE_SEPARATOR}${this.cacheOutcome}`,n=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r!=null&&r.length&&n.push(`broker_error=${r}`);const o=n.join(be.VALUE_SEPARATOR),i=this.getRegionDiscoveryFields(),s=[e,i].join(be.VALUE_SEPARATOR);return[be.SCHEMA_VERSION,s,o].join(be.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),n=Gi.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*n).join(be.VALUE_SEPARATOR),o=e.errors.slice(0,n).join(be.VALUE_SEPARATOR),i=e.errors.length,s=n<i?be.OVERFLOW_TRUE:be.OVERFLOW_FALSE,a=[i,s].join(be.VALUE_SEPARATOR);return[be.SCHEMA_VERSION,e.cacheHits,r,o,a].join(be.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const n=this.getLastRequests();n.errors.length>=be.MAX_CACHED_ERRORS&&(n.failedRequests.shift(),n.failedRequests.shift(),n.errors.shift()),n.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof X?e.subError?n.errors.push(e.subError):e.errorCode?n.errors.push(e.errorCode):n.errors.push(e.toString()):n.errors.push(e.toString()):n.errors.push(be.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){const e={failedRequests:[],errors:[],cacheHits:0};return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e}clearTelemetryCache(){const e=this.getLastRequests(),n=Gi.maxErrorsToSend(e),r=e.errors.length;if(n===r)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{const o={failedRequests:e.failedRequests.slice(n*2),errors:e.errors.slice(n),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,o,this.correlationId)}}static maxErrorsToSend(e){let n,r=0,o=0;const i=e.errors.length;for(n=0;n<i;n++){const s=e.failedRequests[2*n]||I.EMPTY_STRING,a=e.failedRequests[2*n+1]||I.EMPTY_STRING,c=e.errors[n]||I.EMPTY_STRING;if(o+=s.toString().length+a.toString().length+c.length+3,o<be.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||I.EMPTY_STRING),e.push(this.regionSource||I.EMPTY_STRING),e.push(this.regionOutcome||I.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const n=this.getLastRequests();n.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return PR(e)}}/*! @azure/msal-common v15.12.0 2025-08-19 */const Yw="missing_kid_error",Jw="missing_alg_error";/*! @azure/msal-common v15.12.0 2025-08-19 */const NR={[Yw]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Jw]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class af extends X{constructor(e,n){super(e,n),this.name="JoseHeaderError",Object.setPrototypeOf(this,af.prototype)}}function Bm(t){return new af(t,NR[t])}/*! @azure/msal-common v15.12.0 2025-08-19 */class cf{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Bm(Yw);if(!e.alg)throw Bm(Jw);const n=new cf({typ:e.typ||EI.Pop,kid:e.kid,alg:e.alg});return JSON.stringify(n)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const lf="pkce_not_created",uf="ear_jwk_empty",Xw="ear_jwe_empty",od="crypto_nonexistent",Uc="empty_navigate_uri",Zw="hash_empty_error",df="no_state_in_hash",eT="hash_does_not_contain_known_properties",tT="unable_to_parse_state",nT="state_interaction_type_mismatch",rT="interaction_in_progress",oT="popup_window_error",iT="empty_window_error",Wi="user_cancelled",xR="monitor_popup_timeout",sT="monitor_window_timeout",aT="redirect_in_iframe",cT="block_iframe_reload",lT="block_nested_popups",MR="iframe_closed_prematurely",Fc="silent_logout_unsupported",uT="no_account_error",bR="silent_prompt_value_error",dT="no_token_request_cache_error",hT="unable_to_parse_token_request_cache_error",DR="auth_request_not_set_error",LR="invalid_cache_type",Hc="non_browser_environment",qr="database_not_open",Ga="no_network_connectivity",fT="post_request_failed",pT="get_request_failed",id="failed_to_parse_response",mT="unable_to_load_token",hf="crypto_key_not_found",gT="auth_code_required",yT="auth_code_or_nativeAccountId_required",vT="spa_code_and_nativeAccountId_present",ff="database_unavailable",CT="unable_to_acquire_token_from_native_platform",wT="native_handshake_timeout",TT="native_extension_not_installed",pf="native_connection_not_established",Ci="uninitialized_public_client_application",ST="native_prompt_not_supported",AT="invalid_base64_string",ET="invalid_pop_token_request",kT="failed_to_build_headers",IT="failed_to_parse_headers",ea="failed_to_decrypt_ear_response",Wa="timed_out";/*! @azure/msal-browser v4.22.1 2025-09-09 */const ln="For more visit: aka.ms/msaljs/browser-errors",UR={[lf]:"The PKCE code challenge and verifier could not be generated.",[uf]:"No EAR encryption key provided. This is unexpected.",[Xw]:"Server response does not contain ear_jwe property. This is unexpected.",[od]:"The crypto object or function is not available.",[Uc]:"Navigation URI is empty. Please check stack trace for more info.",[Zw]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${ln}`,[df]:"Hash does not contain state. Please verify that the request originated from msal.",[eT]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${ln}`,[tT]:"Unable to parse state. Please verify that the request originated from msal.",[nT]:"Hash contains state but the interaction type does not match the caller.",[rT]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${ln}`,[oT]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[iT]:"window.open returned null or undefined window object.",[Wi]:"User cancelled the flow.",[xR]:`Token acquisition in popup failed due to timeout.  ${ln}`,[sT]:`Token acquisition in iframe failed due to timeout.  ${ln}`,[aT]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[cT]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${ln}`,[lT]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[MR]:"The iframe being monitored was closed prematurely.",[Fc]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[uT]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[bR]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[dT]:"No token request found in cache.",[hT]:"The cached token request could not be parsed.",[DR]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[LR]:"Invalid cache type",[Hc]:"Login and token requests are not supported in non-browser environments.",[qr]:"Database is not open!",[Ga]:"No network connectivity. Check your internet connection.",[fT]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[pT]:"Network request failed. Please check the network trace to determine root cause.",[id]:"Failed to parse network response. Check network trace.",[mT]:"Error loading token to cache.",[hf]:"Cryptographic Key or Keypair not found in browser storage.",[gT]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[yT]:"An authorization code or nativeAccountId must be provided to this flow.",[vT]:"Request cannot contain both spa code and native account id.",[ff]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[CT]:`Unable to acquire token from native platform.  ${ln}`,[wT]:"Timed out while attempting to establish connection to browser extension",[TT]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[pf]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${ln}`,[Ci]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${ln}`,[ST]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[AT]:"Invalid base64 encoded string.",[ET]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[kT]:"Failed to build request headers object.",[IT]:"Failed to parse response headers",[ea]:"Failed to decrypt ear response",[Wa]:"The request timed out."};class is extends X{constructor(e,n){super(e,UR[e],n),Object.setPrototypeOf(this,is.prototype),this.name="BrowserAuthError"}}function M(t,e){return new is(t,e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const nt={INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",DEFAULT_POLL_INTERVAL_MS:30,MSAL_SKU:"msal.js.browser"},_t={CHANNEL_ID:"53ee284d-920a-4b59-9d30-a60315b26836",PREFERRED_EXTENSION_ID:"ppnbnpeolgkicgegkbkbjmhlideopiji",MATS_TELEMETRY:"MATS",MICROSOFT_ENTRA_BROKERID:"MicrosoftEntra",DOM_API_NAME:"DOM API",PLATFORM_DOM_APIS:"get-token-and-sign-out",PLATFORM_DOM_PROVIDER:"PlatformAuthDOMHandler",PLATFORM_EXTENSION_PROVIDER:"PlatformAuthExtensionHandler"},Jo={HandshakeRequest:"Handshake",HandshakeResponse:"HandshakeResponse",GetToken:"GetToken",Response:"Response"},Re={LocalStorage:"localStorage",SessionStorage:"sessionStorage",MemoryStorage:"memoryStorage"},jm={GET:"GET",POST:"POST"},Un={SIGNIN:"signin",SIGNOUT:"signout"},we={ORIGIN_URI:"request.origin",URL_HASH:"urlHash",REQUEST_PARAMS:"request.params",VERIFIER:"code.verifier",INTERACTION_STATUS_KEY:"interaction.status",NATIVE_REQUEST:"request.native"},Ds={WRAPPER_SKU:"wrapper.sku",WRAPPER_VER:"wrapper.version"},J={acquireTokenRedirect:861,acquireTokenPopup:862,ssoSilent:863,acquireTokenSilent_authCode:864,handleRedirectPromise:865,acquireTokenByCode:866,acquireTokenSilent_silentFlow:61,logout:961,logoutPopup:962};var H;(function(t){t.Redirect="redirect",t.Popup="popup",t.Silent="silent",t.None="none"})(H||(H={}));const Ce={Startup:"startup",Login:"login",Logout:"logout",AcquireToken:"acquireToken",SsoSilent:"ssoSilent",HandleRedirect:"handleRedirect",None:"none"},Vm={scopes:Lo},RT="jwk",FR={React:"@azure/msal-react",Angular:"@azure/msal-angular"},sd="msal.db",HR=1,BR=`${sd}.keys`,Ge={Default:0,AccessToken:1,AccessTokenAndRefreshToken:2,RefreshToken:3,RefreshTokenAndNetwork:4,Skip:5},jR=[Ge.Default,Ge.Skip,Ge.RefreshTokenAndNetwork];/*! @azure/msal-browser v4.22.1 2025-09-09 */function Ls(t){return encodeURIComponent(qi(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function rr(t){return _T(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function qi(t){return _T(new TextEncoder().encode(t))}function _T(t){const e=Array.from(t,n=>String.fromCodePoint(n)).join("");return btoa(e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */function Vt(t){return new TextDecoder().decode(Xn(t))}function Xn(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw M(AT)}const n=atob(e);return Uint8Array.from(n,r=>r.codePointAt(0)||0)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const VR="RSASSA-PKCS1-v1_5",Ho="AES-GCM",PT="HKDF",mf="SHA-256",zR=2048,KR=new Uint8Array([1,0,1]),zm="0123456789abcdef",Km=new Uint32Array(1),gf="raw",OT="encrypt",yf="decrypt",$R="deriveKey",GR="crypto_subtle_undefined",vf={name:VR,hash:mf,modulusLength:zR,publicExponent:KR};function WR(t){if(!window)throw M(Hc);if(!window.crypto)throw M(od);if(!t&&!window.crypto.subtle)throw M(od,GR)}async function NT(t,e,n){e==null||e.addQueueMeasurement(C.Sha256Digest,n);const o=new TextEncoder().encode(t);return window.crypto.subtle.digest(mf,o)}function qR(t){return window.crypto.getRandomValues(t)}function Ll(){return window.crypto.getRandomValues(Km),Km[0]}function Wt(){const t=Date.now(),e=Ll()*1024+(Ll()&1023),n=new Uint8Array(16),r=Math.trunc(e/2**30),o=e&2**30-1,i=Ll();n[0]=t/2**40,n[1]=t/2**32,n[2]=t/2**24,n[3]=t/2**16,n[4]=t/2**8,n[5]=t,n[6]=112|r>>>8,n[7]=r,n[8]=128|o>>>24,n[9]=o>>>16,n[10]=o>>>8,n[11]=o,n[12]=i>>>24,n[13]=i>>>16,n[14]=i>>>8,n[15]=i;let s="";for(let a=0;a<n.length;a++)s+=zm.charAt(n[a]>>>4),s+=zm.charAt(n[a]&15),(a===3||a===5||a===7||a===9)&&(s+="-");return s}async function QR(t,e){return window.crypto.subtle.generateKey(vf,t,e)}async function Ul(t){return window.crypto.subtle.exportKey(RT,t)}async function YR(t,e,n){return window.crypto.subtle.importKey(RT,t,vf,e,n)}async function JR(t,e){return window.crypto.subtle.sign(vf,t,e)}async function Cf(){const t=await xT(),n={alg:"dir",kty:"oct",k:rr(new Uint8Array(t))};return qi(JSON.stringify(n))}async function XR(t){const e=Vt(t),r=JSON.parse(e).k,o=Xn(r);return window.crypto.subtle.importKey(gf,o,Ho,!1,[yf])}async function ZR(t,e){const n=e.split(".");if(n.length!==5)throw M(ea,"jwe_length");const r=await XR(t).catch(()=>{throw M(ea,"import_key")});try{const o=new TextEncoder().encode(n[0]),i=Xn(n[2]),s=Xn(n[3]),a=Xn(n[4]),c=a.byteLength*8,l=new Uint8Array(s.length+a.length);l.set(s),l.set(a,s.length);const u=await window.crypto.subtle.decrypt({name:Ho,iv:i,tagLength:c,additionalData:o},r,l);return new TextDecoder().decode(u)}catch{throw M(ea,"decrypt")}}async function xT(){const t=await window.crypto.subtle.generateKey({name:Ho,length:256},!0,[OT,yf]);return window.crypto.subtle.exportKey(gf,t)}async function $m(t){return window.crypto.subtle.importKey(gf,t,PT,!1,[$R])}async function MT(t,e,n){return window.crypto.subtle.deriveKey({name:PT,salt:e,hash:mf,info:new TextEncoder().encode(n)},t,{name:Ho,length:256},!1,[OT,yf])}async function e_(t,e,n){const r=new TextEncoder().encode(e),o=window.crypto.getRandomValues(new Uint8Array(16)),i=await MT(t,o,n),s=await window.crypto.subtle.encrypt({name:Ho,iv:new Uint8Array(12)},i,r);return{data:rr(new Uint8Array(s)),nonce:rr(o)}}async function Gm(t,e,n,r){const o=Xn(r),i=await MT(t,Xn(e),n),s=await window.crypto.subtle.decrypt({name:Ho,iv:new Uint8Array(12)},i,o);return new TextDecoder().decode(s)}async function bT(t){const e=await NT(t),n=new Uint8Array(e);return rr(n)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const wf="storage_not_supported",Pe="stubbed_public_client_application_called",DT="in_mem_redirect_unavailable";/*! @azure/msal-browser v4.22.1 2025-09-09 */const t_={[wf]:"Given storage configuration option was not supported.",[Pe]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[DT]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class Tf extends X{constructor(e,n){super(e,n),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,Tf.prototype)}}function ye(t){return new Tf(t,t_[t])}/*! @azure/msal-browser v4.22.1 2025-09-09 */function LT(t){t.location.hash="",typeof t.history.replaceState=="function"&&t.history.replaceState(null,"",`${t.location.origin}${t.location.pathname}${t.location.search}`)}function n_(t){const e=t.split("#");e.shift(),window.location.hash=e.length>0?e.join("#"):""}function Sf(){return window.parent!==window}function r_(){return typeof window<"u"&&!!window.opener&&window.opener!==window&&typeof window.name=="string"&&window.name.indexOf(`${nt.POPUP_NAME_PREFIX}.`)===0}function mn(){return typeof window<"u"&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function o_(){const e=new q(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}function i_(){if(q.hashContainsKnownProperties(window.location.hash)&&Sf())throw M(cT)}function s_(t){if(Sf()&&!t)throw M(aT)}function a_(){if(r_())throw M(lT)}function UT(){if(typeof window>"u")throw M(Hc)}function FT(t){if(!t)throw M(Ci)}function Af(t){UT(),i_(),a_(),FT(t)}function Wm(t,e){if(Af(t),s_(e.system.allowRedirectInIframe),e.cache.cacheLocation===Re.MemoryStorage&&!e.cache.storeAuthStateInCookie)throw ye(DT)}function HT(t){const e=document.createElement("link");e.rel="preconnect",e.href=new URL(t).origin,e.crossOrigin="anonymous",document.head.appendChild(e),window.setTimeout(()=>{try{document.head.removeChild(e)}catch{}},1e4)}function c_(){return Wt()}/*! @azure/msal-browser v4.22.1 2025-09-09 */class qa{navigateInternal(e,n){return qa.defaultNavigateWindow(e,n)}navigateExternal(e,n){return qa.defaultNavigateWindow(e,n)}static defaultNavigateWindow(e,n){return n.noHistory?window.location.replace(e):window.location.assign(e),new Promise((r,o)=>{setTimeout(()=>{o(M(Wa,"failed_to_redirect"))},n.timeout)})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class l_{async sendGetRequestAsync(e,n){let r,o={},i=0;const s=qm(n);try{r=await fetch(e,{method:jm.GET,headers:s})}catch(a){throw si(M(window.navigator.onLine?pT:Ga),void 0,void 0,a)}o=Qm(r.headers);try{return i=r.status,{headers:o,body:await r.json(),status:i}}catch(a){throw si(M(id),i,o,a)}}async sendPostRequestAsync(e,n){const r=n&&n.body||"",o=qm(n);let i,s=0,a={};try{i=await fetch(e,{method:jm.POST,headers:o,body:r})}catch(c){throw si(M(window.navigator.onLine?fT:Ga),void 0,void 0,c)}a=Qm(i.headers);try{return s=i.status,{headers:a,body:await i.json(),status:s}}catch(c){throw si(M(id),s,a,c)}}}function qm(t){try{const e=new Headers;if(!(t&&t.headers))return e;const n=t.headers;return Object.entries(n).forEach(([r,o])=>{e.append(r,o)}),e}catch(e){throw si(M(kT),void 0,void 0,e)}}function Qm(t){try{const e={};return t.forEach((n,r)=>{e[r]=n}),e}catch{throw M(IT)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const u_=6e4,ad=1e4,d_=3e4,BT=2e3;function h_({auth:t,cache:e,system:n,telemetry:r},o){const i={clientId:I.EMPTY_STRING,authority:`${I.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:I.EMPTY_STRING,authorityMetadata:I.EMPTY_STRING,redirectUri:typeof window<"u"?mn():"",postLogoutRedirectUri:I.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:at.AAD,OIDCOptions:{serverResponseType:Rc.FRAGMENT,defaultScopes:[I.OPENID_SCOPE,I.PROFILE_SCOPE,I.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:Dh.None,tenant:I.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},s={cacheLocation:Re.SessionStorage,cacheRetentionDays:5,temporaryCacheLocation:Re.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!!(e&&e.cacheLocation===Re.LocalStorage),claimsBasedCachingEnabled:!1},a={loggerCallback:()=>{},logLevel:ae.Info,piiLoggingEnabled:!1},l={...{...kw,loggerOptions:a,networkClient:o?new l_:AR,navigationClient:new qa,loadFrameTimeout:0,windowHashTimeout:(n==null?void 0:n.loadFrameTimeout)||u_,iframeHashTimeout:(n==null?void 0:n.loadFrameTimeout)||ad,navigateFrameWait:0,redirectNavigationTimeout:d_,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:(n==null?void 0:n.nativeBrokerHandshakeTimeout)||BT,pollIntervalMilliseconds:nt.DEFAULT_POLL_INTERVAL_MS},...n,loggerOptions:(n==null?void 0:n.loggerOptions)||a},u={application:{appName:I.EMPTY_STRING,appVersion:I.EMPTY_STRING},client:new Ew};if((t==null?void 0:t.protocolMode)!==at.OIDC&&(t!=null&&t.OIDCOptions)&&new En(l.loggerOptions).warning(JSON.stringify(Z(mw))),t!=null&&t.protocolMode&&t.protocolMode===at.OIDC&&(l!=null&&l.allowPlatformBroker))throw Z(gw);return{auth:{...i,...t,OIDCOptions:{...i.OIDCOptions,...t==null?void 0:t.OIDCOptions}},cache:{...s,...e},system:l,telemetry:{...u,...r}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const f_="@azure/msal-browser",Ur="4.22.1";/*! @azure/msal-browser v4.22.1 2025-09-09 */const Oe="msal",Ef="browser",Fl="-",On=1,cd=1,p_=`${Oe}.${Ef}.log.level`,m_=`${Oe}.${Ef}.log.pii`,g_=`${Oe}.${Ef}.platform.auth.dom`,Ym=`${Oe}.version`,Jm="account.keys",Xm="token.keys";function tn(t=cd){return t<1?`${Oe}.${Jm}`:`${Oe}.${t}.${Jm}`}function kr(t,e=On){return e<1?`${Oe}.${Xm}.${t}`:`${Oe}.${e}.${Xm}.${t}`}/*! @azure/msal-browser v4.22.1 2025-09-09 */class kf{static loggerCallback(e,n){switch(e){case ae.Error:console.error(n);return;case ae.Info:console.info(n);return;case ae.Verbose:console.debug(n);return;case ae.Warning:console.warn(n);return;default:console.log(n);return}}constructor(e){var c;this.browserEnvironment=typeof window<"u",this.config=h_(e,this.browserEnvironment);let n;try{n=window[Re.SessionStorage]}catch{}const r=n==null?void 0:n.getItem(p_),o=(c=n==null?void 0:n.getItem(m_))==null?void 0:c.toLowerCase(),i=o==="true"?!0:o==="false"?!1:void 0,s={...this.config.system.loggerOptions},a=r&&Object.keys(ae).includes(r)?ae[r]:void 0;a&&(s.loggerCallback=kf.loggerCallback,s.logLevel=a),i!==void 0&&(s.piiLoggingEnabled=i),this.logger=new En(s,f_,Ur),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Fr extends kf{getModuleName(){return Fr.MODULE_NAME}getId(){return Fr.ID}async initialize(){return this.available=typeof window<"u",this.available}}Fr.MODULE_NAME="";Fr.ID="StandardOperatingContext";/*! @azure/msal-browser v4.22.1 2025-09-09 */class y_{constructor(){this.dbName=sd,this.version=HR,this.tableName=BR,this.dbOpen=!1}async open(){return new Promise((e,n)=>{const r=window.indexedDB.open(this.dbName,this.version);r.addEventListener("upgradeneeded",o=>{o.target.result.createObjectStore(this.tableName)}),r.addEventListener("success",o=>{const i=o;this.db=i.target.result,this.dbOpen=!0,e()}),r.addEventListener("error",()=>n(M(ff)))})}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(M(qr));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);s.addEventListener("success",a=>{const c=a;this.closeConnection(),n(c.target.result)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async setItem(e,n){return await this.validateDbIsOpen(),new Promise((r,o)=>{if(!this.db)return o(M(qr));const a=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(n,e);a.addEventListener("success",()=>{this.closeConnection(),r()}),a.addEventListener("error",c=>{this.closeConnection(),o(c)})})}async removeItem(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(M(qr));const s=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);s.addEventListener("success",()=>{this.closeConnection(),n()}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async getKeys(){return await this.validateDbIsOpen(),new Promise((e,n)=>{if(!this.db)return n(M(qr));const i=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();i.addEventListener("success",s=>{const a=s;this.closeConnection(),e(a.target.result)}),i.addEventListener("error",s=>{this.closeConnection(),n(s)})})}async containsKey(e){return await this.validateDbIsOpen(),new Promise((n,r)=>{if(!this.db)return r(M(qr));const s=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);s.addEventListener("success",a=>{const c=a;this.closeConnection(),n(c.target.result===1)}),s.addEventListener("error",a=>{this.closeConnection(),r(a)})})}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise((e,n)=>{const r=window.indexedDB.deleteDatabase(sd),o=setTimeout(()=>n(!1),200);r.addEventListener("success",()=>(clearTimeout(o),e(!0))),r.addEventListener("blocked",()=>(clearTimeout(o),e(!0))),r.addEventListener("error",()=>(clearTimeout(o),n(!1)))})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Bc{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,n){this.cache.set(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach((n,r)=>{e.push(r)}),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class v_{constructor(e){this.inMemoryCache=new Bc,this.indexedDBCache=new y_,this.logger=e}handleDatabaseAccessError(e){if(e instanceof is&&e.errorCode===ff)this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.");else throw e}async getItem(e){const n=this.inMemoryCache.getItem(e);if(!n)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(r){this.handleDatabaseAccessError(r)}return n}async setItem(e,n){this.inMemoryCache.setItem(e,n);try{await this.indexedDBCache.setItem(e,n)}catch(r){this.handleDatabaseAccessError(r)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(n){this.handleDatabaseAccessError(n)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(e.length===0)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(n){this.handleDatabaseAccessError(n)}return e}async containsKey(e){const n=this.inMemoryCache.containsKey(e);if(!n)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(r){this.handleDatabaseAccessError(r)}return n}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class kn{constructor(e,n,r){this.logger=e,WR(r??!1),this.cache=new v_(this.logger),this.performanceClient=n}createNewGuid(){return Wt()}base64Encode(e){return qi(e)}base64Decode(e){return Vt(e)}base64UrlEncode(e){return Ls(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){var u;const n=(u=this.performanceClient)==null?void 0:u.startMeasurement(C.CryptoOptsGetPublicKeyThumbprint,e.correlationId),r=await QR(kn.EXTRACTABLE,kn.POP_KEY_USAGES),o=await Ul(r.publicKey),i={e:o.e,kty:o.kty,n:o.n},s=Zm(i),a=await this.hashString(s),c=await Ul(r.privateKey),l=await YR(c,!1,["sign"]);return await this.cache.setItem(a,{privateKey:l,publicKey:r.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),n&&n.end({success:!0}),a}async removeTokenBindingKey(e){if(await this.cache.removeItem(e),await this.cache.containsKey(e))throw N(rw)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,n,r,o){var m;const i=(m=this.performanceClient)==null?void 0:m.startMeasurement(C.CryptoOptsSignJwt,o),s=await this.cache.getItem(n);if(!s)throw M(hf);const a=await Ul(s.publicKey),c=Zm(a),l=Ls(JSON.stringify({kid:n})),u=cf.getShrHeaderString({...r==null?void 0:r.header,alg:a.alg,kid:l}),d=Ls(u);e.cnf={jwk:JSON.parse(c)};const h=Ls(JSON.stringify(e)),p=`${d}.${h}`,y=new TextEncoder().encode(p),T=await JR(s.privateKey,y),g=rr(new Uint8Array(T)),f=`${p}.${g}`;return i&&i.end({success:!0}),f}async hashString(e){return bT(e)}}kn.POP_KEY_USAGES=["sign","verify"];kn.EXTRACTABLE=!0;function Zm(t){return JSON.stringify(t,Object.keys(t).sort())}/*! @azure/msal-browser v4.22.1 2025-09-09 */const C_=24*60*60*1e3,ld={Lax:"Lax",None:"None"};class jT{initialize(){return Promise.resolve()}getItem(e){const n=`${encodeURIComponent(e)}`,r=document.cookie.split(";");for(let o=0;o<r.length;o++){const i=r[o],[s,...a]=decodeURIComponent(i).trim().split("="),c=a.join("=");if(s===n)return c}return""}getUserData(){throw N($)}setItem(e,n,r,o=!0,i=ld.Lax){let s=`${encodeURIComponent(e)}=${encodeURIComponent(n)};path=/;SameSite=${i};`;if(r){const a=w_(r);s+=`expires=${a};`}(o||i===ld.None)&&(s+="Secure;"),document.cookie=s}async setUserData(){return Promise.reject(N($))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),n=[];return e.forEach(r=>{const o=decodeURIComponent(r).trim().split("=");n.push(o[0])}),n}containsKey(e){return this.getKeys().includes(e)}decryptData(){return Promise.resolve(null)}}function w_(t){const e=new Date;return new Date(e.getTime()+t*C_).toUTCString()}/*! @azure/msal-browser v4.22.1 2025-09-09 */function wi(t,e){const n=t.getItem(tn(e));return n?JSON.parse(n):[]}function Ti(t,e,n){const r=e.getItem(kr(t,n));if(r){const o=JSON.parse(r);if(o&&o.hasOwnProperty("idToken")&&o.hasOwnProperty("accessToken")&&o.hasOwnProperty("refreshToken"))return o}return{idToken:[],accessToken:[],refreshToken:[]}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function ud(t){return t.hasOwnProperty("id")&&t.hasOwnProperty("nonce")&&t.hasOwnProperty("data")}/*! @azure/msal-browser v4.22.1 2025-09-09 */const eg="msal.cache.encryption",T_="msal.broadcast.cache";class S_{constructor(e,n,r){if(!window.localStorage)throw ye(wf);this.memoryStorage=new Bc,this.initialized=!1,this.clientId=e,this.logger=n,this.performanceClient=r,this.broadcast=new BroadcastChannel(T_)}async initialize(e){const n=new jT,r=n.getItem(eg);let o={key:"",id:""};if(r)try{o=JSON.parse(r)}catch{}if(o.key&&o.id){const i=vt(Xn,C.Base64Decode,this.logger,this.performanceClient,e)(o.key);this.encryptionCookie={id:o.id,key:await k($m,C.GenerateHKDF,this.logger,this.performanceClient,e)(i)}}else{const i=Wt(),s=await k(xT,C.GenerateBaseKey,this.logger,this.performanceClient,e)(),a=vt(rr,C.UrlEncodeArr,this.logger,this.performanceClient,e)(new Uint8Array(s));this.encryptionCookie={id:i,key:await k($m,C.GenerateHKDF,this.logger,this.performanceClient,e)(s)};const c={id:i,key:a};n.setItem(eg,JSON.stringify(c),0,!0,ld.None)}await k(this.importExistingCache.bind(this),C.ImportExistingCache,this.logger,this.performanceClient,e)(e),this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw M(Ci);return this.memoryStorage.getItem(e)}async decryptData(e,n,r){if(!this.initialized||!this.encryptionCookie)throw M(Ci);if(n.id!==this.encryptionCookie.id)return this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},r),null;const o=await k(Gm,C.Decrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,n.nonce,this.getContext(e),n.data);if(!o)return null;try{return JSON.parse(o)}catch{return this.performanceClient.incrementFields({encryptedCacheCorruptionCount:1},r),null}}setItem(e,n){window.localStorage.setItem(e,n)}async setUserData(e,n,r,o){if(!this.initialized||!this.encryptionCookie)throw M(Ci);const{data:i,nonce:s}=await k(e_,C.Encrypt,this.logger,this.performanceClient,r)(this.encryptionCookie.key,n,this.getContext(e)),a={id:this.encryptionCookie.id,nonce:s,data:i,lastUpdatedAt:o};this.memoryStorage.setItem(e,n),this.setItem(e,JSON.stringify(a)),this.broadcast.postMessage({key:e,value:n,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear(),wi(this).forEach(r=>this.removeItem(r));const n=Ti(this.clientId,this);n.idToken.forEach(r=>this.removeItem(r)),n.accessToken.forEach(r=>this.removeItem(r)),n.refreshToken.forEach(r=>this.removeItem(r)),this.getKeys().forEach(r=>{(r.startsWith(Oe)||r.indexOf(this.clientId)!==-1)&&this.removeItem(r)})}async importExistingCache(e){if(!this.encryptionCookie)return;let n=wi(this);n=await this.importArray(n,e),n.length?this.setItem(tn(),JSON.stringify(n)):this.removeItem(tn());const r=Ti(this.clientId,this);r.idToken=await this.importArray(r.idToken,e),r.accessToken=await this.importArray(r.accessToken,e),r.refreshToken=await this.importArray(r.refreshToken,e),r.idToken.length||r.accessToken.length||r.refreshToken.length?this.setItem(kr(this.clientId),JSON.stringify(r)):this.removeItem(kr(this.clientId))}async getItemFromEncryptedCache(e,n){if(!this.encryptionCookie)return null;const r=this.getItem(e);if(!r)return null;let o;try{o=JSON.parse(r)}catch{return null}return ud(o)?o.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},n),null):k(Gm,C.Decrypt,this.logger,this.performanceClient,n)(this.encryptionCookie.key,o.nonce,this.getContext(e),o.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},n),o)}async importArray(e,n){const r=[],o=[];return e.forEach(i=>{const s=this.getItemFromEncryptedCache(i,n).then(a=>{a?(this.memoryStorage.setItem(i,a),r.push(i)):this.removeItem(i)});o.push(s)}),await Promise.all(o),r}getContext(e){let n="";return e.includes(this.clientId)&&(n=this.clientId),n}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const n=this.performanceClient.startMeasurement(C.LocalStorageUpdated);n.add({isBackground:!0});const{key:r,value:o,context:i}=e.data;if(!r){this.logger.error("Broadcast event missing key"),n.end({success:!1,errorCode:"noKey"});return}if(i&&i!==this.clientId){this.logger.trace(`Ignoring broadcast event from clientId: ${i}`),n.end({success:!1,errorCode:"contextMismatch"});return}o?(this.memoryStorage.setItem(r,o),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(r),this.logger.verbose("Removed item from internal cache")),n.end({success:!0})}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class A_{constructor(){if(!window.sessionStorage)throw ye(wf)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,n){window.sessionStorage.setItem(e,n)}async setUserData(e,n){this.setItem(e,n)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}decryptData(){return Promise.resolve(null)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const D={INITIALIZE_START:"msal:initializeStart",INITIALIZE_END:"msal:initializeEnd",ACCOUNT_ADDED:"msal:accountAdded",ACCOUNT_REMOVED:"msal:accountRemoved",ACTIVE_ACCOUNT_CHANGED:"msal:activeAccountChanged",LOGIN_START:"msal:loginStart",LOGIN_SUCCESS:"msal:loginSuccess",LOGIN_FAILURE:"msal:loginFailure",ACQUIRE_TOKEN_START:"msal:acquireTokenStart",ACQUIRE_TOKEN_SUCCESS:"msal:acquireTokenSuccess",ACQUIRE_TOKEN_FAILURE:"msal:acquireTokenFailure",ACQUIRE_TOKEN_NETWORK_START:"msal:acquireTokenFromNetworkStart",SSO_SILENT_START:"msal:ssoSilentStart",SSO_SILENT_SUCCESS:"msal:ssoSilentSuccess",SSO_SILENT_FAILURE:"msal:ssoSilentFailure",ACQUIRE_TOKEN_BY_CODE_START:"msal:acquireTokenByCodeStart",ACQUIRE_TOKEN_BY_CODE_SUCCESS:"msal:acquireTokenByCodeSuccess",ACQUIRE_TOKEN_BY_CODE_FAILURE:"msal:acquireTokenByCodeFailure",HANDLE_REDIRECT_START:"msal:handleRedirectStart",HANDLE_REDIRECT_END:"msal:handleRedirectEnd",POPUP_OPENED:"msal:popupOpened",LOGOUT_START:"msal:logoutStart",LOGOUT_SUCCESS:"msal:logoutSuccess",LOGOUT_FAILURE:"msal:logoutFailure",LOGOUT_END:"msal:logoutEnd",RESTORE_FROM_BFCACHE:"msal:restoreFromBFCache",BROKER_CONNECTION_ESTABLISHED:"msal:brokerConnectionEstablished"};/*! @azure/msal-browser v4.22.1 2025-09-09 */function tg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class dd extends nd{constructor(e,n,r,o,i,s,a){super(e,r,o,i,a),this.cacheConfig=n,this.logger=o,this.internalStorage=new Bc,this.browserStorage=ng(e,n.cacheLocation,o,i),this.temporaryCacheStorage=ng(e,n.temporaryCacheLocation,o,i),this.cookieStorage=new jT,this.eventHandler=s}async initialize(e){this.performanceClient.addFields({cacheLocation:this.cacheConfig.cacheLocation,cacheRetentionDays:this.cacheConfig.cacheRetentionDays},e),await this.browserStorage.initialize(e),await this.migrateExistingCache(e),this.trackVersionChanges(e)}async migrateExistingCache(e){const n=wi(this.browserStorage,0),r=Ti(this.clientId,this.browserStorage,0);this.performanceClient.addFields({oldAccountCount:n.length,oldAccessCount:r.accessToken.length,oldIdCount:r.idToken.length,oldRefreshCount:r.refreshToken.length},e);const o=wi(this.browserStorage,1),i=Ti(this.clientId,this.browserStorage,1);this.performanceClient.addFields({currAccountCount:o.length,currAccessCount:i.accessToken.length,currIdCount:i.idToken.length,currRefreshCount:i.refreshToken.length},e),await Promise.all([this.updateV0ToCurrent(cd,n,o,e),this.updateV0ToCurrent(On,r.idToken,i.idToken,e),this.updateV0ToCurrent(On,r.accessToken,i.accessToken,e),this.updateV0ToCurrent(On,r.refreshToken,i.refreshToken,e)]),n.length>0?this.browserStorage.setItem(tn(0),JSON.stringify(n)):this.browserStorage.removeItem(tn(0)),o.length>0?this.browserStorage.setItem(tn(1),JSON.stringify(o)):this.browserStorage.removeItem(tn(1)),this.setTokenKeys(r,e,0),this.setTokenKeys(i,e,1)}async updateV0ToCurrent(e,n,r,o){const i=[];for(const s of[...n]){const a=this.browserStorage.getItem(s),c=this.validateAndParseJson(a||"");if(!c){tg(n,s);continue}c.lastUpdatedAt||(c.lastUpdatedAt=Date.now().toString(),this.setItem(s,JSON.stringify(c),o));const l=ud(c)?await this.browserStorage.decryptData(s,c,o):c;let u;if(l&&(bm(l)||Dm(l))&&(u=l.expiresOn),!l||rR(c.lastUpdatedAt,this.cacheConfig.cacheRetentionDays)||u&&za(u,jC)){this.browserStorage.removeItem(s),tg(n,s),this.performanceClient.incrementFields({expiredCacheRemovedCount:1},o);continue}if(this.cacheConfig.cacheLocation!==Re.LocalStorage||ud(c)){const d=`${Oe}.${e}${Fl}${s}`,h=this.browserStorage.getItem(d);if(h){const p=this.validateAndParseJson(h);if(Number(c.lastUpdatedAt)>Number(p.lastUpdatedAt)){i.push(this.setUserData(d,JSON.stringify(l),o,c.lastUpdatedAt).then(()=>{this.performanceClient.incrementFields({updatedCacheFromV0Count:1},o)}));continue}}else{i.push(this.setUserData(d,JSON.stringify(l),o,c.lastUpdatedAt).then(()=>{r.push(d),this.performanceClient.incrementFields({upgradedCacheCount:1},o)}));continue}}}return Promise.all(i)}trackVersionChanges(e){const n=this.browserStorage.getItem(Ym);n&&(this.logger.info(`MSAL.js was last initialized by version: ${n}`),this.performanceClient.addFields({previousLibraryVersion:n},e)),n!==Ur&&this.setItem(Ym,Ur,e)}validateAndParseJson(e){if(!e)return null;try{const n=JSON.parse(e);return n&&typeof n=="object"?n:null}catch{return null}}setItem(e,n,r){let o=0,i=[];const s=20;for(let a=0;a<=s;a++)try{this.browserStorage.setItem(e,n),a>0&&(a<=o?this.removeAccessTokenKeys(i.slice(0,a),r,0):(this.removeAccessTokenKeys(i.slice(0,o),r,0),this.removeAccessTokenKeys(i.slice(o,a),r)));break}catch(c){const l=td(c);if(l.errorCode===Fa&&a<s){if(!i.length){const u=e===kr(this.clientId,0)?JSON.parse(n).accessToken:this.getTokenKeys(0).accessToken,d=e===kr(this.clientId)?JSON.parse(n).accessToken:this.getTokenKeys().accessToken;i=[...u,...d],o=u.length}if(i.length<=a)throw l;this.removeAccessToken(i[a],r,!1)}else throw l}}async setUserData(e,n,r,o){let i=0,s=[];const a=20;for(let c=0;c<=a;c++)try{await k(this.browserStorage.setUserData.bind(this.browserStorage),C.SetUserData,this.logger,this.performanceClient)(e,n,r,o),c>0&&(c<=i?this.removeAccessTokenKeys(s.slice(0,c),r,0):(this.removeAccessTokenKeys(s.slice(0,i),r,0),this.removeAccessTokenKeys(s.slice(i,c),r)));break}catch(l){const u=td(l);if(u.errorCode===Fa&&c<a){if(!s.length){const d=this.getTokenKeys(0).accessToken,h=this.getTokenKeys().accessToken;s=[...d,...h],i=d.length}if(s.length<=c)throw u;this.removeAccessToken(s[c],r,!1)}else throw u}}getAccount(e,n){this.logger.trace("BrowserCacheManager.getAccount called");const r=this.browserStorage.getUserData(e);if(!r)return this.removeAccountKeyFromMap(e,n),null;const o=this.validateAndParseJson(r);return!o||!$t.isAccountEntity(o)?null:nd.toObject(new $t,o)}async setAccount(e,n){this.logger.trace("BrowserCacheManager.setAccount called");const r=this.generateAccountKey(e.getAccountInfo()),o=Date.now().toString();e.lastUpdatedAt=o,await this.setUserData(r,JSON.stringify(e),n,o);const i=this.addAccountKeyToMap(r,n);this.cacheConfig.cacheLocation===Re.LocalStorage&&i&&this.eventHandler.emitEvent(D.ACCOUNT_ADDED,void 0,e.getAccountInfo())}getAccountKeys(){return wi(this.browserStorage)}addAccountKeyToMap(e,n){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const r=this.getAccountKeys();return r.indexOf(e)===-1?(r.push(e),this.setItem(tn(),JSON.stringify(r),n),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e,n){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const r=this.getAccountKeys(),o=r.indexOf(e);if(o>-1){if(r.splice(o,1),r.length===0){this.removeItem(tn());return}else this.setItem(tn(),JSON.stringify(r),n);this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")}else this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}removeAccount(e,n){const r=this.getActiveAccount(n);(r==null?void 0:r.homeAccountId)===e.homeAccountId&&(r==null?void 0:r.environment)===e.environment&&this.setActiveAccount(null,n),super.removeAccount(e,n),this.removeAccountKeyFromMap(this.generateAccountKey(e),n),this.browserStorage.getKeys().forEach(o=>{o.includes(e.homeAccountId)&&o.includes(e.environment)&&this.browserStorage.removeItem(o)}),this.cacheConfig.cacheLocation===Re.LocalStorage&&this.eventHandler.emitEvent(D.ACCOUNT_REMOVED,void 0,e)}removeIdToken(e,n){super.removeIdToken(e,n);const r=this.getTokenKeys(),o=r.idToken.indexOf(e);o>-1&&(this.logger.info("idToken removed from tokenKeys map"),r.idToken.splice(o,1),this.setTokenKeys(r,n))}removeAccessToken(e,n,r=!0){super.removeAccessToken(e,n),r&&this.removeAccessTokenKeys([e],n)}removeAccessTokenKeys(e,n,r=On){this.logger.trace("removeAccessTokenKey called");const o=this.getTokenKeys(r);let i=0;if(e.forEach(s=>{const a=o.accessToken.indexOf(s);a>-1&&(o.accessToken.splice(a,1),i++)}),i>0){this.logger.info(`removed ${i} accessToken keys from tokenKeys map`),this.setTokenKeys(o,n,r);return}}removeRefreshToken(e,n){super.removeRefreshToken(e,n);const r=this.getTokenKeys(),o=r.refreshToken.indexOf(e);o>-1&&(this.logger.info("refreshToken removed from tokenKeys map"),r.refreshToken.splice(o,1),this.setTokenKeys(r,n))}getTokenKeys(e=On){return Ti(this.clientId,this.browserStorage,e)}setTokenKeys(e,n,r=On){if(e.idToken.length===0&&e.accessToken.length===0&&e.refreshToken.length===0){this.removeItem(kr(this.clientId,r));return}else this.setItem(kr(this.clientId,r),JSON.stringify(e),n)}getIdTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeIdToken(e,n),null;const o=this.validateAndParseJson(r);return!o||!iR(o)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),o)}async setIdTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const r=this.generateCredentialKey(e),o=Date.now().toString();e.lastUpdatedAt=o,await this.setUserData(r,JSON.stringify(e),n,o);const i=this.getTokenKeys();i.idToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),i.idToken.push(r),this.setTokenKeys(i,n))}getAccessTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeAccessTokenKeys([e],n),null;const o=this.validateAndParseJson(r);return!o||!bm(o)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),o)}async setAccessTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const r=this.generateCredentialKey(e),o=Date.now().toString();e.lastUpdatedAt=o,await this.setUserData(r,JSON.stringify(e),n,o);const i=this.getTokenKeys(),s=i.accessToken.indexOf(r);s!==-1&&i.accessToken.splice(s,1),this.logger.trace(`access token ${s===-1?"added to":"updated in"} map`),i.accessToken.push(r),this.setTokenKeys(i,n)}getRefreshTokenCredential(e,n){const r=this.browserStorage.getUserData(e);if(!r)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeRefreshToken(e,n),null;const o=this.validateAndParseJson(r);return!o||!Dm(o)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),o)}async setRefreshTokenCredential(e,n){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const r=this.generateCredentialKey(e),o=Date.now().toString();e.lastUpdatedAt=o,await this.setUserData(r,JSON.stringify(e),n,o);const i=this.getTokenKeys();i.refreshToken.indexOf(r)===-1&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),i.refreshToken.push(r),this.setTokenKeys(i,n))}getAppMetadata(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!lR(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),r)}setAppMetadata(e,n){this.logger.trace("BrowserCacheManager.setAppMetadata called");const r=cR(e);this.setItem(r,JSON.stringify(e),n)}getServerTelemetry(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!sR(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),r)}setServerTelemetry(e,n,r){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(n),r)}getAuthorityMetadata(e){const n=this.internalStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const r=this.validateAndParseJson(n);return r&&uR(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),r):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter(n=>this.isAuthorityMetadata(n))}setWrapperMetadata(e,n){this.internalStorage.setItem(Ds.WRAPPER_SKU,e),this.internalStorage.setItem(Ds.WRAPPER_VER,n)}getWrapperMetadata(){const e=this.internalStorage.getItem(Ds.WRAPPER_SKU)||I.EMPTY_STRING,n=this.internalStorage.getItem(Ds.WRAPPER_VER)||I.EMPTY_STRING;return[e,n]}setAuthorityMetadata(e,n){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(n))}getActiveAccount(e){const n=this.generateCacheKey(Tm.ACTIVE_ACCOUNT_FILTERS),r=this.browserStorage.getItem(n);if(!r)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const o=this.validateAndParseJson(r);return o?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:o.homeAccountId,localAccountId:o.localAccountId,tenantId:o.tenantId},e)):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e,n){const r=this.generateCacheKey(Tm.ACTIVE_ACCOUNT_FILTERS);if(e){this.logger.verbose("setActiveAccount: Active account set");const o={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId,lastUpdatedAt:lt().toString()};this.setItem(r,JSON.stringify(o),n)}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(r);this.eventHandler.emitEvent(D.ACTIVE_ACCOUNT_CHANGED)}getThrottlingCache(e){const n=this.browserStorage.getItem(e);if(!n)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const r=this.validateAndParseJson(n);return!r||!aR(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null):(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),r)}setThrottlingCache(e,n,r){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(n),r)}getTemporaryCache(e,n){const r=n?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const i=this.cookieStorage.getItem(r);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),i}const o=this.temporaryCacheStorage.getItem(r);if(!o){if(this.cacheConfig.cacheLocation===Re.LocalStorage){const i=this.browserStorage.getItem(r);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),i}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),o}setTemporaryCache(e,n,r){const o=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(o,n),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(o,n,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}clear(e){this.removeAllAccounts(e),this.removeAppMetadata(e),this.temporaryCacheStorage.getKeys().forEach(n=>{(n.indexOf(Oe)!==-1||n.indexOf(this.clientId)!==-1)&&this.removeTemporaryItem(n)}),this.browserStorage.getKeys().forEach(n=>{(n.indexOf(Oe)!==-1||n.indexOf(this.clientId)!==-1)&&this.browserStorage.removeItem(n)}),this.internalStorage.clear()}clearTokensAndKeysWithClaims(e){this.performanceClient.addQueueMeasurement(C.ClearTokensAndKeysWithClaims,e);const n=this.getTokenKeys();let r=0;n.accessToken.forEach(o=>{const i=this.getAccessTokenCredential(o,e);i!=null&&i.requestedClaimsHash&&o.includes(i.requestedClaimsHash.toLowerCase())&&(this.removeAccessToken(o,e),r++)}),r>0&&this.logger.warning(`${r} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return yt.startsWith(e,Oe)?e:`${Oe}.${this.clientId}.${e}`}generateCredentialKey(e){const n=e.credentialType===Le.REFRESH_TOKEN&&e.familyId||e.clientId,r=e.tokenType&&e.tokenType.toLowerCase()!==Q.BEARER.toLowerCase()?e.tokenType.toLowerCase():"";return[`${Oe}.${On}`,e.homeAccountId,e.environment,e.credentialType,n,e.realm||"",e.target||"",e.requestedClaimsHash||"",r].join(Fl).toLowerCase()}generateAccountKey(e){const n=e.homeAccountId.split(".")[1];return[`${Oe}.${cd}`,e.homeAccountId,e.environment,n||e.tenantId||""].join(Fl).toLowerCase()}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(we.REQUEST_PARAMS)),this.removeTemporaryItem(this.generateCacheKey(we.VERIFIER)),this.removeTemporaryItem(this.generateCacheKey(we.ORIGIN_URI)),this.removeTemporaryItem(this.generateCacheKey(we.URL_HASH)),this.removeTemporaryItem(this.generateCacheKey(we.NATIVE_REQUEST)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,n){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const r=qi(JSON.stringify(e));if(this.setTemporaryCache(we.REQUEST_PARAMS,r,!0),n){const o=qi(n);this.setTemporaryCache(we.VERIFIER,o,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(we.REQUEST_PARAMS,!0);if(!e)throw M(dT);const n=this.getTemporaryCache(we.VERIFIER,!0);let r,o="";try{r=JSON.parse(Vt(e)),n&&(o=Vt(n))}catch(i){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${i}`),M(hT)}return[r,o]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(we.NATIVE_REQUEST,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const n=this.validateAndParseJson(e);return n||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){var r;const n=(r=this.getInteractionInProgress())==null?void 0:r.clientId;return e?n===this.clientId:!!n}getInteractionInProgress(){const e=`${Oe}.${we.INTERACTION_STATUS_KEY}`,n=this.getTemporaryCache(e,!1);try{return n?JSON.parse(n):null}catch{return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),LT(window),null}}setInteractionInProgress(e,n=Un.SIGNIN){var o;const r=`${Oe}.${we.INTERACTION_STATUS_KEY}`;if(e){if(this.getInteractionInProgress())throw M(rT);this.setTemporaryCache(r,JSON.stringify({clientId:this.clientId,type:n}),!1)}else!e&&((o=this.getInteractionInProgress())==null?void 0:o.clientId)===this.clientId&&this.removeTemporaryItem(r)}async hydrateCache(e,n){var a,c,l;const r=xc((a=e.account)==null?void 0:a.homeAccountId,(c=e.account)==null?void 0:c.environment,e.idToken,this.clientId,e.tenantId);let o;n.claims&&(o=await this.cryptoImpl.hashString(n.claims));const i=Mc((l=e.account)==null?void 0:l.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?Mm(e.expiresOn):0,e.extExpiresOn?Mm(e.extExpiresOn):0,Vt,void 0,e.tokenType,void 0,n.sshKid,n.claims,o),s={idToken:r,accessToken:i};return this.saveCacheRecord(s,e.correlationId)}async saveCacheRecord(e,n,r){try{await super.saveCacheRecord(e,n,r)}catch(o){if(o instanceof Co&&this.performanceClient&&n)try{const i=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:i.refreshToken.length,cacheIdCount:i.idToken.length,cacheAtCount:i.accessToken.length},n)}catch{}throw o}}}function ng(t,e,n,r){try{switch(e){case Re.LocalStorage:return new S_(t,n,r);case Re.SessionStorage:return new A_;case Re.MemoryStorage:default:break}}catch(o){n.error(o)}return new Bc}const E_=(t,e,n,r)=>{const o={cacheLocation:Re.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:Re.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};return new dd(t,o,Da,e,n,r)};/*! @azure/msal-browser v4.22.1 2025-09-09 */function k_(t,e,n,r,o){return t.verbose("getAllAccounts called"),n?e.getAllAccounts(o||{},r):[]}function I_(t,e,n,r){const o=n.getAccountInfoFilteredBy(t,r);return o?(e.verbose("getAccount: Account matching provided filter found, returning"),o):(e.verbose("getAccount: No matching account found, returning null"),null)}function R_(t,e,n,r){if(e.trace("getAccountByUsername called"),!t)return e.warning("getAccountByUsername: No username provided"),null;const o=n.getAccountInfoFilteredBy({username:t},r);return o?(e.verbose("getAccountByUsername: Account matching username found, returning"),e.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${t}`),o):(e.verbose("getAccountByUsername: No matching account found, returning null"),null)}function __(t,e,n,r){if(e.trace("getAccountByHomeId called"),!t)return e.warning("getAccountByHomeId: No homeAccountId provided"),null;const o=n.getAccountInfoFilteredBy({homeAccountId:t},r);return o?(e.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),e.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${t}`),o):(e.verbose("getAccountByHomeId: No matching account found, returning null"),null)}function P_(t,e,n,r){if(e.trace("getAccountByLocalId called"),!t)return e.warning("getAccountByLocalId: No localAccountId provided"),null;const o=n.getAccountInfoFilteredBy({localAccountId:t},r);return o?(e.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),e.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${t}`),o):(e.verbose("getAccountByLocalId: No matching account found, returning null"),null)}function O_(t,e,n){e.setActiveAccount(t,n)}function N_(t,e){return t.getActiveAccount(e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const x_="msal.broadcast.event";class M_{constructor(e){this.eventCallbacks=new Map,this.logger=e||new En({}),typeof BroadcastChannel<"u"&&(this.broadcastChannel=new BroadcastChannel(x_)),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,n,r){if(typeof window<"u"){const o=r||c_();return this.eventCallbacks.has(o)?(this.logger.error(`Event callback with id: ${o} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(o,[e,n||[]]),this.logger.verbose(`Event callback registered with id: ${o}`),o)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,n,r,o){var s;const i={eventType:e,interactionType:n||null,payload:r||null,error:o||null,timestamp:Date.now()};switch(e){case D.ACCOUNT_ADDED:case D.ACCOUNT_REMOVED:case D.ACTIVE_ACCOUNT_CHANGED:(s=this.broadcastChannel)==null||s.postMessage(i);break;default:this.invokeCallbacks(i);break}}invokeCallbacks(e){this.eventCallbacks.forEach(([n,r],o)=>{(r.length===0||r.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${o}: ${e.eventType}`),n.apply(null,[e]))})}invokeCrossTabCallbacks(e){const n=e.data;this.invokeCallbacks(n)}subscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){var e;(e=this.broadcastChannel)==null||e.removeEventListener("message",this.invokeCrossTabCallbacks)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class VT{constructor(e,n,r,o,i,s,a,c,l){this.config=e,this.browserStorage=n,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=i,this.navigationClient=s,this.platformAuthProvider=c,this.correlationId=l||Wt(),this.logger=o.clone(nt.MSAL_SKU,Ur,this.correlationId),this.performanceClient=a}async clearCacheOnLogout(e,n){if(n)try{this.browserStorage.removeAccount(n,e),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch{this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),this.browserStorage.clear(e),await this.browserCrypto.clearKeystore()}catch{this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const n=e||this.config.auth.redirectUri;return q.getAbsoluteUrl(n,mn())}initializeServerTelemetryManager(e,n){this.logger.verbose("initializeServerTelemetryManager called");const r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:n||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new Gi(r,this.browserStorage)}async getDiscoveredAuthority(e){const{account:n}=e,r=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(C.StandardInteractionClientGetDiscoveredAuthority,this.correlationId);const o={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.requestAuthority||this.config.auth.authority,s=r!=null&&r.length?r==="true":this.config.auth.instanceAware,a=n&&s?this.config.auth.authority.replace(q.getDomainFromUrl(i),n.environment):i,c=Ve.generateAuthority(a,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),l=await k(Vw,C.AuthorityFactoryCreateDiscoveredInstance,this.logger,this.performanceClient,this.correlationId)(c,this.config.system.networkClient,this.browserStorage,o,this.logger,this.correlationId,this.performanceClient);if(n&&!l.isAlias(n.environment))throw Z(yw);return l}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function If(t,e,n,r){n.addQueueMeasurement(C.InitializeBaseRequest,t.correlationId);const o=t.authority||e.auth.authority,i=[...t&&t.scopes||[]],s={...t,correlationId:t.correlationId,authority:o,scopes:i};if(!s.authenticationScheme)s.authenticationScheme=Q.BEARER,r.verbose(`Authentication Scheme wasn't explicitly set in request, defaulting to "Bearer" request`);else{if(s.authenticationScheme===Q.SSH){if(!t.sshJwk)throw Z(_c);if(!t.sshKid)throw Z(pw)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}return e.cache.claimsBasedCachingEnabled&&t.claims&&!yt.isEmptyObj(t.claims)&&(s.requestedClaimsHash=await bT(t.claims)),s}async function b_(t,e,n,r,o){r.addQueueMeasurement(C.InitializeSilentRequest,t.correlationId);const i=await k(If,C.InitializeBaseRequest,o,r,t.correlationId)(t,n,r,o);return{...t,...i,account:e,forceRefresh:t.forceRefresh||!1}}function zT(t,e){let n;const r=t.httpMethod;if(e===at.EAR){if(n=r||Er.POST,n!==Er.POST)throw Z(vw)}else n=r||Er.GET;if(t.authorizePostBodyParameters&&n!==Er.POST)throw Z(Cw);return n}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Bo extends VT{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e==null?void 0:e.correlationId);const n={correlationId:this.correlationId||Wt(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),n.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return!e||e.postLogoutRedirectUri!==null?e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",n.correlationId),n.postLogoutRedirectUri=q.getAbsoluteUrl(e.postLogoutRedirectUri,mn())):this.config.auth.postLogoutRedirectUri===null?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",n.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",n.correlationId),n.postLogoutRedirectUri=q.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,mn())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",n.correlationId),n.postLogoutRedirectUri=q.getAbsoluteUrl(mn(),mn())):this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",n.correlationId),n}getLogoutHintFromIdTokenClaims(e){const n=e.idTokenClaims;if(n){if(n.login_hint)return n.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(C.StandardInteractionClientCreateAuthCodeClient,this.correlationId);const n=await k(this.getClientConfiguration.bind(this),C.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)(e);return new Ww(n,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:n,requestAuthority:r,requestAzureCloudOptions:o,requestExtraQueryParameters:i,account:s}=e;this.performanceClient.addQueueMeasurement(C.StandardInteractionClientGetClientConfiguration,this.correlationId);const a=await k(this.getDiscoveredAuthority.bind(this),C.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,this.correlationId)({requestAuthority:r,requestAzureCloudOptions:o,requestExtraQueryParameters:i,account:s}),c=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:a,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:c.loggerCallback,piiLoggingEnabled:c.piiLoggingEnabled,logLevel:c.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:n,libraryInfo:{sku:nt.MSAL_SKU,version:Ur,cpu:I.EMPTY_STRING,os:I.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,n){this.performanceClient.addQueueMeasurement(C.StandardInteractionClientInitializeAuthorizationRequest,this.correlationId);const r=this.getRedirectUri(e.redirectUri),o={interactionType:n},i=Fo.setRequestState(this.browserCrypto,e&&e.state||I.EMPTY_STRING,o),a={...await k(If,C.InitializeBaseRequest,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:r,state:i,nonce:e.nonce||Wt(),responseMode:this.config.auth.OIDCOptions.serverResponseType},c={...a,httpMethod:zT(a,this.config.auth.protocolMode)};if(e.loginHint||e.sid)return c;const l=e.account||this.browserStorage.getActiveAccount(this.correlationId);return l&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${l.homeAccountId}`,this.correlationId),c.account=l),c}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function D_(t,e){if(!e)return null;try{return Fo.parseRequestState(t,e).libraryState.meta}catch{throw N(Po)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function Si(t,e,n){const r=La(t);if(!r)throw Tw(t)?(n.error(`A ${e} is present in the iframe but it does not contain known properties. It's likely that the ${e} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${e} detected is: ${t}`),M(eT)):(n.error(`The request has returned to the redirectUri but a ${e} is not present. It's likely that the ${e} has been removed or the page has been redirected by code running on the redirectUri page.`),M(Zw));return r}function L_(t,e,n){if(!t.state)throw M(df);const r=D_(e,t.state);if(!r)throw M(tT);if(r.interactionType!==n)throw M(nT)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class KT{constructor(e,n,r,o,i){this.authModule=e,this.browserStorage=n,this.authCodeRequest=r,this.logger=o,this.performanceClient=i}async handleCodeResponse(e,n){this.performanceClient.addQueueMeasurement(C.HandleCodeResponse,n.correlationId);let r;try{r=kR(e,n.state)}catch(o){throw o instanceof Vr&&o.subError===Wi?M(Wi):o}return k(this.handleCodeResponseFromServer.bind(this),C.HandleCodeResponseFromServer,this.logger,this.performanceClient,n.correlationId)(r,n)}async handleCodeResponseFromServer(e,n,r=!0){if(this.performanceClient.addQueueMeasurement(C.HandleCodeResponseFromServer,n.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await k(this.authModule.updateAuthority.bind(this.authModule),C.UpdateTokenEndpointAuthority,this.logger,this.performanceClient,n.correlationId)(e.cloud_instance_host_name,n.correlationId),r&&(e.nonce=n.nonce||void 0),e.state=n.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const i=this.createCcsCredentials(n);i&&(this.authCodeRequest.ccsCredential=i)}return await k(this.authModule.acquireToken.bind(this.authModule),C.AuthClientAcquireToken,this.logger,this.performanceClient,n.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:Ht.HOME_ACCOUNT_ID}:e.loginHint?{credential:e.loginHint,type:Ht.UPN}:null}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const U_="ContentError",$T="user_switch";/*! @azure/msal-browser v4.22.1 2025-09-09 */const F_="USER_INTERACTION_REQUIRED",H_="USER_CANCEL",B_="NO_NETWORK",j_="DISABLED",V_="ACCOUNT_UNAVAILABLE",z_="UX_NOT_ALLOWED";/*! @azure/msal-browser v4.22.1 2025-09-09 */const K_=-2147186943,$_={[$T]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class on extends X{constructor(e,n,r){super(e,n),Object.setPrototypeOf(this,on.prototype),this.name="NativeAuthError",this.ext=r}}function Qr(t){if(t.ext&&t.ext.status&&t.ext.status===j_||t.ext&&t.ext.error&&t.ext.error===K_)return!0;switch(t.errorCode){case U_:return!0;default:return!1}}function Qa(t,e,n){if(n&&n.status)switch(n.status){case V_:return $a(Kw);case F_:return new Gt(t,e);case H_:return M(Wi);case B_:return M(Ga);case z_:return $a(rf)}return new on(t,$_[t]||e,n)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class GT extends Bo{async acquireToken(e){this.performanceClient.addQueueMeasurement(C.SilentCacheClientAcquireToken,e.correlationId);const n=this.initializeServerTelemetryManager(J.acquireTokenSilent_silentFlow),r=await k(this.getClientConfiguration.bind(this),C.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),o=new SR(r,this.performanceClient);this.logger.verbose("Silent auth client created");try{const s=(await k(o.acquireCachedToken.bind(o),C.SilentFlowClientAcquireCachedToken,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),s}catch(i){throw i instanceof is&&i.errorCode===hf&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),i}}logout(e){this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(n.correlationId,n==null?void 0:n.account)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class ta extends VT{constructor(e,n,r,o,i,s,a,c,l,u,d,h){super(e,n,r,o,i,s,c,l,h),this.apiId=a,this.accountId=u,this.platformAuthProvider=l,this.nativeStorageManager=d,this.silentCacheClient=new GT(e,this.nativeStorageManager,r,o,i,s,c,l,h);const p=this.platformAuthProvider.getExtensionName();this.skus=Gi.makeExtraSkuString({libraryName:nt.MSAL_SKU,libraryVersion:Ur,extensionName:p,extensionVersion:this.platformAuthProvider.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[U0]:this.skus}}async acquireToken(e,n){this.performanceClient.addQueueMeasurement(C.NativeInteractionClientAcquireToken,this.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const r=this.performanceClient.startMeasurement(C.NativeInteractionClientAcquireToken,this.correlationId),o=lt(),i=this.initializeServerTelemetryManager(this.apiId);try{const s=await this.initializeNativeRequest(e);try{const c=await this.acquireTokensFromCache(this.accountId,s);return r.end({success:!0,isNativeBroker:!1,fromCache:!0}),c}catch(c){if(n===Ge.AccessToken)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),r.end({success:!1,brokerErrorCode:"cache_request_failed"}),c;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const a=await this.platformAuthProvider.sendMessage(s);return await this.handleNativeResponse(a,s,o).then(c=>(r.end({success:!0,isNativeBroker:!0,requestId:c.requestId}),i.clearNativeBrokerErrorCode(),c)).catch(c=>{throw r.end({success:!1,errorCode:c.errorCode,subErrorCode:c.subError}),c})}catch(s){throw s instanceof on&&i.setNativeBrokerErrorCode(s.errorCode),r.end({success:!1}),s}}createSilentCacheRequest(e,n){return{authority:e.authority,correlationId:this.correlationId,scopes:Ie.fromString(e.scope).asArray(),account:n,forceRefresh:!1}}async acquireTokensFromCache(e,n){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),N(Zu);const r=this.browserStorage.getBaseAccountInfo({nativeAccountId:e},this.correlationId);if(!r)throw N(Zu);try{const o=this.createSilentCacheRequest(n,r),i=await this.silentCacheClient.acquireToken(o),s={...r,idTokenClaims:i==null?void 0:i.idTokenClaims,idToken:i==null?void 0:i.idToken};return{...i,account:s}}catch(o){throw o}}async acquireTokenRedirect(e,n){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...r}=e;delete r.onRedirectNavigate;const o=await this.initializeNativeRequest(r);try{await this.platformAuthProvider.sendMessage(o)}catch(a){if(a instanceof on&&(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(a.errorCode),Qr(a)))throw a}this.browserStorage.setTemporaryCache(we.NATIVE_REQUEST,JSON.stringify(o),!0);const i={apiId:J.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);n.end({success:!0}),await this.navigationClient.navigateExternal(s,i)}async handleRedirectPromise(e,n){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const r=this.browserStorage.getCachedNativeRequest();if(!r)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&n&&(e==null||e.addFields({errorCode:"no_cached_request"},n)),null;const{prompt:o,...i}=r;o&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(we.NATIVE_REQUEST));const s=lt();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const a=await this.platformAuthProvider.sendMessage(i),c=await this.handleNativeResponse(a,i,s);return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),e&&this.correlationId&&this.performanceClient.addFields({isNativeBroker:!0},this.correlationId),c}catch(a){throw a}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,n,r){var u,d;this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const o=Uo(e.id_token,Vt),i=this.createHomeAccountIdentifier(e,o),s=(u=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:n.accountId},this.correlationId))==null?void 0:u.homeAccountId;if((d=n.extraParameters)!=null&&d.child_client_id&&e.account.id!==n.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(i!==s&&e.account.id!==n.accountId)throw Qa($T);const a=await this.getDiscoveredAuthority({requestAuthority:n.authority}),c=of(this.browserStorage,a,i,Vt,this.correlationId,o,e.client_info,void 0,o.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const l=await this.generateAuthenticationResult(e,n,o,c,a.canonicalAuthority,r);return await this.cacheAccount(c,this.correlationId),await this.cacheNativeTokens(e,n,i,o,e.access_token,l.tenantId,r),l}createHomeAccountIdentifier(e,n){return $t.generateHomeAccountId(e.client_info||I.EMPTY_STRING,Ut.Default,this.logger,this.browserCrypto,n)}generateScopes(e,n){return n?Ie.fromString(n):Ie.fromString(e)}async generatePopAccessToken(e,n){if(n.tokenType===Q.POP&&n.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const r=new Oo(this.browserCrypto),o={resourceRequestMethod:n.resourceRequestMethod,resourceRequestUri:n.resourceRequestUri,shrClaims:n.shrClaims,shrNonce:n.shrNonce};if(!n.keyId)throw N(xh);return r.signPopToken(e.access_token,n.keyId,o)}else return e.access_token}async generateAuthenticationResult(e,n,r,o,i,s){const a=this.addTelemetryFromNativeResponse(e.properties.MATS),c=this.generateScopes(n.scope,e.scope),l=e.account.properties||{},u=l.UID||r.oid||r.sub||I.EMPTY_STRING,d=l.TenantId||r.tid||I.EMPTY_STRING,h=jh(o.getAccountInfo(),void 0,r,e.id_token);h.nativeAccountId!==e.account.id&&(h.nativeAccountId=e.account.id);const p=await this.generatePopAccessToken(e,n),v=n.tokenType===Q.POP?Q.POP:Q.BEARER;return{authority:i,uniqueId:u,tenantId:d,scopes:c.asArray(),account:h,idToken:e.id_token,idTokenClaims:r,accessToken:p,fromCache:a?this.isResponseFromCache(a):!1,expiresOn:To(s+e.expires_in),tokenType:v,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e,n){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e.getAccountInfo(),n)}cacheNativeTokens(e,n,r,o,i,s,a){const c=xc(r,n.authority,e.id_token||"",n.clientId,o.tid||""),l=n.tokenType===Q.POP?I.SHR_NONCE_VALIDITY:(typeof e.expires_in=="string"?parseInt(e.expires_in,10):e.expires_in)||0,u=a+l,d=this.generateScopes(e.scope,n.scope),h=Mc(r,n.authority,i,n.clientId,o.tid||s,d.printScopes(),u,0,Vt,void 0,n.tokenType,void 0,n.keyId),p={idToken:c,accessToken:h};return this.nativeStorageManager.saveCacheRecord(p,this.correlationId,n.storeInCache)}getExpiresInValue(e,n){return e===Q.POP?I.SHR_NONCE_VALIDITY:(typeof n=="string"?parseInt(n,10):n)||0}addTelemetryFromNativeResponse(e){const n=this.getMATSFromResponse(e);return n?(this.performanceClient.addFields({extensionId:this.platformAuthProvider.getExtensionId(),extensionVersion:this.platformAuthProvider.getExtensionVersion(),matsBrokerVersion:n.broker_version,matsAccountJoinOnStart:n.account_join_on_start,matsAccountJoinOnEnd:n.account_join_on_end,matsDeviceJoin:n.device_join,matsPromptBehavior:n.prompt_behavior,matsApiErrorCode:n.api_error_code,matsUiVisible:n.ui_visible,matsSilentCode:n.silent_code,matsSilentBiSubCode:n.silent_bi_sub_code,matsSilentMessage:n.silent_message,matsSilentStatus:n.silent_status,matsHttpStatus:n.http_status,matsHttpEventCount:n.http_event_count},this.correlationId),n):null}getMATSFromResponse(e){if(e)try{return JSON.parse(e)}catch{this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return typeof e.is_cached>"u"?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const n=await this.getCanonicalAuthority(e),{scopes:r,...o}=e,i=new Ie(r||[]);i.appendScopes(Lo);const s={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:this.getPrompt(e.prompt),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(s.signPopToken&&e.popKid)throw M(ET);if(this.handleExtraBrokerParams(s),s.extraParameters=s.extraParameters||{},s.extraParameters.telemetry=_t.MATS_TELEMETRY,e.authenticationScheme===Q.POP){const a={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},c=new Oo(this.browserCrypto);let l;if(s.keyId)l=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:s.keyId})),s.signPopToken=!1;else{const u=await k(c.generateCnf.bind(c),C.PopTokenGenerateCnf,this.logger,this.performanceClient,this.correlationId)(a,this.logger);l=u.reqCnfString,s.keyId=u.kid,s.signPopToken=!0}s.reqCnf=l}return this.addRequestSKUs(s),s}async getCanonicalAuthority(e){const n=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:n,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const r=new q(n);return r.validateAsUri(),r}getPrompt(e){switch(this.apiId){case J.ssoSilent:case J.acquireTokenSilent_silentFlow:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),Ye.NONE}if(!e){this.logger.trace("initializeNativeRequest: prompt was not provided");return}switch(e){case Ye.NONE:case Ye.CONSENT:case Ye.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e} is not compatible with native flow`),M(ST)}}handleExtraBrokerParams(e){var i;const n=e.extraParameters&&e.extraParameters.hasOwnProperty(Ba)&&e.extraParameters.hasOwnProperty(ja)&&e.extraParameters.hasOwnProperty(Dr);if(!e.embeddedClientId&&!n)return;let r="";const o=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,r=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[ja],r=e.extraParameters[Dr]),e.extraParameters={child_client_id:r,child_redirect_uri:o},(i=this.performanceClient)==null||i.addFields({embeddedClientId:r,embeddedRedirectUri:o},this.correlationId)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function Rf(t,e,n,r,o){const i=ER({...t.auth,authority:e},n,r,o);if(Yh(i,{sku:nt.MSAL_SKU,version:Ur,os:"",cpu:""}),t.auth.protocolMode!==at.OIDC&&Jh(i,t.telemetry.application),n.platformBroker&&(j0(i),o.addFields({isPlatformAuthorizeRequest:!0},n.correlationId),n.authenticationScheme===Q.POP)){const s=new kn(r,o),a=new Oo(s);let c;n.popKid?c=s.encodeKid(n.popKid):c=(await k(a.generateCnf.bind(a),C.PopTokenGenerateCnf,r,o,n.correlationId)(n,r)).reqCnfString,Zh(i,c)}return Pc(i,n.correlationId,o),i}async function _f(t,e,n,r,o){if(!n.codeChallenge)throw Z(Uh);const i=await k(Rf,C.GetStandardParams,r,o,n.correlationId)(t,e,n,r,o);return Kh(i,kh.CODE),Nw(i,n.codeChallenge,I.S256_CODE_CHALLENGE_METHOD),Jn(i,n.extraQueryParameters||{}),sf(e,i,t.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function Pf(t,e,n,r,o,i){if(!r.earJwk)throw M(uf);const s=await Rf(e,n,r,o,i);Kh(s,kh.IDTOKEN_TOKEN_REFRESHTOKEN),X0(s,r.earJwk);const a=new Map;Jn(a,r.extraQueryParameters||{});const c=sf(n,a,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return WT(t,c,s)}async function Of(t,e,n,r,o,i){const s=await Rf(e,n,r,o,i);Kh(s,kh.CODE),Nw(s,r.codeChallenge,r.codeChallengeMethod||I.S256_CODE_CHALLENGE_METHOD),Z0(s,r.authorizePostBodyParameters||{});const a=new Map;Jn(a,r.extraQueryParameters||{});const c=sf(n,a,e.auth.encodeExtraQueryParams,r.extraQueryParameters);return WT(t,c,s)}function WT(t,e,n){const r=t.createElement("form");return r.method="post",r.action=e,n.forEach((o,i)=>{const s=t.createElement("input");s.hidden=!0,s.name=i,s.value=o,r.appendChild(s)}),t.body.appendChild(r),r}async function qT(t,e,n,r,o,i,s,a,c,l){if(a.verbose("Account id found, calling WAM for token"),!l)throw M(pf);const u=new kn(a,c),d=new ta(r,o,u,a,s,r.system.navigationClient,n,c,l,e,i,t.correlationId),{userRequestState:h}=Fo.parseRequestState(u,t.state);return k(d.acquireToken.bind(d),C.NativeInteractionClientAcquireToken,a,c,t.correlationId)({...t,state:h,prompt:void 0})}async function Ya(t,e,n,r,o,i,s,a,c,l,u,d){if(rn.removeThrottle(s,o.auth.clientId,t),e.accountId)return k(qT,C.HandleResponsePlatformBroker,l,u,t.correlationId)(t,e.accountId,r,o,s,a,c,l,u,d);const h={...t,code:e.code||"",codeVerifier:n},p=new KT(i,s,h,l,u);return await k(p.handleCodeResponse.bind(p),C.HandleCodeResponse,l,u,t.correlationId)(e,t)}async function Nf(t,e,n,r,o,i,s,a,c,l,u){if(rn.removeThrottle(i,r.auth.clientId,t),qw(e,t.state),!e.ear_jwe)throw M(Xw);if(!t.earJwk)throw M(uf);const d=JSON.parse(await k(ZR,C.DecryptEarResponse,c,l,t.correlationId)(t.earJwk,e.ear_jwe));if(d.accountId)return k(qT,C.HandleResponsePlatformBroker,c,l,t.correlationId)(t,d.accountId,n,r,i,s,a,c,l,u);const h=new Lr(r.auth.clientId,i,new kn(c,l),c,null,null,l);h.validateTokenResponse(d);const p={code:"",state:t.state,nonce:t.nonce,client_info:d.client_info,cloud_graph_host_name:d.cloud_graph_host_name,cloud_instance_host_name:d.cloud_instance_host_name,cloud_instance_name:d.cloud_instance_name,msgraph_host:d.msgraph_host};return await k(h.handleServerTokenResponse.bind(h),C.HandleServerTokenResponse,c,l,t.correlationId)(d,o,lt(),t,p,void 0,void 0,void 0,void 0)}/*! @azure/msal-browser v4.22.1 2025-09-09 */const G_=32;async function jc(t,e,n){t.addQueueMeasurement(C.GeneratePkceCodes,n);const r=vt(W_,C.GenerateCodeVerifier,e,t,n)(t,e,n),o=await k(q_,C.GenerateCodeChallengeFromVerifier,e,t,n)(r,t,e,n);return{verifier:r,challenge:o}}function W_(t,e,n){try{const r=new Uint8Array(G_);return vt(qR,C.GetRandomValues,e,t,n)(r),rr(r)}catch{throw M(lf)}}async function q_(t,e,n,r){e.addQueueMeasurement(C.GenerateCodeChallengeFromVerifier,r);try{const o=await k(NT,C.Sha256Digest,n,e,r)(t,e,r);return rr(new Uint8Array(o))}catch{throw M(lf)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Ja{constructor(e,n,r,o){this.logger=e,this.handshakeTimeoutMs=n,this.extensionId=o,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=r,this.handshakeEvent=r.startMeasurement(C.NativeMessageHandlerHandshake),this.platformAuthType=_t.PLATFORM_EXTENSION_PROVIDER}async sendMessage(e){this.logger.trace(this.platformAuthType+" - sendMessage called.");const n={method:Jo.GetToken,request:e},r={channel:_t.CHANNEL_ID,extensionId:this.extensionId,responseId:Wt(),body:n};this.logger.trace(this.platformAuthType+" - Sending request to browser extension"),this.logger.tracePii(this.platformAuthType+` - Sending request to browser extension: ${JSON.stringify(r)}`),this.messageChannel.port1.postMessage(r);const o=await new Promise((s,a)=>{this.resolvers.set(r.responseId,{resolve:s,reject:a})});return this.validatePlatformBrokerResponse(o)}static async createProvider(e,n,r){e.trace("PlatformAuthExtensionHandler - createProvider called.");try{const o=new Ja(e,n,r,_t.PREFERRED_EXTENSION_ID);return await o.sendHandshakeRequest(),o}catch{const i=new Ja(e,n,r);return await i.sendHandshakeRequest(),i}}async sendHandshakeRequest(){this.logger.trace(this.platformAuthType+" - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:_t.CHANNEL_ID,extensionId:this.extensionId,responseId:Wt(),body:{method:Jo.HandshakeRequest}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=n=>{this.onChannelMessage(n)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise((n,r)=>{this.handshakeResolvers.set(e.responseId,{resolve:n,reject:r}),this.timeoutId=window.setTimeout(()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),r(M(wT)),this.handshakeResolvers.delete(e.responseId)},this.handshakeTimeoutMs)})}onWindowMessage(e){if(this.logger.trace(this.platformAuthType+" - onWindowMessage called"),e.source!==window)return;const n=e.data;if(!(!n.channel||n.channel!==_t.CHANNEL_ID)&&!(n.extensionId&&n.extensionId!==this.extensionId)&&n.body.method===Jo.HandshakeRequest){const r=this.handshakeResolvers.get(n.responseId);if(!r){this.logger.trace(this.platformAuthType+`.onWindowMessage - resolver can't be found for request ${n.responseId}`);return}this.logger.verbose(n.extensionId?`Extension with id: ${n.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),r.reject(M(TT))}}onChannelMessage(e){this.logger.trace(this.platformAuthType+" - onChannelMessage called.");const n=e.data,r=this.resolvers.get(n.responseId),o=this.handshakeResolvers.get(n.responseId);try{const i=n.body.method;if(i===Jo.Response){if(!r)return;const s=n.body.response;if(this.logger.trace(this.platformAuthType+" - Received response from browser extension"),this.logger.tracePii(this.platformAuthType+` - Received response from browser extension: ${JSON.stringify(s)}`),s.status!=="Success")r.reject(Qa(s.code,s.description,s.ext));else if(s.result)s.result.code&&s.result.description?r.reject(Qa(s.result.code,s.result.description,s.result.ext)):r.resolve(s.result);else throw Yu(ba,"Event does not contain result.");this.resolvers.delete(n.responseId)}else if(i===Jo.HandshakeResponse){if(!o){this.logger.trace(this.platformAuthType+`.onChannelMessage - resolver can't be found for request ${n.responseId}`);return}clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=n.extensionId,this.extensionVersion=n.body.version,this.logger.verbose(this.platformAuthType+` - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),o.resolve(),this.handshakeResolvers.delete(n.responseId)}}catch(i){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${i}`),this.logger.errorPii(`Unable to parse ${e}`),r?r.reject(i):o&&o.reject(i)}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw Yu(ba,"Response missing expected properties.")}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}getExtensionName(){var e;return this.getExtensionId()===_t.PREFERRED_EXTENSION_ID?"chrome":(e=this.getExtensionId())!=null&&e.length?"unknown":void 0}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class xf{constructor(e,n,r){this.logger=e,this.performanceClient=n,this.correlationId=r,this.platformAuthType=_t.PLATFORM_DOM_PROVIDER}static async createProvider(e,n,r){var o;if(e.trace("PlatformAuthDOMHandler: createProvider called"),(o=window.navigator)!=null&&o.platformAuthentication){const i=await window.navigator.platformAuthentication.getSupportedContracts(_t.MICROSOFT_ENTRA_BROKERID);if(i!=null&&i.includes(_t.PLATFORM_DOM_APIS))return e.trace("Platform auth api available in DOM"),new xf(e,n,r)}}getExtensionId(){return _t.MICROSOFT_ENTRA_BROKERID}getExtensionVersion(){return""}getExtensionName(){return _t.DOM_API_NAME}async sendMessage(e){this.logger.trace(this.platformAuthType+" - Sending request to browser DOM API");try{const n=this.initializePlatformDOMRequest(e),r=await window.navigator.platformAuthentication.executeGetToken(n);return this.validatePlatformBrokerResponse(r)}catch(n){throw this.logger.error(this.platformAuthType+" - executeGetToken DOM API error"),n}}initializePlatformDOMRequest(e){this.logger.trace(this.platformAuthType+" - initializeNativeDOMRequest called");const{accountId:n,clientId:r,authority:o,scope:i,redirectUri:s,correlationId:a,state:c,storeInCache:l,embeddedClientId:u,extraParameters:d,...h}=e,p=this.getDOMExtraParams(h);return{accountId:n,brokerId:this.getExtensionId(),authority:o,clientId:r,correlationId:a||this.correlationId,extraParameters:{...d,...p},isSecurityTokenService:!1,redirectUri:s,scope:i,state:c,storeInCache:l,embeddedClientId:u}}validatePlatformBrokerResponse(e){if(e.hasOwnProperty("isSuccess")){if(e.hasOwnProperty("accessToken")&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("clientInfo")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scopes")&&e.hasOwnProperty("expiresIn"))return this.logger.trace(this.platformAuthType+" - platform broker returned successful and valid response"),this.convertToPlatformBrokerResponse(e);if(e.hasOwnProperty("error")){const n=e;if(n.isSuccess===!1&&n.error&&n.error.code)throw this.logger.trace(this.platformAuthType+" - platform broker returned error response"),Qa(n.error.code,n.error.description,{error:parseInt(n.error.errorCode),protocol_error:n.error.protocolError,status:n.error.status,properties:n.error.properties})}}throw Yu(ba,"Response missing expected properties.")}convertToPlatformBrokerResponse(e){return this.logger.trace(this.platformAuthType+" - convertToNativeResponse called"),{access_token:e.accessToken,id_token:e.idToken,client_info:e.clientInfo,account:e.account,expires_in:e.expiresIn,scope:e.scopes,state:e.state||"",properties:e.properties||{},extendedLifetimeToken:e.extendedLifetimeToken??!1,shr:e.proofOfPossessionPayload}}getDOMExtraParams(e){return{...Object.entries(e).reduce((o,[i,s])=>(o[i]=String(s),o),{})}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function Q_(t,e,n,r){t.trace("getPlatformAuthProvider called",n);const o=Y_();t.trace("Has client allowed platform auth via DOM API: "+o);let i;try{o&&(i=await xf.createProvider(t,e,n)),i||(t.trace("Platform auth via DOM API not available, checking for extension"),i=await Ja.createProvider(t,r||BT,e))}catch(s){t.trace("Platform auth not available",s)}return i}function Y_(){let t;try{return t=window[Re.SessionStorage],(t==null?void 0:t.getItem(g_))==="true"}catch{return!1}}function Qi(t,e,n,r){if(e.trace("isPlatformAuthAllowed called"),!t.system.allowPlatformBroker)return e.trace("isPlatformAuthAllowed: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return e.trace("isPlatformAuthAllowed: Platform auth provider is not initialized, returning false"),!1;if(r)switch(r){case Q.BEARER:case Q.POP:return e.trace("isPlatformAuthAllowed: authenticationScheme is supported, returning true"),!0;default:return e.trace("isPlatformAuthAllowed: authenticationScheme is not supported, returning false"),!1}return!0}/*! @azure/msal-browser v4.22.1 2025-09-09 */class J_ extends Bo{constructor(e,n,r,o,i,s,a,c,l,u){super(e,n,r,o,i,s,a,l,u),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=c,this.eventHandler=i}acquireToken(e,n){let r;try{if(r={popupName:this.generatePopupName(e.scopes||Lo,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window},this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,r,n);{const i={...e,httpMethod:zT(e,this.config.auth.protocolMode)};return this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),r.popup=this.openSizedPopup("about:blank",r),this.acquireTokenPopupAsync(i,r,n)}}catch(o){return Promise.reject(o)}}logout(e){try{this.logger.verbose("logoutPopup called");const n=this.initializeLogoutRequest(e),r={popupName:this.generateLogoutPopupName(n),popupWindowAttributes:(e==null?void 0:e.popupWindowAttributes)||{},popupWindowParent:(e==null?void 0:e.popupWindowParent)??window},o=e&&e.authority,i=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(n,r,o,i)):(this.logger.verbose("asyncPopup set to false, opening popup"),r.popup=this.openSizedPopup("about:blank",r),this.logoutPopupAsync(n,r,o,i))}catch(n){return Promise.reject(n)}}async acquireTokenPopupAsync(e,n,r){this.logger.verbose("acquireTokenPopupAsync called");const o=await k(this.initializeAuthorizationRequest.bind(this),C.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,H.Popup);n.popup&&HT(o.authority);const i=Qi(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);return o.platformBroker=i,this.config.auth.protocolMode===at.EAR?this.executeEarFlow(o,n):this.executeCodeFlow(o,n,r)}async executeCodeFlow(e,n,r){var c;const o=e.correlationId,i=this.initializeServerTelemetryManager(J.acquireTokenPopup),s=r||await k(jc,C.GeneratePkceCodes,this.logger,this.performanceClient,o)(this.performanceClient,this.logger,o),a={...e,codeChallenge:s.challenge};try{const l=await k(this.createAuthCodeClient.bind(this),C.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,o)({serverTelemetryManager:i,requestAuthority:a.authority,requestAzureCloudOptions:a.azureCloudOptions,requestExtraQueryParameters:a.extraQueryParameters,account:a.account});if(a.httpMethod===Er.POST)return await this.executeCodeFlowWithPost(a,n,l,s.verifier);{const u=await k(_f,C.GetAuthCodeUrl,this.logger,this.performanceClient,o)(this.config,l.authority,a,this.logger,this.performanceClient),d=this.initiateAuthRequest(u,n);this.eventHandler.emitEvent(D.POPUP_OPENED,H.Popup,{popupWindow:d},null);const h=await this.monitorPopupForHash(d,n.popupWindowParent),p=vt(Si,C.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(h,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await k(Ya,C.HandleResponseCode,this.logger,this.performanceClient,o)(e,p,s.verifier,J.acquireTokenPopup,this.config,l,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}catch(l){throw(c=n.popup)==null||c.close(),l instanceof X&&(l.setCorrelationId(this.correlationId),i.cacheFailedRequest(l)),l}}async executeEarFlow(e,n){const r=e.correlationId,o=await k(this.getDiscoveredAuthority.bind(this),C.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,r)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await k(Cf,C.GenerateEarKey,this.logger,this.performanceClient,r)(),s={...e,earJwk:i},a=n.popup||this.openPopup("about:blank",n);(await Pf(a.document,this.config,o,s,this.logger,this.performanceClient)).submit();const l=await k(this.monitorPopupForHash.bind(this),C.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(a,n.popupWindowParent),u=vt(Si,C.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(l,this.config.auth.OIDCOptions.serverResponseType,this.logger);return k(Nf,C.HandleResponseEar,this.logger,this.performanceClient,r)(s,u,J.acquireTokenPopup,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async executeCodeFlowWithPost(e,n,r,o){const i=e.correlationId,s=await k(this.getDiscoveredAuthority.bind(this),C.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,i)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),a=n.popup||this.openPopup("about:blank",n);(await Of(a.document,this.config,s,e,this.logger,this.performanceClient)).submit();const l=await k(this.monitorPopupForHash.bind(this),C.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,i)(a,n.popupWindowParent),u=vt(Si,C.DeserializeResponse,this.logger,this.performanceClient,this.correlationId)(l,this.config.auth.OIDCOptions.serverResponseType,this.logger);return k(Ya,C.HandleResponseCode,this.logger,this.performanceClient,i)(e,u,o,J.acquireTokenPopup,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async logoutPopupAsync(e,n,r,o){var s,a,c;this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(D.LOGOUT_START,H.Popup,e);const i=this.initializeServerTelemetryManager(J.logoutPopup);try{await this.clearCacheOnLogout(this.correlationId,e.account);const l=await k(this.createAuthCodeClient.bind(this),C.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:r,account:e.account||void 0});try{l.authority.endSessionEndpoint}catch{if((s=e.account)!=null&&s.homeAccountId&&e.postLogoutRedirectUri&&l.authority.protocolMode===at.OIDC){if(this.eventHandler.emitEvent(D.LOGOUT_SUCCESS,H.Popup,e),o){const h={apiId:J.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},p=q.getAbsoluteUrl(o,mn());await this.navigationClient.navigateInternal(p,h)}(a=n.popup)==null||a.close();return}}const u=l.getLogoutUri(e);this.eventHandler.emitEvent(D.LOGOUT_SUCCESS,H.Popup,e);const d=this.openPopup(u,n);if(this.eventHandler.emitEvent(D.POPUP_OPENED,H.Popup,{popupWindow:d},null),await this.monitorPopupForHash(d,n.popupWindowParent).catch(()=>{}),o){const h={apiId:J.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},p=q.getAbsoluteUrl(o,mn());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${p}`),await this.navigationClient.navigateInternal(p,h)}else this.logger.verbose("No main window navigation requested")}catch(l){throw(c=n.popup)==null||c.close(),l instanceof X&&(l.setCorrelationId(this.correlationId),i.cacheFailedRequest(l)),this.eventHandler.emitEvent(D.LOGOUT_FAILURE,H.Popup,null,l),this.eventHandler.emitEvent(D.LOGOUT_END,H.Popup),l}this.eventHandler.emitEvent(D.LOGOUT_END,H.Popup)}initiateAuthRequest(e,n){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,n);throw this.logger.error("Navigate url is empty"),M(Uc)}monitorPopupForHash(e,n){return new Promise((r,o)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const i=setInterval(()=>{if(e.closed){this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(i),o(M(Wi));return}let s="";try{s=e.location.href}catch{}if(!s||s==="about:blank")return;clearInterval(i);let a="";const c=this.config.auth.OIDCOptions.serverResponseType;e&&(c===Rc.QUERY?a=e.location.search:a=e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),r(a)},this.config.system.pollIntervalMilliseconds)}).finally(()=>{this.cleanPopup(e,n)})}openPopup(e,n){try{let r;if(n.popup?(r=n.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),r.location.assign(e)):typeof n.popup>"u"&&(this.logger.verbosePii(`Opening popup window to: ${e}`),r=this.openSizedPopup(e,n)),!r)throw M(iT);return r.focus&&r.focus(),this.currentWindow=r,n.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),r}catch(r){throw this.logger.error("error opening popup "+r.message),M(oT)}}openSizedPopup(e,{popupName:n,popupWindowAttributes:r,popupWindowParent:o}){var p,v,y,T;const i=o.screenLeft?o.screenLeft:o.screenX,s=o.screenTop?o.screenTop:o.screenY,a=o.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=o.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let l=(p=r.popupSize)==null?void 0:p.width,u=(v=r.popupSize)==null?void 0:v.height,d=(y=r.popupPosition)==null?void 0:y.top,h=(T=r.popupPosition)==null?void 0:T.left;return(!l||l<0||l>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=nt.POPUP_WIDTH),(!u||u<0||u>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=nt.POPUP_HEIGHT),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,c/2-nt.POPUP_HEIGHT/2+s)),(!h||h<0||h>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),h=Math.max(0,a/2-nt.POPUP_WIDTH/2+i)),o.open(e,n,`width=${l}, height=${u}, top=${d}, left=${h}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,n){e.close(),n.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,n){return`${nt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${e.join("-")}.${n}.${this.correlationId}`}generateLogoutPopupName(e){const n=e.account&&e.account.homeAccountId;return`${nt.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${n}.${this.correlationId}`}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function X_(){if(typeof window>"u"||typeof window.performance>"u"||typeof window.performance.getEntriesByType!="function")return;const t=window.performance.getEntriesByType("navigation"),e=t.length?t[0]:void 0;return e==null?void 0:e.type}class Z_ extends Bo{constructor(e,n,r,o,i,s,a,c,l,u){super(e,n,r,o,i,s,a,l,u),this.nativeStorage=c}async acquireToken(e){const n=await k(this.initializeAuthorizationRequest.bind(this),C.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,this.correlationId)(e,H.Redirect);n.platformBroker=Qi(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme);const r=i=>{i.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(D.RESTORE_FROM_BFCACHE,H.Redirect))},o=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${o}`),this.browserStorage.setTemporaryCache(we.ORIGIN_URI,o,!0),window.addEventListener("pageshow",r);try{this.config.auth.protocolMode===at.EAR?await this.executeEarFlow(n):await this.executeCodeFlow(n,e.onRedirectNavigate)}catch(i){throw i instanceof X&&i.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",r),i}}async executeCodeFlow(e,n){const r=e.correlationId,o=this.initializeServerTelemetryManager(J.acquireTokenRedirect),i=await k(jc,C.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),s={...e,codeChallenge:i.challenge};this.browserStorage.cacheAuthorizeRequest(s,i.verifier);try{if(s.httpMethod===Er.POST)return await this.executeCodeFlowWithPost(s);{const a=await k(this.createAuthCodeClient.bind(this),C.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:s.authority,requestAzureCloudOptions:s.azureCloudOptions,requestExtraQueryParameters:s.extraQueryParameters,account:s.account}),c=await k(_f,C.GetAuthCodeUrl,this.logger,this.performanceClient,e.correlationId)(this.config,a.authority,s,this.logger,this.performanceClient);return await this.initiateAuthRequest(c,n)}}catch(a){throw a instanceof X&&(a.setCorrelationId(this.correlationId),o.cacheFailedRequest(a)),a}}async executeEarFlow(e){const n=e.correlationId,r=await k(this.getDiscoveredAuthority.bind(this),C.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=await k(Cf,C.GenerateEarKey,this.logger,this.performanceClient,n)(),i={...e,earJwk:o};return this.browserStorage.cacheAuthorizeRequest(i),(await Pf(document,this.config,r,i,this.logger,this.performanceClient)).submit(),new Promise((a,c)=>{setTimeout(()=>{c(M(Wa,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async executeCodeFlowWithPost(e){const n=e.correlationId,r=await k(this.getDiscoveredAuthority.bind(this),C.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return this.browserStorage.cacheAuthorizeRequest(e),(await Of(document,this.config,r,e,this.logger,this.performanceClient)).submit(),new Promise((i,s)=>{setTimeout(()=>{s(M(Wa,"failed_to_redirect"))},this.config.system.redirectNavigationTimeout)})}async handleRedirectPromise(e="",n,r,o){const i=this.initializeServerTelemetryManager(J.handleRedirectPromise);try{const[s,a]=this.getRedirectResponse(e||"");if(!s)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),X_()!=="back_forward"?o.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const c=this.browserStorage.getTemporaryCache(we.ORIGIN_URI,!0)||I.EMPTY_STRING,l=Rm(c),u=Rm(window.location.href);if(l===u&&this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("Current page is loginRequestUrl, handling response"),c.indexOf("#")>-1&&n_(c),await this.handleResponse(s,n,r,i);if(this.config.auth.navigateToLoginRequestUrl){if(!Sf()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(we.URL_HASH,a,!0);const d={apiId:J.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let h=!0;if(!c||c==="null"){const p=o_();this.browserStorage.setTemporaryCache(we.ORIGIN_URI,p,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),h=await this.navigationClient.navigateInternal(p,d)}else this.logger.verbose(`Navigating to loginRequestUrl: ${c}`),h=await this.navigationClient.navigateInternal(c,d);if(!h)return await this.handleResponse(s,n,r,i)}}else return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(s,n,r,i);return null}catch(s){throw s instanceof X&&(s.setCorrelationId(this.correlationId),i.cacheFailedRequest(s)),s}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let n=e;n||(this.config.auth.OIDCOptions.serverResponseType===Rc.QUERY?n=window.location.search:n=window.location.hash);let r=La(n);if(r){try{L_(r,this.browserCrypto,H.Redirect)}catch(i){return i instanceof X&&this.logger.error(`Interaction type validation failed due to ${i.errorCode}: ${i.errorMessage}`),[null,""]}return LT(window),this.logger.verbose("Hash contains known properties, returning response hash"),[r,n]}const o=this.browserStorage.getTemporaryCache(we.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(we.URL_HASH)),o&&(r=La(o),r)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[r,o]):[null,""]}async handleResponse(e,n,r,o){if(!e.state)throw M(df);if(e.ear_jwe){const a=await k(this.getDiscoveredAuthority.bind(this),C.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n.correlationId)({requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account});return k(Nf,C.HandleResponseEar,this.logger,this.performanceClient,n.correlationId)(n,e,J.acquireTokenRedirect,this.config,a,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}const s=await k(this.createAuthCodeClient.bind(this),C.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n.authority});return k(Ya,C.HandleResponseCode,this.logger,this.performanceClient,n.correlationId)(n,e,r,J.acquireTokenRedirect,this.config,s,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}async initiateAuthRequest(e,n){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const r={apiId:J.acquireTokenRedirect,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=n||this.config.auth.onRedirectNavigate;if(typeof o=="function")if(this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),o(e)!==!1){this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),await this.navigationClient.navigateExternal(e,r);return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation");return}else{this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),await this.navigationClient.navigateExternal(e,r);return}}else throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),M(Uc)}async logout(e){var o;this.logger.verbose("logoutRedirect called");const n=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(J.logout);try{this.eventHandler.emitEvent(D.LOGOUT_START,H.Redirect,e),await this.clearCacheOnLogout(this.correlationId,n.account);const i={apiId:J.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=await k(this.createAuthCodeClient.bind(this),C.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:e&&e.authority,requestExtraQueryParameters:e==null?void 0:e.extraQueryParameters,account:e&&e.account||void 0});if(s.authority.protocolMode===at.OIDC)try{s.authority.endSessionEndpoint}catch{if((o=n.account)!=null&&o.homeAccountId){this.eventHandler.emitEvent(D.LOGOUT_SUCCESS,H.Redirect,n);return}}const a=s.getLogoutUri(n);if(this.eventHandler.emitEvent(D.LOGOUT_SUCCESS,H.Redirect,n),e&&typeof e.onRedirectNavigate=="function")if(e.onRedirectNavigate(a)!==!1){this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Un.SIGNOUT),await this.navigationClient.navigateExternal(a,i);return}else this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation");else{this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Un.SIGNOUT),await this.navigationClient.navigateExternal(a,i);return}}catch(i){throw i instanceof X&&(i.setCorrelationId(this.correlationId),r.cacheFailedRequest(i)),this.eventHandler.emitEvent(D.LOGOUT_FAILURE,H.Redirect,null,i),this.eventHandler.emitEvent(D.LOGOUT_END,H.Redirect),i}this.eventHandler.emitEvent(D.LOGOUT_END,H.Redirect)}getRedirectStartPage(e){const n=e||window.location.href;return q.getAbsoluteUrl(n,mn())}}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function eP(t,e,n,r,o){if(e.addQueueMeasurement(C.SilentHandlerInitiateAuthRequest,r),!t)throw n.info("Navigate url is empty"),M(Uc);return o?k(rP,C.SilentHandlerLoadFrame,n,e,r)(t,o,e,r):vt(oP,C.SilentHandlerLoadFrameSync,n,e,r)(t)}async function tP(t,e,n,r,o){const i=Vc();if(!i.contentDocument)throw"No document associated with iframe!";return(await Of(i.contentDocument,t,e,n,r,o)).submit(),i}async function nP(t,e,n,r,o){const i=Vc();if(!i.contentDocument)throw"No document associated with iframe!";return(await Pf(i.contentDocument,t,e,n,r,o)).submit(),i}async function rg(t,e,n,r,o,i,s){return r.addQueueMeasurement(C.SilentHandlerMonitorIframeForHash,i),new Promise((a,c)=>{e<ad&&o.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${e}ms) than the default (${ad}ms). This may result in timeouts.`);const l=window.setTimeout(()=>{window.clearInterval(u),c(M(sT))},e),u=window.setInterval(()=>{let d="";const h=t.contentWindow;try{d=h?h.location.href:""}catch{}if(!d||d==="about:blank")return;let p="";h&&(s===Rc.QUERY?p=h.location.search:p=h.location.hash),window.clearTimeout(l),window.clearInterval(u),a(p)},n)}).finally(()=>{vt(iP,C.RemoveHiddenIframe,o,r,i)(t)})}function rP(t,e,n,r){return n.addQueueMeasurement(C.SilentHandlerLoadFrame,r),new Promise((o,i)=>{const s=Vc();window.setTimeout(()=>{if(!s){i("Unable to load iframe");return}s.src=t,o(s)},e)})}function oP(t){const e=Vc();return e.src=t,e}function Vc(){const t=document.createElement("iframe");return t.className="msalSilentIframe",t.style.visibility="hidden",t.style.position="absolute",t.style.width=t.style.height="0",t.style.border="0",t.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(t),t}function iP(t){document.body===t.parentNode&&document.body.removeChild(t)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class sP extends Bo{constructor(e,n,r,o,i,s,a,c,l,u,d){super(e,n,r,o,i,s,c,u,d),this.apiId=a,this.nativeStorage=l}async acquireToken(e){this.performanceClient.addQueueMeasurement(C.SilentIframeClientAcquireToken,e.correlationId),!e.loginHint&&!e.sid&&(!e.account||!e.account.username)&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const n={...e};n.prompt?n.prompt!==Ye.NONE&&n.prompt!==Ye.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${n.prompt} with ${Ye.NONE}`),n.prompt=Ye.NONE):n.prompt=Ye.NONE;const r=await k(this.initializeAuthorizationRequest.bind(this),C.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(n,H.Silent);return r.platformBroker=Qi(this.config,this.logger,this.platformAuthProvider,r.authenticationScheme),HT(r.authority),this.config.auth.protocolMode===at.EAR?this.executeEarFlow(r):this.executeCodeFlow(r)}async executeCodeFlow(e){let n;const r=this.initializeServerTelemetryManager(this.apiId);try{return n=await k(this.createAuthCodeClient.bind(this),C.StandardInteractionClientCreateAuthCodeClient,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await k(this.silentTokenHelper.bind(this),C.SilentIframeClientTokenHelper,this.logger,this.performanceClient,e.correlationId)(n,e)}catch(o){if(o instanceof X&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),!n||!(o instanceof X)||o.errorCode!==nt.INVALID_GRANT_ERROR)throw o;return this.performanceClient.addFields({retryError:o.errorCode},this.correlationId),await k(this.silentTokenHelper.bind(this),C.SilentIframeClientTokenHelper,this.logger,this.performanceClient,this.correlationId)(n,e)}}async executeEarFlow(e){const n=e.correlationId,r=await k(this.getDiscoveredAuthority.bind(this),C.StandardInteractionClientGetDiscoveredAuthority,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=await k(Cf,C.GenerateEarKey,this.logger,this.performanceClient,n)(),i={...e,earJwk:o},s=await k(nP,C.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,n)(this.config,r,i,this.logger,this.performanceClient),a=this.config.auth.OIDCOptions.serverResponseType,c=await k(rg,C.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,n)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,a),l=vt(Si,C.DeserializeResponse,this.logger,this.performanceClient,n)(c,a,this.logger);return k(Nf,C.HandleResponseEar,this.logger,this.performanceClient,n)(i,l,this.apiId,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}logout(){return Promise.reject(M(Fc))}async silentTokenHelper(e,n){const r=n.correlationId;this.performanceClient.addQueueMeasurement(C.SilentIframeClientTokenHelper,r);const o=await k(jc,C.GeneratePkceCodes,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),i={...n,codeChallenge:o.challenge};let s;if(n.httpMethod===Er.POST)s=await k(tP,C.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(this.config,e.authority,i,this.logger,this.performanceClient);else{const u=await k(_f,C.GetAuthCodeUrl,this.logger,this.performanceClient,r)(this.config,e.authority,i,this.logger,this.performanceClient);s=await k(eP,C.SilentHandlerInitiateAuthRequest,this.logger,this.performanceClient,r)(u,this.performanceClient,this.logger,r,this.config.system.navigateFrameWait)}const a=this.config.auth.OIDCOptions.serverResponseType,c=await k(rg,C.SilentHandlerMonitorIframeForHash,this.logger,this.performanceClient,r)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,r,a),l=vt(Si,C.DeserializeResponse,this.logger,this.performanceClient,r)(c,a,this.logger);return k(Ya,C.HandleResponseCode,this.logger,this.performanceClient,r)(n,l,o.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.platformAuthProvider)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class aP extends Bo{async acquireToken(e){this.performanceClient.addQueueMeasurement(C.SilentRefreshClientAcquireToken,e.correlationId);const n=await k(If,C.InitializeBaseRequest,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),r={...e,...n};e.redirectUri&&(r.redirectUri=this.getRedirectUri(e.redirectUri));const o=this.initializeServerTelemetryManager(J.acquireTokenSilent_silentFlow),i=await this.createRefreshTokenClient({serverTelemetryManager:o,authorityUrl:r.authority,azureCloudOptions:r.azureCloudOptions,account:r.account});return k(i.acquireTokenByRefreshToken.bind(i),C.RefreshTokenClientAcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(r).catch(s=>{throw s.setCorrelationId(this.correlationId),o.cacheFailedRequest(s),s})}logout(){return Promise.reject(M(Fc))}async createRefreshTokenClient(e){const n=await k(this.getClientConfiguration.bind(this),C.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new TR(n,this.performanceClient)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class cP{constructor(e,n,r,o){this.isBrowserEnvironment=typeof window<"u",this.config=e,this.storage=n,this.logger=r,this.cryptoObj=o}async loadExternalTokens(e,n,r){if(!this.isBrowserEnvironment)throw M(Hc);const o=e.correlationId||Wt(),i=n.id_token?Uo(n.id_token,Vt):void 0,s={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},a=e.authority?new Ve(Ve.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,s,this.logger,e.correlationId||Wt()):void 0,c=await this.loadAccount(e,r.clientInfo||n.client_info||"",o,i,a),l=await this.loadIdToken(n,c.homeAccountId,c.environment,c.realm,o),u=await this.loadAccessToken(e,n,c.homeAccountId,c.environment,c.realm,r,o),d=await this.loadRefreshToken(n,c.homeAccountId,c.environment,o);return this.generateAuthenticationResult(e,{account:c,idToken:l,accessToken:u,refreshToken:d},i,a)}async loadAccount(e,n,r,o,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const l=$t.createFromAccountInfo(e.account);return await this.storage.setAccount(l,r),l}else if(!i||!n&&!o)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),M(mT);const s=$t.generateHomeAccountId(n,i.authorityType,this.logger,this.cryptoObj,o),a=o==null?void 0:o.tid,c=of(this.storage,i,s,Vt,r,o,n,i.hostnameAndPort,a,void 0,void 0,this.logger);return await this.storage.setAccount(c,r),c}async loadIdToken(e,n,r,o,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const s=xc(n,r,e.id_token,this.config.auth.clientId,o);return await this.storage.setIdTokenCredential(s,i),s}async loadAccessToken(e,n,r,o,i,s,a){if(n.access_token)if(n.expires_in){if(!n.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null}else return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;else return this.logger.verbose("TokenCache - no access token found in response"),null;this.logger.verbose("TokenCache - loading access token");const c=n.scope?Ie.fromString(n.scope):new Ie(e.scopes),l=s.expiresOn||n.expires_in+lt(),u=s.extendedExpiresOn||(n.ext_expires_in||n.expires_in)+lt(),d=Mc(r,o,n.access_token,this.config.auth.clientId,i,c.printScopes(),l,u,Vt);return await this.storage.setAccessTokenCredential(d,a),d}async loadRefreshToken(e,n,r,o){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=Bw(n,r,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(i,o),i}generateAuthenticationResult(e,n,r,o){var u,d,h;let i="",s=[],a=null,c;n!=null&&n.accessToken&&(i=n.accessToken.secret,s=Ie.fromString(n.accessToken.target).asArray(),a=To(n.accessToken.expiresOn),c=To(n.accessToken.extendedExpiresOn));const l=n.account;return{authority:o?o.canonicalAuthority:"",uniqueId:n.account.localAccountId,tenantId:n.account.realm,scopes:s,account:l.getAccountInfo(),idToken:((u=n.idToken)==null?void 0:u.secret)||"",idTokenClaims:r||{},accessToken:i,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:c,familyId:((d=n.refreshToken)==null?void 0:d.familyId)||"",tokenType:((h=n==null?void 0:n.accessToken)==null?void 0:h.tokenType)||"",state:e.state||"",cloudGraphHostName:l.cloudGraphHostName||"",msGraphHost:l.msGraphHost||"",fromNativeBroker:!1}}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class lP extends Ww{constructor(e){super(e),this.includeRedirectUri=!1}}/*! @azure/msal-browser v4.22.1 2025-09-09 */class uP extends Bo{constructor(e,n,r,o,i,s,a,c,l,u){super(e,n,r,o,i,s,c,l,u),this.apiId=a}async acquireToken(e){if(!e.code)throw M(gT);const n=await k(this.initializeAuthorizationRequest.bind(this),C.StandardInteractionClientInitializeAuthorizationRequest,this.logger,this.performanceClient,e.correlationId)(e,H.Silent),r=this.initializeServerTelemetryManager(this.apiId);try{const o={...n,code:e.code},i=await k(this.getClientConfiguration.bind(this),C.StandardInteractionClientGetClientConfiguration,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:r,requestAuthority:n.authority,requestAzureCloudOptions:n.azureCloudOptions,requestExtraQueryParameters:n.extraQueryParameters,account:n.account}),s=new lP(i);this.logger.verbose("Auth code client created");const a=new KT(s,this.browserStorage,o,this.logger,this.performanceClient);return await k(a.handleCodeResponseFromServer.bind(a),C.HandleCodeResponseFromServer,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},n,!1)}catch(o){throw o instanceof X&&(o.setCorrelationId(this.correlationId),r.cacheFailedRequest(o)),o}}logout(){return Promise.reject(M(Fc))}}/*! @azure/msal-browser v4.22.1 2025-09-09 */function dP(t,e,n){var s;const r=((s=window.msal)==null?void 0:s.clientIds)||[],o=r.length,i=r.filter(a=>a===t).length;i>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),e.add({msalInstanceCount:o,sameClientIdInstanceCount:i})}/*! @azure/msal-browser v4.22.1 2025-09-09 */function Jt(t){const e=t==null?void 0:t.idTokenClaims;if(e!=null&&e.tfp||e!=null&&e.acr)return"B2C";if(e!=null&&e.tid){if((e==null?void 0:e.tid)==="9188040d-6c67-4c5b-b112-36a304b66dad")return"MSA"}else return;return"AAD"}function Us(t,e){try{Af(t)}catch(n){throw e.end({success:!1},n),n}}class zc{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new kn(this.logger,this.performanceClient):Da,this.eventHandler=new M_(this.logger),this.browserStorage=this.isBrowserEnvironment?new dd(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,hR(this.config.auth)):E_(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const n={cacheLocation:Re.MemoryStorage,cacheRetentionDays:5,temporaryCacheLocation:Re.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new dd(this.config.auth.clientId,n,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new cP(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,n){const r=new zc(e);return await r.initialize(n),r}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,n){if(this.logger.trace("initialize called"),this.initialized){this.logger.info("initialize has already been called, exiting early.");return}if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,this.eventHandler.emitEvent(D.INITIALIZE_END);return}const r=(e==null?void 0:e.correlationId)||this.getRequestCorrelationId(),o=this.config.system.allowPlatformBroker,i=this.performanceClient.startMeasurement(C.InitializeClientApplication,r);if(this.eventHandler.emitEvent(D.INITIALIZE_START),!n)try{this.logMultipleInstances(i)}catch{}if(await k(this.browserStorage.initialize.bind(this.browserStorage),C.InitializeCache,this.logger,this.performanceClient,r)(r),o)try{this.platformAuthProvider=await Q_(this.logger,this.performanceClient,r,this.config.system.nativeBrokerHandshakeTimeout)}catch(s){this.logger.verbose(s)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),vt(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),C.ClearTokensAndKeysWithClaims,this.logger,this.performanceClient,r)(r)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(r),this.initialized=!0,this.eventHandler.emitEvent(D.INITIALIZE_END),i.end({allowPlatformBroker:o,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),FT(this.initialized),this.isBrowserEnvironment){const n=e||"";let r=this.redirectResponse.get(n);return typeof r>"u"?(r=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(n,r),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),r}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){var c;if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;if(((c=this.browserStorage.getInteractionInProgress())==null?void 0:c.type)===Un.SIGNOUT)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const r=this.getAllAccounts(),o=this.browserStorage.getCachedNativeRequest(),i=o&&this.platformAuthProvider&&!e;let s;this.eventHandler.emitEvent(D.HANDLE_REDIRECT_START,H.Redirect);let a;try{if(i&&this.platformAuthProvider){s=this.performanceClient.startMeasurement(C.AcquireTokenRedirect,(o==null?void 0:o.correlationId)||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform"),s.add({isPlatformBrokerRequest:!0});const l=new ta(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,J.handleRedirectPromise,this.performanceClient,this.platformAuthProvider,o.accountId,this.nativeInternalStorage,o.correlationId);a=k(l.handleRedirectPromise.bind(l),C.HandleNativeRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(this.performanceClient,s.event.correlationId)}else{const[l,u]=this.browserStorage.getCachedRequest(),d=l.correlationId;s=this.performanceClient.startMeasurement(C.AcquireTokenRedirect,d),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const h=this.createRedirectClient(d);a=k(h.handleRedirectPromise.bind(h),C.HandleRedirectPromiseMeasurement,this.logger,this.performanceClient,s.event.correlationId)(e,l,u,s)}}catch(l){throw this.browserStorage.resetRequestCache(),l}return a.then(l=>(l?(this.browserStorage.resetRequestCache(),r.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(D.LOGIN_SUCCESS,H.Redirect,l),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_SUCCESS,H.Redirect,l),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),s.end({success:!0,accountType:Jt(l.account)})):s.event.errorCode?s.end({success:!1}):s.discard(),this.eventHandler.emitEvent(D.HANDLE_REDIRECT_END,H.Redirect),l)).catch(l=>{this.browserStorage.resetRequestCache();const u=l;throw r.length>0?this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_FAILURE,H.Redirect,null,u):this.eventHandler.emitEvent(D.LOGIN_FAILURE,H.Redirect,null,u),this.eventHandler.emitEvent(D.HANDLE_REDIRECT_END,H.Redirect),s.end({success:!1},u),l})}async acquireTokenRedirect(e){const n=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",n);const r=this.performanceClient.startMeasurement(C.AcquireTokenPreRedirect,n);r.add({accountType:Jt(e.account),scenarioId:e.scenarioId});const o=e.onRedirectNavigate;if(o)e.onRedirectNavigate=s=>{const a=typeof o=="function"?o(s):void 0;return r.add({navigateCallbackResult:a!==!1}),r.event=r.end({success:!0})||r.event,a};else{const s=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=a=>{const c=typeof s=="function"?s(a):void 0;return r.add({navigateCallbackResult:c!==!1}),r.event=r.end({success:!0})||r.event,c}}const i=this.getAllAccounts().length>0;try{Wm(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Un.SIGNIN),i?this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_START,H.Redirect,e):this.eventHandler.emitEvent(D.LOGIN_START,H.Redirect,e);let s;return this.platformAuthProvider&&this.canUsePlatformBroker(e)?s=new ta(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,J.acquireTokenRedirect,this.performanceClient,this.platformAuthProvider,this.getNativeAccountId(e),this.nativeInternalStorage,n).acquireTokenRedirect(e,r).catch(c=>{if(r.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof on&&Qr(c))return this.platformAuthProvider=void 0,this.createRedirectClient(n).acquireToken(e);if(c instanceof Gt)return this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createRedirectClient(n).acquireToken(e);throw c}):s=this.createRedirectClient(n).acquireToken(e),await s}catch(s){throw this.browserStorage.resetRequestCache(),r.event.status===2?this.performanceClient.startMeasurement(C.AcquireTokenRedirect,n).end({success:!1},s):r.end({success:!1},s),i?this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_FAILURE,H.Redirect,null,s):this.eventHandler.emitEvent(D.LOGIN_FAILURE,H.Redirect,null,s),s}}acquireTokenPopup(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(C.AcquireTokenPopup,n);r.add({scenarioId:e.scenarioId,accountType:Jt(e.account)});try{this.logger.verbose("acquireTokenPopup called",n),Us(this.initialized,r),this.browserStorage.setInteractionInProgress(!0,Un.SIGNIN)}catch(a){return Promise.reject(a)}const o=this.getAllAccounts();o.length>0?this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_START,H.Popup,e):this.eventHandler.emitEvent(D.LOGIN_START,H.Popup,e);let i;const s=this.getPreGeneratedPkceCodes(n);return this.canUsePlatformBroker(e)?(r.add({isPlatformBrokerRequest:!0}),i=this.acquireTokenNative({...e,correlationId:n},J.acquireTokenPopup).then(a=>(r.end({success:!0,accountType:Jt(a.account)}),a)).catch(a=>{if(r.add({brokerErrorName:a.name,brokerErrorCode:a.errorCode}),a instanceof on&&Qr(a))return this.platformAuthProvider=void 0,this.createPopupClient(n).acquireToken(e,s);if(a instanceof Gt)return this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow"),this.createPopupClient(n).acquireToken(e,s);throw a})):i=this.createPopupClient(n).acquireToken(e,s),i.then(a=>(o.length<this.getAllAccounts().length?this.eventHandler.emitEvent(D.LOGIN_SUCCESS,H.Popup,a):this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_SUCCESS,H.Popup,a),r.end({success:!0,accessTokenSize:a.accessToken.length,idTokenSize:a.idToken.length,accountType:Jt(a.account)}),a)).catch(a=>(o.length>0?this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_FAILURE,H.Popup,null,a):this.eventHandler.emitEvent(D.LOGIN_FAILURE,H.Popup,null,a),r.end({success:!1},a),Promise.reject(a))).finally(async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n)})}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){var i,s,a;const n=this.getRequestCorrelationId(e),r={...e,prompt:e.prompt,correlationId:n};this.ssoSilentMeasurement=this.performanceClient.startMeasurement(C.SsoSilent,n),(i=this.ssoSilentMeasurement)==null||i.add({scenarioId:e.scenarioId,accountType:Jt(e.account)}),Us(this.initialized,this.ssoSilentMeasurement),(s=this.ssoSilentMeasurement)==null||s.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",n),this.eventHandler.emitEvent(D.SSO_SILENT_START,H.Silent,r);let o;return this.canUsePlatformBroker(r)?((a=this.ssoSilentMeasurement)==null||a.add({isPlatformBrokerRequest:!0}),o=this.acquireTokenNative(r,J.ssoSilent).catch(c=>{var l;if((l=this.ssoSilentMeasurement)==null||l.add({brokerErrorName:c.name,brokerErrorCode:c.errorCode}),c instanceof on&&Qr(c))return this.platformAuthProvider=void 0,this.createSilentIframeClient(r.correlationId).acquireToken(r);throw c})):o=this.createSilentIframeClient(r.correlationId).acquireToken(r),o.then(c=>{var l;return this.eventHandler.emitEvent(D.SSO_SILENT_SUCCESS,H.Silent,c),(l=this.ssoSilentMeasurement)==null||l.end({success:!0,accessTokenSize:c.accessToken.length,idTokenSize:c.idToken.length,accountType:Jt(c.account)}),c}).catch(c=>{var l;throw this.eventHandler.emitEvent(D.SSO_SILENT_FAILURE,H.Silent,null,c),(l=this.ssoSilentMeasurement)==null||l.end({success:!1},c),c}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenByCode(e){const n=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",n);const r=this.performanceClient.startMeasurement(C.AcquireTokenByCode,n);Us(this.initialized,r),this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_BY_CODE_START,H.Silent,e),r.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw M(vT);if(e.code){const o=e.code;let i=this.hybridAuthCodeResponses.get(o);return i?(this.logger.verbose("Existing acquireTokenByCode request found",n),r.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",n),i=this.acquireTokenByCodeAsync({...e,correlationId:n}).then(s=>(this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_BY_CODE_SUCCESS,H.Silent,s),this.hybridAuthCodeResponses.delete(o),r.end({success:!0,accessTokenSize:s.accessToken.length,idTokenSize:s.idToken.length,accountType:Jt(s.account)}),s)).catch(s=>{throw this.hybridAuthCodeResponses.delete(o),this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_BY_CODE_FAILURE,H.Silent,null,s),r.end({success:!1},s),s}),this.hybridAuthCodeResponses.set(o,i)),await i}else if(e.nativeAccountId)if(this.canUsePlatformBroker(e,e.nativeAccountId)){r.add({isPlatformBrokerRequest:!0});const o=await this.acquireTokenNative({...e,correlationId:n},J.acquireTokenByCode,e.nativeAccountId).catch(i=>{throw i instanceof on&&Qr(i)&&(this.platformAuthProvider=void 0),r.add({brokerErrorName:i.name,brokerErrorCode:i.errorCode}),i});return r.end({accountType:Jt(o.account),success:!0}),o}else throw M(CT);else throw M(yT)}catch(o){throw this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_BY_CODE_FAILURE,H.Silent,null,o),r.end({success:!1},o),o}}async acquireTokenByCodeAsync(e){var o;return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(C.AcquireTokenByCodeAsync,e.correlationId),(o=this.acquireTokenByCodeAsyncMeasurement)==null||o.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),await this.createSilentAuthCodeClient(e.correlationId).acquireToken(e).then(i=>{var s;return(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!0,fromCache:i.fromCache}),i}).catch(i=>{var s;throw(s=this.acquireTokenByCodeAsyncMeasurement)==null||s.end({success:!1},i),i}).finally(()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)})}async acquireTokenFromCache(e,n){switch(this.performanceClient.addQueueMeasurement(C.AcquireTokenFromCache,e.correlationId),n){case Ge.Default:case Ge.AccessToken:case Ge.AccessTokenAndRefreshToken:const r=this.createSilentCacheClient(e.correlationId);return k(r.acquireToken.bind(r),C.SilentCacheClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw N(Yn)}}async acquireTokenByRefreshToken(e,n){switch(this.performanceClient.addQueueMeasurement(C.AcquireTokenByRefreshToken,e.correlationId),n){case Ge.Default:case Ge.AccessTokenAndRefreshToken:case Ge.RefreshToken:case Ge.RefreshTokenAndNetwork:const r=this.createSilentRefreshClient(e.correlationId);return k(r.acquireToken.bind(r),C.SilentRefreshClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e);default:throw N(Yn)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(C.AcquireTokenBySilentIframe,e.correlationId);const n=this.createSilentIframeClient(e.correlationId);return k(n.acquireToken.bind(n),C.SilentIframeClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const n=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",n),this.logoutRedirect({correlationId:n,...e})}async logoutRedirect(e){const n=this.getRequestCorrelationId(e);return Wm(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Un.SIGNOUT),this.createRedirectClient(n).logout(e)}logoutPopup(e){try{const n=this.getRequestCorrelationId(e);return Af(this.initialized),this.browserStorage.setInteractionInProgress(!0,Un.SIGNOUT),this.createPopupClient(n).logout(e).finally(()=>{this.browserStorage.setInteractionInProgress(!1)})}catch(n){return Promise.reject(n)}}async clearCache(e){if(!this.isBrowserEnvironment){this.logger.info("in non-browser environment, returning early.");return}const n=this.getRequestCorrelationId(e);return this.createSilentCacheClient(n).logout(e)}getAllAccounts(e){const n=this.getRequestCorrelationId();return k_(this.logger,this.browserStorage,this.isBrowserEnvironment,n,e)}getAccount(e){const n=this.getRequestCorrelationId();return I_(e,this.logger,this.browserStorage,n)}getAccountByUsername(e){const n=this.getRequestCorrelationId();return R_(e,this.logger,this.browserStorage,n)}getAccountByHomeId(e){const n=this.getRequestCorrelationId();return __(e,this.logger,this.browserStorage,n)}getAccountByLocalId(e){const n=this.getRequestCorrelationId();return P_(e,this.logger,this.browserStorage,n)}setActiveAccount(e){const n=this.getRequestCorrelationId();O_(e,this.browserStorage,n)}getActiveAccount(){const e=this.getRequestCorrelationId();return N_(this.browserStorage,e)}async hydrateCache(e,n){this.logger.verbose("hydrateCache called");const r=$t.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(r,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,n)):this.browserStorage.hydrateCache(e,n)}async acquireTokenNative(e,n,r,o){if(this.logger.trace("acquireTokenNative called"),!this.platformAuthProvider)throw M(pf);return new ta(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,n,this.performanceClient,this.platformAuthProvider,r||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,o)}canUsePlatformBroker(e,n){if(this.logger.trace("canUsePlatformBroker called"),!this.platformAuthProvider)return this.logger.trace("canUsePlatformBroker: platform broker unavilable, returning false"),!1;if(!Qi(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case Ye.NONE:case Ye.CONSENT:case Ye.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!n&&!this.getNativeAccountId(e)?(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1):!0}getNativeAccountId(e){const n=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return n&&n.nativeAccountId||""}createPopupClient(e){return new J_(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createRedirectClient(e){return new Z_(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentIframeClient(e){return new sP(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,J.ssoSilent,this.performanceClient,this.nativeInternalStorage,this.platformAuthProvider,e)}createSilentCacheClient(e){return new GT(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentRefreshClient(e){return new aP(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.platformAuthProvider,e)}createSilentAuthCodeClient(e){return new uP(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,J.acquireTokenByCode,this.performanceClient,this.platformAuthProvider,e)}addEventCallback(e,n){return this.eventHandler.addEventCallback(e,n)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return UT(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Re.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.subscribeCrossTab()}disableAccountStorageEvents(){if(this.config.cache.cacheLocation!==Re.LocalStorage){this.logger.info("Account storage events are only available when cacheLocation is set to localStorage");return}this.eventHandler.unsubscribeCrossTab()}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,n){this.browserStorage.setWrapperMetadata(e,n)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e!=null&&e.correlationId?e.correlationId:this.isBrowserEnvironment?Wt():I.EMPTY_STRING}async loginRedirect(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",n),this.acquireTokenRedirect({correlationId:n,...e||Vm})}loginPopup(e){const n=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",n),this.acquireTokenPopup({correlationId:n,...e||Vm})}async acquireTokenSilent(e){const n=this.getRequestCorrelationId(e),r=this.performanceClient.startMeasurement(C.AcquireTokenSilent,n);r.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Us(this.initialized,r),this.logger.verbose("acquireTokenSilent called",n);const o=e.account||this.getActiveAccount();if(!o)throw M(uT);return r.add({accountType:Jt(o)}),this.acquireTokenSilentDeduped(e,o,n).then(i=>(r.end({success:!0,fromCache:i.fromCache,accessTokenSize:i.accessToken.length,idTokenSize:i.idToken.length}),{...i,state:e.state,correlationId:n})).catch(i=>{throw i instanceof X&&i.setCorrelationId(n),r.end({success:!1},i),i})}async acquireTokenSilentDeduped(e,n,r){const o=bc(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority,correlationId:r},n.homeAccountId),i=JSON.stringify(o),s=this.activeSilentTokenRequests.get(i);if(typeof s>"u"){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",r),this.performanceClient.addFields({deduped:!1},r);const a=k(this.acquireTokenSilentAsync.bind(this),C.AcquireTokenSilentAsync,this.logger,this.performanceClient,r)({...e,correlationId:r},n);return this.activeSilentTokenRequests.set(i,a),a.finally(()=>{this.activeSilentTokenRequests.delete(i)})}else return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",r),this.performanceClient.addFields({deduped:!0},r),s}async acquireTokenSilentAsync(e,n){const r=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(C.AcquireTokenSilentAsync,e.correlationId),this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_START,H.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",r);const o=await k(b_,C.InitializeSilentRequest,this.logger,this.performanceClient,e.correlationId)(e,n,this.config,this.performanceClient,this.logger),i=e.cacheLookupPolicy||Ge.Default;return this.acquireTokenSilentNoIframe(o,i).catch(async a=>{if(hP(a,i))if(this.activeIframeRequest)if(i!==Ge.Skip){const[l,u]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${u}`,o.correlationId);const d=this.performanceClient.startMeasurement(C.AwaitConcurrentIframe,o.correlationId);d.add({awaitIframeCorrelationId:u});const h=await l;if(d.end({success:h}),h)return this.logger.verbose(`Parallel iframe request with correlationId: ${u} succeeded. Retrying cache and/or RT redemption`,o.correlationId),this.acquireTokenSilentNoIframe(o,i);throw this.logger.info(`Iframe request with correlationId: ${u} failed. Interaction is required.`),a}else return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",o.correlationId),k(this.acquireTokenBySilentIframe.bind(this),C.AcquireTokenBySilentIframe,this.logger,this.performanceClient,o.correlationId)(o);else{let l;return this.activeIframeRequest=[new Promise(u=>{l=u}),o.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",o.correlationId),k(this.acquireTokenBySilentIframe.bind(this),C.AcquireTokenBySilentIframe,this.logger,this.performanceClient,o.correlationId)(o).then(u=>(l(!0),u)).catch(u=>{throw l(!1),u}).finally(()=>{this.activeIframeRequest=void 0})}else throw a}).then(a=>(this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_SUCCESS,H.Silent,a),e.correlationId&&this.performanceClient.addFields({fromCache:a.fromCache},e.correlationId),a)).catch(a=>{throw this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_FAILURE,H.Silent,null,a),a}).finally(()=>{document.removeEventListener("visibilitychange",r)})}async acquireTokenSilentNoIframe(e,n){return Qi(this.config,this.logger,this.platformAuthProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.performanceClient.addFields({isPlatformBrokerRequest:!0},e.correlationId),this.acquireTokenNative(e,J.acquireTokenSilent_silentFlow,e.account.nativeAccountId,n).catch(async r=>{throw this.performanceClient.addFields({brokerErrorName:r.name,brokerErrorCode:r.errorCode},e.correlationId),r instanceof on&&Qr(r)?(this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.platformAuthProvider=void 0,N(Yn)):r})):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),n===Ge.AccessToken&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),k(this.acquireTokenFromCache.bind(this),C.AcquireTokenFromCache,this.logger,this.performanceClient,e.correlationId)(e,n).catch(r=>{if(n===Ge.AccessToken)throw r;return this.eventHandler.emitEvent(D.ACQUIRE_TOKEN_NETWORK_START,H.Silent,e),k(this.acquireTokenByRefreshToken.bind(this),C.AcquireTokenByRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,n)}))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await k(jc,C.GeneratePkceCodes,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const n=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose(`${n?"Found":"Did not find"} pre-generated PKCE codes`),this.performanceClient.addFields({usePreGeneratedPkce:!!n},e),n}logMultipleInstances(e){const n=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[],window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(n),dP(n,e,this.logger)}}function hP(t,e){const n=!(t instanceof Gt&&t.subError!==Lc),r=t.errorCode===nt.INVALID_GRANT_ERROR||t.errorCode===Yn,o=n&&r||t.errorCode===Ka||t.errorCode===nf,i=jR.includes(e);return o&&i}/*! @azure/msal-browser v4.22.1 2025-09-09 */async function fP(t,e){const n=new Fr(t);return await n.initialize(),zc.createController(n,e)}/*! @azure/msal-browser v4.22.1 2025-09-09 */class Mf{static async createPublicClientApplication(e){const n=await fP(e);return new Mf(e,n)}constructor(e,n){this.isBroker=!1,this.controller=n||new zc(new Fr(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,n){return this.controller.addEventCallback(e,n)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,n){return this.controller.initializeWrapperLibrary(e,n)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,n){return this.controller.hydrateCache(e,n)}clearCache(e){return this.controller.clearCache(e)}}/*! @azure/msal-browser v4.22.1 2025-09-09 */const pP={initialize:()=>Promise.reject(ye(Pe)),acquireTokenPopup:()=>Promise.reject(ye(Pe)),acquireTokenRedirect:()=>Promise.reject(ye(Pe)),acquireTokenSilent:()=>Promise.reject(ye(Pe)),acquireTokenByCode:()=>Promise.reject(ye(Pe)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(ye(Pe)),loginPopup:()=>Promise.reject(ye(Pe)),loginRedirect:()=>Promise.reject(ye(Pe)),logout:()=>Promise.reject(ye(Pe)),logoutRedirect:()=>Promise.reject(ye(Pe)),logoutPopup:()=>Promise.reject(ye(Pe)),ssoSilent:()=>Promise.reject(ye(Pe)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw ye(Pe)},getLogger:()=>{throw ye(Pe)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw ye(Pe)},hydrateCache:()=>Promise.reject(ye(Pe)),clearCache:()=>Promise.reject(ye(Pe))};/*! @azure/msal-browser v4.22.1 2025-09-09 */class mP{static getInteractionStatusFromEvent(e,n){switch(e.eventType){case D.LOGIN_START:return Ce.Login;case D.SSO_SILENT_START:return Ce.SsoSilent;case D.ACQUIRE_TOKEN_START:if(e.interactionType===H.Redirect||e.interactionType===H.Popup)return Ce.AcquireToken;break;case D.HANDLE_REDIRECT_START:return Ce.HandleRedirect;case D.LOGOUT_START:return Ce.Logout;case D.SSO_SILENT_SUCCESS:case D.SSO_SILENT_FAILURE:if(n&&n!==Ce.SsoSilent)break;return Ce.None;case D.LOGOUT_END:if(n&&n!==Ce.Logout)break;return Ce.None;case D.HANDLE_REDIRECT_END:if(n&&n!==Ce.HandleRedirect)break;return Ce.None;case D.LOGIN_SUCCESS:case D.LOGIN_FAILURE:case D.ACQUIRE_TOKEN_SUCCESS:case D.ACQUIRE_TOKEN_FAILURE:case D.RESTORE_FROM_BFCACHE:if(e.interactionType===H.Redirect||e.interactionType===H.Popup){if(n&&n!==Ce.Login&&n!==Ce.AcquireToken)break;return Ce.None}break}return null}}/*! @azure/msal-react v3.0.19 2025-08-19 */const gP={instance:pP,inProgress:Ce.None,accounts:[],logger:new En({})},bf=_.createContext(gP);bf.Consumer;/*! @azure/msal-react v3.0.19 2025-08-19 */function og(t,e){if(t.length!==e.length)return!1;const n=[...e];return t.every(r=>{const o=n.shift();return!r||!o?!1:r.homeAccountId===o.homeAccountId&&r.localAccountId===o.localAccountId&&r.username===o.username})}function yP(t,e){return t.length>0&&(e.homeAccountId||e.localAccountId||e.username)&&t.filter(r=>!(e.username&&e.username.toLowerCase()!==r.username.toLowerCase()||e.homeAccountId&&e.homeAccountId.toLowerCase()!==r.homeAccountId.toLowerCase()||e.localAccountId&&e.localAccountId.toLowerCase()!==r.localAccountId.toLowerCase()))[0]||null}/*! @azure/msal-react v3.0.19 2025-08-19 */const vP="@azure/msal-react",ig="3.0.19";/*! @azure/msal-react v3.0.19 2025-08-19 */const Xa={UNBLOCK_INPROGRESS:"UNBLOCK_INPROGRESS",EVENT:"EVENT"},CP=(t,e)=>{const{type:n,payload:r}=e;let o=t.inProgress;switch(n){case Xa.UNBLOCK_INPROGRESS:t.inProgress===Ce.Startup&&(o=Ce.None,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case Xa.EVENT:const s=r.message,a=mP.getInteractionStatusFromEvent(s,t.inProgress);a&&(r.logger.info(`MsalProvider - ${s.eventType} results in setting inProgress from ${t.inProgress} to ${a}`),o=a);break;default:throw new Error(`Unknown action type: ${n}`)}if(o===Ce.Startup)return t;const i=r.instance.getAllAccounts();return o!==t.inProgress&&!og(i,t.accounts)?{...t,inProgress:o,accounts:i}:o!==t.inProgress?{...t,inProgress:o}:og(i,t.accounts)?t:{...t,accounts:i}};function wP({instance:t,children:e}){_.useEffect(()=>{t.initializeWrapperLibrary(FR.React,ig)},[t]);const n=_.useMemo(()=>t.getLogger().clone(vP,ig),[t]),[r,o]=_.useReducer(CP,void 0,()=>({inProgress:Ce.Startup,accounts:[]}));_.useEffect(()=>{const s=t.addEventCallback(a=>{o({payload:{instance:t,logger:n,message:a},type:Xa.EVENT})});return n.verbose(`MsalProvider - Registered event callback with id: ${s}`),t.initialize().then(()=>{t.handleRedirectPromise().catch(()=>{}).finally(()=>{o({payload:{instance:t,logger:n},type:Xa.UNBLOCK_INPROGRESS})})}).catch(()=>{}),()=>{s&&(n.verbose(`MsalProvider - Removing event callback ${s}`),t.removeEventCallback(s))}},[t,n]);const i={instance:t,inProgress:r.inProgress,accounts:r.accounts,logger:n};return dc.createElement(bf.Provider,{value:i},e)}/*! @azure/msal-react v3.0.19 2025-08-19 */const QT=()=>_.useContext(bf);/*! @azure/msal-react v3.0.19 2025-08-19 */function TP(t,e){return e&&(e.username||e.homeAccountId||e.localAccountId)?!!yP(t,e):t.length>0}function YT(t){const{accounts:e,inProgress:n}=QT();return _.useMemo(()=>n===Ce.Startup?!1:TP(e,t),[e,n,t])}const Df={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},sg=()=>{const t="https://testing.rrrealty.ai";return typeof window<"u"&&window.location.origin.includes("localhost"),console.log("MSAL using redirect URI (production):",t),t},SP=Df.VITE_AUTH_CLIENT_ID||"d4c452c4-5324-40ff-b43b-25f3daa2a45c",AP=Df.VITE_AUTH_AUTHORITY||"https://login.microsoftonline.com/99848873-e61d-44cc-9862-d05151c567ab",JT=Df.VITE_API_SCOPE||"User.Read",EP={auth:{clientId:SP,authority:AP,redirectUri:sg(),postLogoutRedirectUri:sg()},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}},ag={scopes:[JT,"openid","profile","email"]},cg={scopes:[JT],uri:"/api"};class kP{constructor(){sl(this,"msalInstance");this.msalInstance=new Mf(EP)}async initialize(){await this.msalInstance.initialize()}getInstance(){return this.msalInstance}async loginPopup(){try{return await this.msalInstance.loginPopup(ag)}catch(e){throw console.error("Login failed:",e),e}}async loginRedirect(){try{await this.msalInstance.loginRedirect(ag)}catch(e){throw console.error("Login redirect failed:",e),e}}async logout(){try{await this.msalInstance.logoutPopup()}catch(e){throw console.error("Logout failed:",e),e}}getActiveAccount(){return this.msalInstance.getActiveAccount()}getAllAccounts(){return this.msalInstance.getAllAccounts()}async getAccessToken(){const e=this.getActiveAccount();if(!e)throw new Error("No active account found");const n={scopes:cg.scopes,account:e};try{return(await this.msalInstance.acquireTokenSilent(n)).accessToken}catch(r){console.error("Silent token acquisition failed:",r);try{return(await this.msalInstance.acquireTokenPopup({scopes:cg.scopes,account:e})).accessToken}catch(o){throw console.error("Popup token acquisition failed:",o),o}}}isAuthenticated(){return this.getActiveAccount()!==null}getUserInfo(){const e=this.getActiveAccount();return e?{name:e.name,email:e.username,username:e.username}:null}}const pt=new kP;const IP=({children:t})=>{const e=YT(),{accounts:n}=QT(),[r,o]=_.useState(!0);_.useEffect(()=>{(async()=>{try{if(e&&n.length>0){const a=pt.getInstance();!a.getActiveAccount()&&n.length>0&&a.setActiveAccount(n[0])}}catch(a){console.error("Auth initialization error:",a)}finally{o(!1)}})()},[e,n]);const i=async()=>{try{o(!0),await pt.loginRedirect()}catch(s){console.error("Login error:",s)}finally{o(!1)}};return r?S.jsxs("div",{className:"auth-loading",children:[S.jsx("div",{className:"loading-spinner"}),S.jsx("p",{children:"Initializing authentication..."})]}):e?S.jsx("div",{className:"authenticated-app",children:t}):S.jsx("div",{className:"auth-container",children:S.jsxs("div",{className:"auth-card",children:[S.jsxs("div",{className:"auth-header",children:[S.jsx("h1",{children:"RR Realty AI"}),S.jsx("p",{children:"Sign in to access your AI assistant"})]}),S.jsxs("div",{className:"auth-content",children:[S.jsx("button",{className:"login-button",onClick:i,disabled:r,children:r?"Signing in...":"Sign in with Microsoft"}),S.jsx("div",{className:"auth-info",children:S.jsx("p",{children:"Use your organizational account to sign in"})})]})]})})},XT=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Kc=_.createContext({}),$c=_.createContext(null),Gc=typeof document<"u",Lf=Gc?_.useLayoutEffect:_.useEffect,ZT=_.createContext({strict:!1}),Uf=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),RP="framerAppearId",eS="data-"+Uf(RP);function _P(t,e,n,r){const{visualElement:o}=_.useContext(Kc),i=_.useContext(ZT),s=_.useContext($c),a=_.useContext(XT).reducedMotion,c=_.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const l=c.current;_.useInsertionEffect(()=>{l&&l.update(n,s)});const u=_.useRef(!!(n[eS]&&!window.HandoffComplete));return Lf(()=>{l&&(l.render(),u.current&&l.animationState&&l.animationState.animateChanges())}),_.useEffect(()=>{l&&(l.updateFeatures(),!u.current&&l.animationState&&l.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),l}function co(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function PP(t,e,n){return _.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):co(n)&&(n.current=r))},[e])}function Yi(t){return typeof t=="string"||Array.isArray(t)}function Wc(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Ff=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hf=["initial",...Ff];function qc(t){return Wc(t.animate)||Hf.some(e=>Yi(t[e]))}function tS(t){return!!(qc(t)||t.variants)}function OP(t,e){if(qc(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Yi(n)?n:void 0,animate:Yi(r)?r:void 0}}return t.inherit!==!1?e:{}}function NP(t){const{initial:e,animate:n}=OP(t,_.useContext(Kc));return _.useMemo(()=>({initial:e,animate:n}),[lg(e),lg(n)])}function lg(t){return Array.isArray(t)?t.join(" "):t}const ug={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ji={};for(const t in ug)Ji[t]={isEnabled:e=>ug[t].some(n=>!!e[n])};function xP(t){for(const e in t)Ji[e]={...Ji[e],...t[e]}}const Bf=_.createContext({}),nS=_.createContext({}),MP=Symbol.for("motionComponentSymbol");function bP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&xP(t);function i(a,c){let l;const u={..._.useContext(XT),...a,layoutId:DP(a)},{isStatic:d}=u,h=NP(a),p=r(a,d);if(!d&&Gc){h.visualElement=_P(o,p,u,e);const v=_.useContext(nS),y=_.useContext(ZT).strict;h.visualElement&&(l=h.visualElement.loadFeatures(u,y,t,v))}return _.createElement(Kc.Provider,{value:h},l&&h.visualElement?_.createElement(l,{visualElement:h.visualElement,...u}):null,n(o,a,PP(p,h.visualElement,c),p,d,h.visualElement))}const s=_.forwardRef(i);return s[MP]=o,s}function DP({layoutId:t}){const e=_.useContext(Bf).id;return e&&t!==void 0?e+"-"+t:t}function LP(t){function e(r,o={}){return bP(t(r,o))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const UP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jf(t){return typeof t!="string"||t.includes("-")?!1:!!(UP.indexOf(t)>-1||/[A-Z]/.test(t))}const Za={};function FP(t){Object.assign(Za,t)}const ss=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zr=new Set(ss);function rS(t,{layout:e,layoutId:n}){return zr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Za[t]||t==="opacity")}const ut=t=>!!(t&&t.getVelocity),HP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},BP=ss.length;function jP(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<BP;s++){const a=ss[s];if(t[a]!==void 0){const c=HP[a]||a;i+=`${c}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(t,r?"":i):n&&r&&(i="none"),i}const oS=t=>e=>typeof e=="string"&&e.startsWith(t),iS=oS("--"),hd=oS("var(--"),VP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,zP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,or=(t,e,n)=>Math.min(Math.max(n,t),e),Kr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ai={...Kr,transform:t=>or(0,1,t)},Fs={...Kr,default:1},Ei=t=>Math.round(t*1e5)/1e5,Qc=/(-)?([\d]*\.?[\d])+/g,sS=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,KP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function as(t){return typeof t=="string"}const cs=t=>({test:e=>as(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Nn=cs("deg"),cn=cs("%"),B=cs("px"),$P=cs("vh"),GP=cs("vw"),dg={...cn,parse:t=>cn.parse(t)/100,transform:t=>cn.transform(t*100)},hg={...Kr,transform:Math.round},aS={borderWidth:B,borderTopWidth:B,borderRightWidth:B,borderBottomWidth:B,borderLeftWidth:B,borderRadius:B,radius:B,borderTopLeftRadius:B,borderTopRightRadius:B,borderBottomRightRadius:B,borderBottomLeftRadius:B,width:B,maxWidth:B,height:B,maxHeight:B,size:B,top:B,right:B,bottom:B,left:B,padding:B,paddingTop:B,paddingRight:B,paddingBottom:B,paddingLeft:B,margin:B,marginTop:B,marginRight:B,marginBottom:B,marginLeft:B,rotate:Nn,rotateX:Nn,rotateY:Nn,rotateZ:Nn,scale:Fs,scaleX:Fs,scaleY:Fs,scaleZ:Fs,skew:Nn,skewX:Nn,skewY:Nn,distance:B,translateX:B,translateY:B,translateZ:B,x:B,y:B,z:B,perspective:B,transformPerspective:B,opacity:Ai,originX:dg,originY:dg,originZ:B,zIndex:hg,fillOpacity:Ai,strokeOpacity:Ai,numOctaves:hg};function Vf(t,e,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=t;let c=!1,l=!1,u=!0;for(const d in e){const h=e[d];if(iS(d)){i[d]=h;continue}const p=aS[d],v=zP(h,p);if(zr.has(d)){if(c=!0,s[d]=v,!u)continue;h!==(p.default||0)&&(u=!1)}else d.startsWith("origin")?(l=!0,a[d]=v):o[d]=v}if(e.transform||(c||r?o.transform=jP(t.transform,n,u,r):o.transform&&(o.transform="none")),l){const{originX:d="50%",originY:h="50%",originZ:p=0}=a;o.transformOrigin=`${d} ${h} ${p}`}}const zf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cS(t,e,n){for(const r in e)!ut(e[r])&&!rS(r,n)&&(t[r]=e[r])}function WP({transformTemplate:t},e,n){return _.useMemo(()=>{const r=zf();return Vf(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function qP(t,e,n){const r=t.style||{},o={};return cS(o,r,t),Object.assign(o,WP(t,e,n)),t.transformValues?t.transformValues(o):o}function QP(t,e,n){const r={},o=qP(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const YP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ec(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||YP.has(t)}let lS=t=>!ec(t);function JP(t){t&&(lS=e=>e.startsWith("on")?!ec(e):t(e))}try{JP(require("@emotion/is-prop-valid").default)}catch{}function XP(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(lS(o)||n===!0&&ec(o)||!e&&!ec(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function fg(t,e,n){return typeof t=="string"?t:B.transform(e+n*t)}function ZP(t,e,n){const r=fg(e,t.x,t.width),o=fg(n,t.y,t.height);return`${r} ${o}`}const eO={offset:"stroke-dashoffset",array:"stroke-dasharray"},tO={offset:"strokeDashoffset",array:"strokeDasharray"};function nO(t,e,n=1,r=0,o=!0){t.pathLength=1;const i=o?eO:tO;t[i.offset]=B.transform(-r);const s=B.transform(e),a=B.transform(n);t[i.array]=`${s} ${a}`}function Kf(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:c=0,...l},u,d,h){if(Vf(t,l,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:y}=t;p.transform&&(y&&(v.transform=p.transform),delete p.transform),y&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=ZP(y,o!==void 0?o:.5,i!==void 0?i:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),s!==void 0&&nO(p,s,a,c,!1)}const uS=()=>({...zf(),attrs:{}}),$f=t=>typeof t=="string"&&t.toLowerCase()==="svg";function rO(t,e,n,r){const o=_.useMemo(()=>{const i=uS();return Kf(i,e,{enableHardwareAcceleration:!1},$f(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};cS(i,t.style,t),o.style={...i,...o.style}}return o}function oO(t=!1){return(n,r,o,{latestValues:i},s)=>{const c=(jf(n)?rO:QP)(r,i,s,n),u={...XP(r,typeof n=="string",t),...c,ref:o},{children:d}=r,h=_.useMemo(()=>ut(d)?d.get():d,[d]);return _.createElement(n,{...u,children:h})}}function dS(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const hS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fS(t,e,n,r){dS(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(hS.has(o)?o:Uf(o),e.attrs[o])}function Gf(t,e){const{style:n}=t,r={};for(const o in n)(ut(n[o])||e.style&&ut(e.style[o])||rS(o,t))&&(r[o]=n[o]);return r}function pS(t,e){const n=Gf(t,e);for(const r in t)if(ut(t[r])||ut(e[r])){const o=ss.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=t[r]}return n}function Wf(t,e,n,r={},o={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),e}function mS(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const tc=t=>Array.isArray(t),iO=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),sO=t=>tc(t)?t[t.length-1]||0:t;function na(t){const e=ut(t)?t.get():t;return iO(e)?e.toValue():e}function aO({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,i){const s={latestValues:cO(r,o,i,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const gS=t=>(e,n)=>{const r=_.useContext(Kc),o=_.useContext($c),i=()=>aO(t,e,r,o);return n?i():mS(i)};function cO(t,e,n,r){const o={},i=r(t,{});for(const h in i)o[h]=na(i[h]);let{initial:s,animate:a}=t;const c=qc(t),l=tS(t);e&&l&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const d=u?a:s;return d&&typeof d!="boolean"&&!Wc(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const v=Wf(t,p);if(!v)return;const{transitionEnd:y,transition:T,...g}=v;for(const f in g){let m=g[f];if(Array.isArray(m)){const w=u?m.length-1:0;m=m[w]}m!==null&&(o[f]=m)}for(const f in y)o[f]=y[f]}),o}const pe=t=>t;class pg{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function lO(t){let e=new pg,n=new pg,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(c,l=!1,u=!1)=>{const d=u&&o,h=d?e:n;return l&&s.add(c),h.add(c)&&d&&o&&(r=e.order.length),c},cancel:c=>{n.remove(c),s.delete(c)},process:c=>{if(o){i=!0;return}if(o=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let l=0;l<r;l++){const u=e.order[l];u(c),s.has(u)&&(a.schedule(u),t())}o=!1,i&&(i=!1,a.process(c))}};return a}const Hs=["prepare","read","update","preRender","render","postRender"],uO=40;function dO(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=Hs.reduce((d,h)=>(d[h]=lO(()=>n=!0),d),{}),s=d=>i[d].process(o),a=()=>{const d=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(d-o.timestamp,uO),1),o.timestamp=d,o.isProcessing=!0,Hs.forEach(s),o.isProcessing=!1,n&&e&&(r=!1,t(a))},c=()=>{n=!0,r=!0,o.isProcessing||t(a)};return{schedule:Hs.reduce((d,h)=>{const p=i[h];return d[h]=(v,y=!1,T=!1)=>(n||c(),p.schedule(v,y,T)),d},{}),cancel:d=>Hs.forEach(h=>i[h].cancel(d)),state:o,steps:i}}const{schedule:ne,cancel:In,state:je,steps:Hl}=dO(typeof requestAnimationFrame<"u"?requestAnimationFrame:pe,!0),hO={useVisualState:gS({scrapeMotionValuesFromProps:pS,createRenderState:uS,onMount:(t,e,{renderState:n,latestValues:r})=>{ne.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ne.render(()=>{Kf(n,r,{enableHardwareAcceleration:!1},$f(e.tagName),t.transformTemplate),fS(e,n)})}})},fO={useVisualState:gS({scrapeMotionValuesFromProps:Gf,createRenderState:zf})};function pO(t,{forwardMotionProps:e=!1},n,r){return{...jf(t)?hO:fO,preloadedFeatures:n,useRender:oO(e),createVisualElement:r,Component:t}}function gn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const yS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Yc(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const mO=t=>e=>yS(e)&&t(e,Yc(e));function vn(t,e,n,r){return gn(t,e,mO(n),r)}const gO=(t,e)=>n=>e(t(n)),Zn=(...t)=>t.reduce(gO);function vS(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const mg=vS("dragHorizontal"),gg=vS("dragVertical");function CS(t){let e=!1;if(t==="y")e=gg();else if(t==="x")e=mg();else{const n=mg(),r=gg();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function wS(){const t=CS(!0);return t?(t(),!1):!0}class lr{constructor(e){this.isMounted=!1,this.node=e}update(){}}function yg(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),o=(i,s)=>{if(i.pointerType==="touch"||wS())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&ne.update(()=>a[r](i,s))};return vn(t.current,n,o,{passive:!t.getProps()[r]})}class yO extends lr{mount(){this.unmount=Zn(yg(this.node,!0),yg(this.node,!1))}unmount(){}}class vO extends lr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Zn(gn(this.node.current,"focus",()=>this.onFocus()),gn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const TS=(t,e)=>e?t===e?!0:TS(t,e.parentElement):!1;function Bl(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Yc(n))}class CO extends lr{constructor(){super(...arguments),this.removeStartListeners=pe,this.removeEndListeners=pe,this.removeAccessibleListeners=pe,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=vn(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u,globalTapTarget:d}=this.node.getProps();ne.update(()=>{!d&&!TS(this.node.current,a.target)?u&&u(a,c):l&&l(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),s=vn(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Zn(i,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||Bl("up",(c,l)=>{const{onTap:u}=this.node.getProps();u&&ne.update(()=>u(c,l))})};this.removeEndListeners(),this.removeEndListeners=gn(this.node.current,"keyup",s),Bl("down",(a,c)=>{this.startPress(a,c)})},n=gn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Bl("cancel",(i,s)=>this.cancelPress(i,s))},o=gn(this.node.current,"blur",r);this.removeAccessibleListeners=Zn(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ne.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!wS()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ne.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=vn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=gn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Zn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const fd=new WeakMap,jl=new WeakMap,wO=t=>{const e=fd.get(t.target);e&&e(t)},TO=t=>{t.forEach(wO)};function SO({root:t,...e}){const n=t||document;jl.has(n)||jl.set(n,{});const r=jl.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(TO,{root:t,...e})),r[o]}function AO(t,e,n){const r=SO(e);return fd.set(t,n),r.observe(t),()=>{fd.delete(t),r.unobserve(t)}}const EO={some:0,all:1};class kO extends lr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:EO[o]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,i&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=l?u:d;h&&h(c)};return AO(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(IO(e,n))&&this.startObserver()}unmount(){}}function IO({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const RO={inView:{Feature:kO},tap:{Feature:CO},focus:{Feature:vO},hover:{Feature:yO}};function SS(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function _O(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function PO(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Jc(t,e,n){const r=t.getProps();return Wf(r,e,n!==void 0?n:r.custom,_O(t),PO(t))}let OO=pe,qf=pe;const er=t=>t*1e3,Cn=t=>t/1e3,NO={current:!1},AS=t=>Array.isArray(t)&&typeof t[0]=="number";function ES(t){return!!(!t||typeof t=="string"&&kS[t]||AS(t)||Array.isArray(t)&&t.every(ES))}const ai=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,kS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ai([0,.65,.55,1]),circOut:ai([.55,0,1,.45]),backIn:ai([.31,.01,.66,-.59]),backOut:ai([.33,1.53,.69,.99])};function IS(t){if(t)return AS(t)?ai(t):Array.isArray(t)?t.map(IS):kS[t]}function xO(t,e,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:c}={}){const l={[e]:n};c&&(l.offset=c);const u=IS(a);return Array.isArray(u)&&(l.easing=u),t.animate(l,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function MO(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const RS=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,bO=1e-7,DO=12;function LO(t,e,n,r,o){let i,s,a=0;do s=e+(n-e)/2,i=RS(s,r,o)-t,i>0?n=s:e=s;while(Math.abs(i)>bO&&++a<DO);return s}function ls(t,e,n,r){if(t===e&&n===r)return pe;const o=i=>LO(i,0,1,t,n);return i=>i===0||i===1?i:RS(o(i),e,r)}const UO=ls(.42,0,1,1),FO=ls(0,0,.58,1),_S=ls(.42,0,.58,1),HO=t=>Array.isArray(t)&&typeof t[0]!="number",PS=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,OS=t=>e=>1-t(1-e),Qf=t=>1-Math.sin(Math.acos(t)),NS=OS(Qf),BO=PS(Qf),xS=ls(.33,1.53,.69,.99),Yf=OS(xS),jO=PS(Yf),VO=t=>(t*=2)<1?.5*Yf(t):.5*(2-Math.pow(2,-10*(t-1))),zO={linear:pe,easeIn:UO,easeInOut:_S,easeOut:FO,circIn:Qf,circInOut:BO,circOut:NS,backIn:Yf,backInOut:jO,backOut:xS,anticipate:VO},vg=t=>{if(Array.isArray(t)){qf(t.length===4);const[e,n,r,o]=t;return ls(e,n,r,o)}else if(typeof t=="string")return zO[t];return t},Jf=(t,e)=>n=>!!(as(n)&&KP.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),MS=(t,e,n)=>r=>{if(!as(r))return r;const[o,i,s,a]=r.match(Qc);return{[t]:parseFloat(o),[e]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},KO=t=>or(0,255,t),Vl={...Kr,transform:t=>Math.round(KO(t))},Ir={test:Jf("rgb","red"),parse:MS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Vl.transform(t)+", "+Vl.transform(e)+", "+Vl.transform(n)+", "+Ei(Ai.transform(r))+")"};function $O(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const pd={test:Jf("#"),parse:$O,transform:Ir.transform},lo={test:Jf("hsl","hue"),parse:MS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+cn.transform(Ei(e))+", "+cn.transform(Ei(n))+", "+Ei(Ai.transform(r))+")"},We={test:t=>Ir.test(t)||pd.test(t)||lo.test(t),parse:t=>Ir.test(t)?Ir.parse(t):lo.test(t)?lo.parse(t):pd.parse(t),transform:t=>as(t)?t:t.hasOwnProperty("red")?Ir.transform(t):lo.transform(t)},ue=(t,e,n)=>-n*t+n*e+t;function zl(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GO({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,i=0,s=0;if(!e)o=i=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;o=zl(c,a,t+1/3),i=zl(c,a,t),s=zl(c,a,t-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const Kl=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},WO=[pd,Ir,lo],qO=t=>WO.find(e=>e.test(t));function Cg(t){const e=qO(t);let n=e.parse(t);return e===lo&&(n=GO(n)),n}const bS=(t,e)=>{const n=Cg(t),r=Cg(e),o={...n};return i=>(o.red=Kl(n.red,r.red,i),o.green=Kl(n.green,r.green,i),o.blue=Kl(n.blue,r.blue,i),o.alpha=ue(n.alpha,r.alpha,i),Ir.transform(o))};function QO(t){var e,n;return isNaN(t)&&as(t)&&(((e=t.match(Qc))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(sS))===null||n===void 0?void 0:n.length)||0)>0}const DS={regex:VP,countKey:"Vars",token:"${v}",parse:pe},LS={regex:sS,countKey:"Colors",token:"${c}",parse:We.parse},US={regex:Qc,countKey:"Numbers",token:"${n}",parse:Kr.parse};function $l(t,{regex:e,countKey:n,token:r,parse:o}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(o)))}function nc(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&$l(n,DS),$l(n,LS),$l(n,US),n}function FS(t){return nc(t).values}function HS(t){const{values:e,numColors:n,numVars:r,tokenised:o}=nc(t),i=e.length;return s=>{let a=o;for(let c=0;c<i;c++)c<r?a=a.replace(DS.token,s[c]):c<r+n?a=a.replace(LS.token,We.transform(s[c])):a=a.replace(US.token,Ei(s[c]));return a}}const YO=t=>typeof t=="number"?0:t;function JO(t){const e=FS(t);return HS(t)(e.map(YO))}const ir={test:QO,parse:FS,createTransformer:HS,getAnimatableNone:JO},BS=(t,e)=>n=>`${n>0?e:t}`;function jS(t,e){return typeof t=="number"?n=>ue(t,e,n):We.test(t)?bS(t,e):t.startsWith("var(")?BS(t,e):zS(t,e)}const VS=(t,e)=>{const n=[...t],r=n.length,o=t.map((i,s)=>jS(i,e[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},XO=(t,e)=>{const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=jS(t[o],e[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},zS=(t,e)=>{const n=ir.createTransformer(e),r=nc(t),o=nc(e);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?Zn(VS(r.values,o.values),n):BS(t,e)},Xi=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},wg=(t,e)=>n=>ue(t,e,n);function ZO(t){return typeof t=="number"?wg:typeof t=="string"?We.test(t)?bS:zS:Array.isArray(t)?VS:typeof t=="object"?XO:wg}function e1(t,e,n){const r=[],o=n||ZO(t[0]),i=t.length-1;for(let s=0;s<i;s++){let a=o(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||pe:e;a=Zn(c,a)}r.push(a)}return r}function KS(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const i=t.length;if(qf(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=e1(e,r,o),a=s.length,c=l=>{let u=0;if(a>1)for(;u<t.length-2&&!(l<t[u+1]);u++);const d=Xi(t[u],t[u+1],l);return s[u](d)};return n?l=>c(or(t[0],t[i-1],l)):c}function t1(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=Xi(0,e,r);t.push(ue(n,1,o))}}function n1(t){const e=[0];return t1(e,t.length-1),e}function r1(t,e){return t.map(n=>n*e)}function o1(t,e){return t.map(()=>e||_S).splice(0,t.length-1)}function rc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=HO(r)?r.map(vg):vg(r),i={done:!1,value:e[0]},s=r1(n&&n.length===e.length?n:n1(e),t),a=KS(s,e,{ease:Array.isArray(o)?o:o1(e,o)});return{calculatedDuration:t,next:c=>(i.value=a(c),i.done=c>=t,i)}}function $S(t,e){return e?t*(1e3/e):0}const i1=5;function GS(t,e,n){const r=Math.max(e-i1,0);return $S(n-t(r),e-r)}const Gl=.001,s1=.01,Tg=10,a1=.05,c1=1;function l1({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,i;OO(t<=er(Tg));let s=1-e;s=or(a1,c1,s),t=or(s1,Tg,Cn(t)),s<1?(o=l=>{const u=l*s,d=u*t,h=u-n,p=md(l,s),v=Math.exp(-d);return Gl-h/p*v},i=l=>{const d=l*s*t,h=d*n+n,p=Math.pow(s,2)*Math.pow(l,2)*t,v=Math.exp(-d),y=md(Math.pow(l,2),s);return(-o(l)+Gl>0?-1:1)*((h-p)*v)/y}):(o=l=>{const u=Math.exp(-l*t),d=(l-n)*t+1;return-Gl+u*d},i=l=>{const u=Math.exp(-l*t),d=(n-l)*(t*t);return u*d});const a=5/t,c=d1(o,i,a);if(t=er(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const l=Math.pow(c,2)*r;return{stiffness:l,damping:s*2*Math.sqrt(r*l),duration:t}}}const u1=12;function d1(t,e,n){let r=n;for(let o=1;o<u1;o++)r=r-t(r)/e(r);return r}function md(t,e){return t*Math.sqrt(1-e*e)}const h1=["duration","bounce"],f1=["stiffness","damping","mass"];function Sg(t,e){return e.some(n=>t[n]!==void 0)}function p1(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Sg(t,f1)&&Sg(t,h1)){const n=l1(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function WS({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],i=t[t.length-1],s={done:!1,value:o},{stiffness:a,damping:c,mass:l,duration:u,velocity:d,isResolvedFromDuration:h}=p1({...r,velocity:-Cn(r.velocity||0)}),p=d||0,v=c/(2*Math.sqrt(a*l)),y=i-o,T=Cn(Math.sqrt(a/l)),g=Math.abs(y)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let f;if(v<1){const m=md(T,v);f=w=>{const A=Math.exp(-v*T*w);return i-A*((p+v*T*y)/m*Math.sin(m*w)+y*Math.cos(m*w))}}else if(v===1)f=m=>i-Math.exp(-T*m)*(y+(p+T*y)*m);else{const m=T*Math.sqrt(v*v-1);f=w=>{const A=Math.exp(-v*T*w),R=Math.min(m*w,300);return i-A*((p+v*T*y)*Math.sinh(R)+m*y*Math.cosh(R))/m}}return{calculatedDuration:h&&u||null,next:m=>{const w=f(m);if(h)s.done=m>=u;else{let A=p;m!==0&&(v<1?A=GS(f,m,w):A=0);const R=Math.abs(A)<=n,O=Math.abs(i-w)<=e;s.done=R&&O}return s.value=s.done?i:w,s}}}function Ag({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:c,restDelta:l=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},p=P=>a!==void 0&&P<a||c!==void 0&&P>c,v=P=>a===void 0?c:c===void 0||Math.abs(a-P)<Math.abs(c-P)?a:c;let y=n*e;const T=d+y,g=s===void 0?T:s(T);g!==T&&(y=g-d);const f=P=>-y*Math.exp(-P/r),m=P=>g+f(P),w=P=>{const U=f(P),F=m(P);h.done=Math.abs(U)<=l,h.value=h.done?g:F};let A,R;const O=P=>{p(h.value)&&(A=P,R=WS({keyframes:[h.value,v(h.value)],velocity:GS(m,P,h.value),damping:o,stiffness:i,restDelta:l,restSpeed:u}))};return O(0),{calculatedDuration:null,next:P=>{let U=!1;return!R&&A===void 0&&(U=!0,w(P),O(P)),A!==void 0&&P>A?R.next(P-A):(!U&&w(P),h)}}}const m1=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ne.update(e,!0),stop:()=>In(e),now:()=>je.isProcessing?je.timestamp:performance.now()}},Eg=2e4;function kg(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Eg;)e+=n,r=t.next(e);return e>=Eg?1/0:e}const g1={decay:Ag,inertia:Ag,tween:rc,keyframes:rc,spring:WS};function oc({autoplay:t=!0,delay:e=0,driver:n=m1,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:c,onStop:l,onComplete:u,onUpdate:d,...h}){let p=1,v=!1,y,T;const g=()=>{T=new Promise(V=>{y=V})};g();let f;const m=g1[o]||rc;let w;m!==rc&&typeof r[0]!="number"&&(w=KS([0,100],r,{clamp:!1}),r=[0,100]);const A=m({...h,keyframes:r});let R;a==="mirror"&&(R=m({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let O="idle",P=null,U=null,F=null;A.calculatedDuration===null&&i&&(A.calculatedDuration=kg(A));const{calculatedDuration:ee}=A;let Ae=1/0,ie=1/0;ee!==null&&(Ae=ee+s,ie=Ae*(i+1)-s);let _e=0;const _n=V=>{if(U===null)return;p>0&&(U=Math.min(U,V)),p<0&&(U=Math.min(V-ie/p,U)),P!==null?_e=P:_e=Math.round(V-U)*p;const se=_e-e*(p>=0?1:-1),ur=p>=0?se<0:se>ie;_e=Math.max(se,0),O==="finished"&&P===null&&(_e=ie);let Qt=_e,$r=A;if(i){const il=Math.min(_e,ie)/Ae;let fs=Math.floor(il),hr=il%1;!hr&&il>=1&&(hr=1),hr===1&&fs--,fs=Math.min(fs,i+1),!!(fs%2)&&(a==="reverse"?(hr=1-hr,s&&(hr-=s/Ae)):a==="mirror"&&($r=R)),Qt=or(0,1,hr)*Ae}const dt=ur?{done:!1,value:r[0]}:$r.next(Qt);w&&(dt.value=w(dt.value));let{done:dr}=dt;!ur&&ee!==null&&(dr=p>=0?_e>=ie:_e<=0);const GA=P===null&&(O==="finished"||O==="running"&&dr);return d&&d(dt.value),GA&&b(),dt},me=()=>{f&&f.stop(),f=void 0},At=()=>{O="idle",me(),y(),g(),U=F=null},b=()=>{O="finished",u&&u(),me(),y()},j=()=>{if(v)return;f||(f=n(_n));const V=f.now();c&&c(),P!==null?U=V-P:(!U||O==="finished")&&(U=V),O==="finished"&&g(),F=U,P=null,O="running",f.start()};t&&j();const K={then(V,se){return T.then(V,se)},get time(){return Cn(_e)},set time(V){V=er(V),_e=V,P!==null||!f||p===0?P=V:U=f.now()-V/p},get duration(){const V=A.calculatedDuration===null?kg(A):A.calculatedDuration;return Cn(V)},get speed(){return p},set speed(V){V===p||!f||(p=V,K.time=Cn(_e))},get state(){return O},play:j,pause:()=>{O="paused",P=_e},stop:()=>{v=!0,O!=="idle"&&(O="idle",l&&l(),At())},cancel:()=>{F!==null&&_n(F),At()},complete:()=>{O="finished"},sample:V=>(U=0,_n(V))};return K}function y1(t){let e;return()=>(e===void 0&&(e=t()),e)}const v1=y1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),C1=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Bs=10,w1=2e4,T1=(t,e)=>e.type==="spring"||t==="backgroundColor"||!ES(e.ease);function S1(t,e,{onUpdate:n,onComplete:r,...o}){if(!(v1()&&C1.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,c,l=!1;const u=()=>{c=new Promise(m=>{a=m})};u();let{keyframes:d,duration:h=300,ease:p,times:v}=o;if(T1(e,o)){const m=oc({...o,repeat:0,delay:0});let w={done:!1,value:d[0]};const A=[];let R=0;for(;!w.done&&R<w1;)w=m.sample(R),A.push(w.value),R+=Bs;v=void 0,d=A,h=R-Bs,p="linear"}const y=xO(t.owner.current,e,d,{...o,duration:h,ease:p,times:v}),T=()=>{l=!1,y.cancel()},g=()=>{l=!0,ne.update(T),a(),u()};return y.onfinish=()=>{l||(t.set(MO(d,o)),r&&r(),g())},{then(m,w){return c.then(m,w)},attachTimeline(m){return y.timeline=m,y.onfinish=null,pe},get time(){return Cn(y.currentTime||0)},set time(m){y.currentTime=er(m)},get speed(){return y.playbackRate},set speed(m){y.playbackRate=m},get duration(){return Cn(h)},play:()=>{s||(y.play(),In(T))},pause:()=>y.pause(),stop:()=>{if(s=!0,y.playState==="idle")return;const{currentTime:m}=y;if(m){const w=oc({...o,autoplay:!1});t.setWithVelocity(w.sample(m-Bs).value,w.sample(m).value,Bs)}g()},complete:()=>{l||y.finish()},cancel:g}}function A1({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const o=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:pe,pause:pe,stop:pe,then:i=>(i(),Promise.resolve()),cancel:pe,complete:pe});return e?oc({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const E1={type:"spring",stiffness:500,damping:25,restSpeed:10},k1=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),I1={type:"keyframes",duration:.8},R1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_1=(t,{keyframes:e})=>e.length>2?I1:zr.has(t)?t.startsWith("scale")?k1(e[1]):E1:R1,gd=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ir.test(e)||e==="0")&&!e.startsWith("url(")),P1=new Set(["brightness","contrast","saturate","opacity"]);function O1(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Qc)||[];if(!r)return t;const o=n.replace(r,"");let i=P1.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+o+")"}const N1=/([a-z-]*)\(.*?\)/g,yd={...ir,getAnimatableNone:t=>{const e=t.match(N1);return e?e.map(O1).join(" "):t}},x1={...aS,color:We,backgroundColor:We,outlineColor:We,fill:We,stroke:We,borderColor:We,borderTopColor:We,borderRightColor:We,borderBottomColor:We,borderLeftColor:We,filter:yd,WebkitFilter:yd},Xf=t=>x1[t];function qS(t,e){let n=Xf(t);return n!==yd&&(n=ir),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const QS=t=>/^0[^.\s]+$/.test(t);function M1(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||QS(t)}function b1(t,e,n,r){const o=gd(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const c=[];for(let l=0;l<i.length;l++)i[l]===null&&(i[l]=l===0?s:i[l-1]),M1(i[l])&&c.push(l),typeof i[l]=="string"&&i[l]!=="none"&&i[l]!=="0"&&(a=i[l]);if(o&&c.length&&a)for(let l=0;l<c.length;l++){const u=c[l];i[u]=qS(e,a)}return i}function D1({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:c,elapsed:l,...u}){return!!Object.keys(u).length}function Zf(t,e){return t[e]||t.default||t}const L1={skipAnimations:!1},ep=(t,e,n,r={})=>o=>{const i=Zf(r,t)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-er(s);const c=b1(e,t,n,i),l=c[0],u=c[c.length-1],d=gd(t,l),h=gd(t,u);let p={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{e.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(D1(i)||(p={...p,..._1(t,p)}),p.duration&&(p.duration=er(p.duration)),p.repeatDelay&&(p.repeatDelay=er(p.repeatDelay)),!d||!h||NO.current||i.type===!1||L1.skipAnimations)return A1(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=S1(e,t,p);if(v)return v}return oc(p)};function ic(t){return!!(ut(t)&&t.add)}const YS=t=>/^\-?\d*\.?\d+$/.test(t);function tp(t,e){t.indexOf(e)===-1&&t.push(e)}function np(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class rp{constructor(){this.subscriptions=[]}add(e){return tp(this.subscriptions,e),()=>np(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const U1=t=>!isNaN(parseFloat(t));class F1{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=je;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,ne.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ne.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=U1(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new rp);const r=this.events[e].add(n);return e==="change"?()=>{r(),ne.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?$S(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function No(t,e){return new F1(t,e)}const JS=t=>e=>e.test(t),H1={test:t=>t==="auto",parse:t=>t},XS=[Kr,B,cn,Nn,GP,$P,H1],Xo=t=>XS.find(JS(t)),B1=[...XS,We,ir],j1=t=>B1.find(JS(t));function V1(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,No(n))}function z1(t,e){const n=Jc(t,e);let{transitionEnd:r={},transition:o={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=sO(i[s]);V1(t,s,a)}}function K1(t,e,n){var r,o;const i=Object.keys(e).filter(a=>!t.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const c=i[a],l=e[c];let u=null;Array.isArray(l)&&(u=l[0]),u===null&&(u=(o=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&o!==void 0?o:e[c]),u!=null&&(typeof u=="string"&&(YS(u)||QS(u))?u=parseFloat(u):!j1(u)&&ir.test(l)&&(u=qS(c,l)),t.addValue(c,No(u,{owner:t})),n[c]===void 0&&(n[c]=u),u!==null&&t.setBaseTarget(c,u))}}function $1(t,e){return e?(e[t]||e.default||e).from:void 0}function G1(t,e,n){const r={};for(const o in t){const i=$1(o,e);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function W1({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function q1(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function ZS(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(i=r);const l=[],u=o&&t.animationState&&t.animationState.getState()[o];for(const d in a){const h=t.getValue(d),p=a[d];if(!h||p===void 0||u&&W1(u,d))continue;const v={delay:n,elapsed:0,...Zf(i||{},d)};if(window.HandoffAppearAnimations){const g=t.getProps()[eS];if(g){const f=window.HandoffAppearAnimations(g,d,h,ne);f!==null&&(v.elapsed=f,v.isHandoff=!0)}}let y=!v.isHandoff&&!q1(h,p);if(v.type==="spring"&&(h.getVelocity()||v.velocity)&&(y=!1),h.animation&&(y=!1),y)continue;h.start(ep(d,h,p,t.shouldReduceMotion&&zr.has(d)?{type:!1}:v));const T=h.animation;ic(c)&&(c.add(d),T.then(()=>c.remove(d))),l.push(T)}return s&&Promise.all(l).then(()=>{s&&z1(t,s)}),l}function vd(t,e,n={}){const r=Jc(t,e,n.custom);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(ZS(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:l=0,staggerChildren:u,staggerDirection:d}=o;return Q1(t,e,l+c,u,d,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[c,l]=a==="beforeChildren"?[i,s]:[s,i];return c().then(()=>l())}else return Promise.all([i(),s(n.delay)])}function Q1(t,e,n=0,r=0,o=1,i){const s=[],a=(t.variantChildren.size-1)*r,c=o===1?(l=0)=>l*r:(l=0)=>a-l*r;return Array.from(t.variantChildren).sort(Y1).forEach((l,u)=>{l.notify("AnimationStart",e),s.push(vd(l,e,{...i,delay:n+c(u)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(s)}function Y1(t,e){return t.sortNodePosition(e)}function J1(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(i=>vd(t,i,n));r=Promise.all(o)}else if(typeof e=="string")r=vd(t,e,n);else{const o=typeof e=="function"?Jc(t,e,n.custom):e;r=Promise.all(ZS(t,o,n))}return r.then(()=>t.notify("AnimationComplete",e))}const X1=[...Ff].reverse(),Z1=Ff.length;function eN(t){return e=>Promise.all(e.map(({animation:n,options:r})=>J1(t,n,r)))}function tN(t){let e=eN(t);const n=rN();let r=!0;const o=(c,l)=>{const u=Jc(t,l);if(u){const{transition:d,transitionEnd:h,...p}=u;c={...c,...p,...h}}return c};function i(c){e=c(t)}function s(c,l){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],p=new Set;let v={},y=1/0;for(let g=0;g<Z1;g++){const f=X1[g],m=n[f],w=u[f]!==void 0?u[f]:d[f],A=Yi(w),R=f===l?m.isActive:null;R===!1&&(y=g);let O=w===d[f]&&w!==u[f]&&A;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),m.protectedKeys={...v},!m.isActive&&R===null||!w&&!m.prevProp||Wc(w)||typeof w=="boolean")continue;let U=nN(m.prevProp,w)||f===l&&m.isActive&&!O&&A||g>y&&A,F=!1;const ee=Array.isArray(w)?w:[w];let Ae=ee.reduce(o,{});R===!1&&(Ae={});const{prevResolvedValues:ie={}}=m,_e={...ie,...Ae},_n=me=>{U=!0,p.has(me)&&(F=!0,p.delete(me)),m.needsAnimating[me]=!0};for(const me in _e){const At=Ae[me],b=ie[me];if(v.hasOwnProperty(me))continue;let j=!1;tc(At)&&tc(b)?j=!SS(At,b):j=At!==b,j?At!==void 0?_n(me):p.add(me):At!==void 0&&p.has(me)?_n(me):m.protectedKeys[me]=!0}m.prevProp=w,m.prevResolvedValues=Ae,m.isActive&&(v={...v,...Ae}),r&&t.blockInitialAnimation&&(U=!1),U&&(!O||F)&&h.push(...ee.map(me=>({animation:me,options:{type:f,...c}})))}if(p.size){const g={};p.forEach(f=>{const m=t.getBaseTarget(f);m!==void 0&&(g[f]=m)}),h.push({animation:g})}let T=!!h.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(h):Promise.resolve()}function a(c,l,u){var d;if(n[c].isActive===l)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(c,l)}),n[c].isActive=l;const h=s(u,c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function nN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!SS(e,t):!1}function fr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rN(){return{animate:fr(!0),whileInView:fr(),whileHover:fr(),whileTap:fr(),whileDrag:fr(),whileFocus:fr(),exit:fr()}}class oN extends lr{constructor(e){super(e),e.animationState||(e.animationState=tN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Wc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let iN=0;class sN extends lr{constructor(){super(...arguments),this.id=iN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const aN={animation:{Feature:oN},exit:{Feature:sN}},Ig=(t,e)=>Math.abs(t-e);function cN(t,e){const n=Ig(t.x,e.x),r=Ig(t.y,e.y);return Math.sqrt(n**2+r**2)}class eA{constructor(e,n,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=ql(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=cN(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:v}=d,{timestamp:y}=je;this.history.push({...v,timestamp:y});const{onStart:T,onMove:g}=this.handlers;h||(T&&T(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Wl(h,this.transformPagePoint),ne.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=ql(d.type==="pointercancel"?this.lastMoveEventInfo:Wl(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,T),v&&v(d,T)},!yS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=o||window;const s=Yc(e),a=Wl(s,this.transformPagePoint),{point:c}=a,{timestamp:l}=je;this.history=[{...c,timestamp:l}];const{onSessionStart:u}=n;u&&u(e,ql(a,this.history)),this.removeListeners=Zn(vn(this.contextWindow,"pointermove",this.handlePointerMove),vn(this.contextWindow,"pointerup",this.handlePointerUp),vn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),In(this.updatePoint)}}function Wl(t,e){return e?{point:e(t.point)}:t}function Rg(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ql({point:t},e){return{point:t,delta:Rg(t,tA(e)),offset:Rg(t,lN(e)),velocity:uN(e,.1)}}function lN(t){return t[0]}function tA(t){return t[t.length-1]}function uN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=tA(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>er(e)));)n--;if(!r)return{x:0,y:0};const i=Cn(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function wt(t){return t.max-t.min}function Cd(t,e=0,n=.01){return Math.abs(t-e)<=n}function _g(t,e,n,r=.5){t.origin=r,t.originPoint=ue(e.min,e.max,t.origin),t.scale=wt(n)/wt(e),(Cd(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ue(n.min,n.max,t.origin)-t.originPoint,(Cd(t.translate)||isNaN(t.translate))&&(t.translate=0)}function ki(t,e,n,r){_g(t.x,e.x,n.x,r?r.originX:void 0),_g(t.y,e.y,n.y,r?r.originY:void 0)}function Pg(t,e,n){t.min=n.min+e.min,t.max=t.min+wt(e)}function dN(t,e,n){Pg(t.x,e.x,n.x),Pg(t.y,e.y,n.y)}function Og(t,e,n){t.min=e.min-n.min,t.max=t.min+wt(e)}function Ii(t,e,n){Og(t.x,e.x,n.x),Og(t.y,e.y,n.y)}function hN(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ue(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ue(n,t,r.max):Math.min(t,n)),t}function Ng(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function fN(t,{top:e,left:n,bottom:r,right:o}){return{x:Ng(t.x,n,o),y:Ng(t.y,e,r)}}function xg(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function pN(t,e){return{x:xg(t.x,e.x),y:xg(t.y,e.y)}}function mN(t,e){let n=.5;const r=wt(t),o=wt(e);return o>r?n=Xi(e.min,e.max-r,t.min):r>o&&(n=Xi(t.min,t.max-o,e.min)),or(0,1,n)}function gN(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const wd=.35;function yN(t=wd){return t===!1?t=0:t===!0&&(t=wd),{x:Mg(t,"left","right"),y:Mg(t,"top","bottom")}}function Mg(t,e,n){return{min:bg(t,e),max:bg(t,n)}}function bg(t,e){return typeof t=="number"?t:t[e]||0}const Dg=()=>({translate:0,scale:1,origin:0,originPoint:0}),uo=()=>({x:Dg(),y:Dg()}),Lg=()=>({min:0,max:0}),ve=()=>({x:Lg(),y:Lg()});function kt(t){return[t("x"),t("y")]}function nA({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function vN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function CN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Ql(t){return t===void 0||t===1}function Td({scale:t,scaleX:e,scaleY:n}){return!Ql(t)||!Ql(e)||!Ql(n)}function vr(t){return Td(t)||rA(t)||t.z||t.rotate||t.rotateX||t.rotateY}function rA(t){return Ug(t.x)||Ug(t.y)}function Ug(t){return t&&t!=="0%"}function sc(t,e,n){const r=t-n,o=e*r;return n+o}function Fg(t,e,n,r,o){return o!==void 0&&(t=sc(t,o,r)),sc(t,n,r)+e}function Sd(t,e=0,n=1,r,o){t.min=Fg(t.min,e,n,r,o),t.max=Fg(t.max,e,n,r,o)}function oA(t,{x:e,y:n}){Sd(t.x,e.translate,e.scale,e.originPoint),Sd(t.y,n.translate,n.scale,n.originPoint)}function wN(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ho(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,oA(t,s)),r&&vr(i.latestValues)&&ho(t,i.latestValues))}e.x=Hg(e.x),e.y=Hg(e.y)}function Hg(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function bn(t,e){t.min=t.min+e,t.max=t.max+e}function Bg(t,e,[n,r,o]){const i=e[o]!==void 0?e[o]:.5,s=ue(t.min,t.max,i);Sd(t,e[n],e[r],s,e.scale)}const TN=["x","scaleX","originX"],SN=["y","scaleY","originY"];function ho(t,e){Bg(t.x,e,TN),Bg(t.y,e,SN)}function iA(t,e){return nA(CN(t.getBoundingClientRect(),e))}function AN(t,e,n){const r=iA(t,n),{scroll:o}=e;return o&&(bn(r.x,o.offset.x),bn(r.y,o.offset.y)),r}const sA=({current:t})=>t?t.ownerDocument.defaultView:null,EN=new WeakMap;class kN{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yc(u,"page").point)},i=(u,d)=>{const{drag:h,dragPropagation:p,onDragStart:v}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=CS(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kt(T=>{let g=this.getAxisMotionValue(T).get()||0;if(cn.test(g)){const{projection:f}=this.visualElement;if(f&&f.layout){const m=f.layout.layoutBox[T];m&&(g=wt(m)*(parseFloat(g)/100))}}this.originPoint[T]=g}),v&&ne.update(()=>v(u,d),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},s=(u,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:v,onDrag:y}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:T}=d;if(p&&this.currentDirection===null){this.currentDirection=IN(T),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,T),this.updateAxis("y",d.point,T),this.visualElement.render(),y&&y(u,d)},a=(u,d)=>this.stop(u,d),c=()=>kt(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new eA(e,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:sA(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&ne.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!js(e,o,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=hN(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&co(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=fN(o.layoutBox,n):this.constraints=!1,this.elastic=yN(r),i!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&kt(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=gN(o.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!co(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=AN(r,o.root,this.visualElement.getTransformPagePoint());let s=pN(o.layout.layoutBox,i);if(n){const a=n(vN(s));this.hasMutatedConstraints=!!a,a&&(s=nA(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=kt(u=>{if(!js(u,n,this.currentDirection))return;let d=c&&c[u]||{};s&&(d={min:0,max:0});const h=o?200:1e6,p=o?40:1e7,v={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,v)});return Promise.all(l).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(ep(e,r,0,n))}stopAnimation(){kt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){kt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){kt(n=>{const{drag:r}=this.getProps();if(!js(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(e[n]-ue(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!co(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};kt(s=>{const a=this.getAxisMotionValue(s);if(a){const c=a.get();o[s]=mN({min:c,max:c},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kt(s=>{if(!js(s,e,null))return;const a=this.getAxisMotionValue(s),{min:c,max:l}=this.constraints[s];a.set(ue(c,l,o[s]))})}addListeners(){if(!this.visualElement.current)return;EN.set(this.visualElement,this);const e=this.visualElement.current,n=vn(e,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();co(c)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=gn(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(kt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=c[u].translate,d.set(d.get()+c[u].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=wd,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function js(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function IN(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class RN extends lr{constructor(e){super(e),this.removeGroupControls=pe,this.removeListeners=pe,this.controls=new kN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pe}unmount(){this.removeGroupControls(),this.removeListeners()}}const jg=t=>(e,n)=>{t&&ne.update(()=>t(e,n))};class _N extends lr{constructor(){super(...arguments),this.removePointerDownListener=pe}onPointerDown(e){this.session=new eA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:jg(e),onStart:jg(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&ne.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=vn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function PN(){const t=_.useContext($c);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=_.useId();return _.useEffect(()=>r(o),[]),!e&&n?[!1,()=>n&&n(o)]:[!0]}const ra={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Vg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Zo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(B.test(t))t=parseFloat(t);else return t;const n=Vg(t,e.target.x),r=Vg(t,e.target.y);return`${n}% ${r}%`}},ON={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=ir.parse(t);if(o.length>5)return r;const i=ir.createTransformer(t),s=typeof o[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;o[0+s]/=a,o[1+s]/=c;const l=ue(a,c,.5);return typeof o[2+s]=="number"&&(o[2+s]/=l),typeof o[3+s]=="number"&&(o[3+s]/=l),i(o)}};class NN extends dc.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=e;FP(xN),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ra.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||ne.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function aA(t){const[e,n]=PN(),r=_.useContext(Bf);return dc.createElement(NN,{...t,layoutGroup:r,switchLayoutGroup:_.useContext(nS),isPresent:e,safeToRemove:n})}const xN={borderRadius:{...Zo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zo,borderTopRightRadius:Zo,borderBottomLeftRadius:Zo,borderBottomRightRadius:Zo,boxShadow:ON},cA=["TopLeft","TopRight","BottomLeft","BottomRight"],MN=cA.length,zg=t=>typeof t=="string"?parseFloat(t):t,Kg=t=>typeof t=="number"||B.test(t);function bN(t,e,n,r,o,i){o?(t.opacity=ue(0,n.opacity!==void 0?n.opacity:1,DN(r)),t.opacityExit=ue(e.opacity!==void 0?e.opacity:1,0,LN(r))):i&&(t.opacity=ue(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<MN;s++){const a=`border${cA[s]}Radius`;let c=$g(e,a),l=$g(n,a);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||Kg(c)===Kg(l)?(t[a]=Math.max(ue(zg(c),zg(l),r),0),(cn.test(l)||cn.test(c))&&(t[a]+="%")):t[a]=l}(e.rotate||n.rotate)&&(t.rotate=ue(e.rotate||0,n.rotate||0,r))}function $g(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const DN=lA(0,.5,NS),LN=lA(.5,.95,pe);function lA(t,e,n){return r=>r<t?0:r>e?1:n(Xi(t,e,r))}function Gg(t,e){t.min=e.min,t.max=e.max}function Et(t,e){Gg(t.x,e.x),Gg(t.y,e.y)}function Wg(t,e,n,r,o){return t-=e,t=sc(t,1/n,r),o!==void 0&&(t=sc(t,1/o,r)),t}function UN(t,e=0,n=1,r=.5,o,i=t,s=t){if(cn.test(e)&&(e=parseFloat(e),e=ue(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=ue(i.min,i.max,r);t===i&&(a-=e),t.min=Wg(t.min,e,n,a,o),t.max=Wg(t.max,e,n,a,o)}function qg(t,e,[n,r,o],i,s){UN(t,e[n],e[r],e[o],e.scale,i,s)}const FN=["x","scaleX","originX"],HN=["y","scaleY","originY"];function Qg(t,e,n,r){qg(t.x,e,FN,n?n.x:void 0,r?r.x:void 0),qg(t.y,e,HN,n?n.y:void 0,r?r.y:void 0)}function Yg(t){return t.translate===0&&t.scale===1}function uA(t){return Yg(t.x)&&Yg(t.y)}function BN(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function dA(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Jg(t){return wt(t.x)/wt(t.y)}class jN{constructor(){this.members=[]}add(e){tp(this.members,e),e.scheduleRender()}remove(e){if(np(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Xg(t,e,n){let r="";const o=t.x.translate/e.x,i=t.y.translate/e.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:l,rotateY:u}=n;c&&(r+=`rotate(${c}deg) `),l&&(r+=`rotateX(${l}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const VN=(t,e)=>t.depth-e.depth;class zN{constructor(){this.children=[],this.isDirty=!1}add(e){tp(this.children,e),this.isDirty=!0}remove(e){np(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(VN),this.isDirty=!1,this.children.forEach(e)}}function KN(t,e){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=e&&(In(r),t(i-e))};return ne.read(r,!0),()=>In(r)}function $N(t){window.MotionDebug&&window.MotionDebug.record(t)}function GN(t){return t instanceof SVGElement&&t.tagName!=="svg"}function WN(t,e,n){const r=ut(t)?t:No(t);return r.start(ep("",r,e,n)),r.animation}const Zg=["","X","Y","Z"],qN={visibility:"hidden"},ey=1e3;let QN=0;const Cr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function hA({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=e==null?void 0:e()){this.id=QN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Cr.totalNodes=Cr.resolvedTargetDeltas=Cr.recalculatedProjection=0,this.nodes.forEach(XN),this.nodes.forEach(rx),this.nodes.forEach(ox),this.nodes.forEach(ZN),$N(Cr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new zN)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new rp),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const c=this.eventHandlers.get(s);c&&c.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GN(s),this.instance=s;const{layoutId:c,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||c)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=KN(h,250),ra.hasAnimatedSinceResize&&(ra.hasAnimatedSinceResize=!1,this.nodes.forEach(ny))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||lx,{onLayoutAnimationStart:T,onLayoutAnimationComplete:g}=u.getProps(),f=!this.targetLayout||!dA(this.targetLayout,v)||p,m=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||h&&(f||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,m);const w={...Zf(y,"layout"),onPlay:T,onComplete:g};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||ny(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,In(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ix),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ty);return}this.isUpdating||this.nodes.forEach(tx),this.isUpdating=!1,this.nodes.forEach(nx),this.nodes.forEach(YN),this.nodes.forEach(JN),this.clearAllSnapshots();const a=performance.now();je.delta=or(0,1e3/60,a-je.timestamp),je.timestamp=a,je.isProcessing=!0,Hl.update.process(je),Hl.preRender.process(je),Hl.render.process(je),je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ex),this.sharedNodes.forEach(sx)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ne.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ne.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!uA(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;s&&(a||vr(this.latestValues)||u)&&(o(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return s&&(c=this.removeTransform(c)),ux(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return ve();const a=s.measureViewportBox(),{scroll:c}=this.root;return c&&(bn(a.x,c.offset.x),bn(a.y,c.offset.y)),a}removeElementScroll(s){const a=ve();Et(a,s);for(let c=0;c<this.path.length;c++){const l=this.path[c],{scroll:u,options:d}=l;if(l!==this.root&&u&&d.layoutScroll){if(u.isRoot){Et(a,s);const{scroll:h}=this.root;h&&(bn(a.x,-h.offset.x),bn(a.y,-h.offset.y))}bn(a.x,u.offset.x),bn(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const c=ve();Et(c,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ho(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),vr(u.latestValues)&&ho(c,u.latestValues)}return vr(this.latestValues)&&ho(c,this.latestValues),c}removeTransform(s){const a=ve();Et(a,s);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!vr(l.latestValues))continue;Td(l.latestValues)&&l.updateSnapshot();const u=ve(),d=l.measurePageBox();Et(u,d),Qg(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return vr(this.latestValues)&&Qg(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=je.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Ii(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Et(this.target,this.layout.layoutBox),oA(this.target,this.targetDelta)):Et(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),Ii(this.relativeTargetOrigin,this.target,p.target),Et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Cr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Td(this.parent.latestValues)||rA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===je.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Et(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;wN(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=uo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=uo(),this.projectionDeltaWithTransform=uo());const y=this.projectionTransform;ki(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Xg(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Cr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},d=uo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=ve(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,y=p!==v,T=this.getStack(),g=!T||T.members.length<=1,f=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(cx));this.animationProgress=0;let m;this.mixTargetDelta=w=>{const A=w/1e3;ry(d.x,s.x,A),ry(d.y,s.y,A),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ii(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ax(this.relativeTarget,this.relativeTargetOrigin,h,A),m&&BN(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=ve()),Et(m,this.relativeTarget)),y&&(this.animationValues=u,bN(u,l,this.latestValues,A,f,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(In(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ne.update(()=>{ra.hasAnimatedSinceResize=!0,this.currentAnimation=WN(0,ey,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ey),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:u}=s;if(!(!a||!c||!l)){if(this!==s&&this.layout&&l&&fA(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||ve();const d=wt(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+d;const h=wt(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+h}Et(a,c),ho(a,u),ki(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new jN),this.sharedNodes.get(s).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:c}=s;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const l={};for(let u=0;u<Zg.length;u++){const d="rotate"+Zg[u];c[d]&&(l[d]=c[d],s.setStaticValue(d,0))}s.render();for(const u in l)s.setStaticValue(u,l[u]);s.scheduleRender()}getProjectionStyles(s){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return qN;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=na(s==null?void 0:s.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=na(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!vr(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=Xg(this.projectionDeltaWithTransform,this.treeScale,h),u&&(l.transform=u(h,l.transform));const{x:p,y:v}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,d.animationValues?l.opacity=d===this?(c=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Za){if(h[y]===void 0)continue;const{correct:T,applyTo:g}=Za[y],f=l.transform==="none"?h[y]:T(h[y],d);if(g){const m=g.length;for(let w=0;w<m;w++)l[g[w]]=f}else l[y]=f}return this.options.layoutId&&(l.pointerEvents=d===this?na(s==null?void 0:s.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ty),this.root.sharedNodes.clear()}}}function YN(t){t.updateLayout()}function JN(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:i}=t.options,s=n.source!==t.layout.source;i==="size"?kt(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],p=wt(h);h.min=r[d].min,h.max=h.min+p}):fA(i,n.layoutBox,r)&&kt(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],p=wt(r[d]);h.max=h.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+p)});const a=uo();ki(a,r,n.layoutBox);const c=uo();s?ki(c,t.applyTransform(o,!0),n.measuredBox):ki(c,r,n.layoutBox);const l=!uA(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const v=ve();Ii(v,n.layoutBox,h.layoutBox);const y=ve();Ii(y,r,p.layoutBox),dA(v,y)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function XN(t){Cr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ZN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function ex(t){t.clearSnapshot()}function ty(t){t.clearMeasurements()}function tx(t){t.isLayoutDirty=!1}function nx(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ny(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rx(t){t.resolveTargetDelta()}function ox(t){t.calcProjection()}function ix(t){t.resetRotation()}function sx(t){t.removeLeadSnapshot()}function ry(t,e,n){t.translate=ue(e.translate,0,n),t.scale=ue(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function oy(t,e,n,r){t.min=ue(e.min,n.min,r),t.max=ue(e.max,n.max,r)}function ax(t,e,n,r){oy(t.x,e.x,n.x,r),oy(t.y,e.y,n.y,r)}function cx(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lx={duration:.45,ease:[.4,0,.1,1]},iy=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),sy=iy("applewebkit/")&&!iy("chrome/")?Math.round:pe;function ay(t){t.min=sy(t.min),t.max=sy(t.max)}function ux(t){ay(t.x),ay(t.y)}function fA(t,e,n){return t==="position"||t==="preserve-aspect"&&!Cd(Jg(e),Jg(n),.2)}const dx=hA({attachResizeListener:(t,e)=>gn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Yl={current:void 0},pA=hA({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Yl.current){const t=new dx({});t.mount(window),t.setOptions({layoutScroll:!0}),Yl.current=t}return Yl.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hx={pan:{Feature:_N},drag:{Feature:RN,ProjectionNode:pA,MeasureLayout:aA}},fx=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function px(t){const e=fx.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Ad(t,e,n=1){const[r,o]=px(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const s=i.trim();return YS(s)?parseFloat(s):s}else return hd(o)?Ad(o,e,n+1):o}function mx(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(o=>{const i=o.get();if(!hd(i))return;const s=Ad(i,r);s&&o.set(s)});for(const o in e){const i=e[o];if(!hd(i))continue;const s=Ad(i,r);s&&(e[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:e,transitionEnd:n}}const gx=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),mA=t=>gx.has(t),yx=t=>Object.keys(t).some(mA),cy=t=>t===Kr||t===B,ly=(t,e)=>parseFloat(t.split(", ")[e]),uy=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return ly(o[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?ly(i[1],t):0}},vx=new Set(["x","y","z"]),Cx=ss.filter(t=>!vx.has(t));function wx(t){const e=[];return Cx.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const xo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:uy(4,13),y:uy(5,14)};xo.translateX=xo.x;xo.translateY=xo.y;const Tx=(t,e,n)=>{const r=e.measureViewportBox(),o=e.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(l=>{a[l]=xo[l](r,i)}),e.render();const c=e.measureViewportBox();return n.forEach(l=>{const u=e.getValue(l);u&&u.jump(a[l]),t[l]=xo[l](c,i)}),t},Sx=(t,e,n={},r={})=>{e={...e},r={...r};const o=Object.keys(e).filter(mA);let i=[],s=!1;const a=[];if(o.forEach(c=>{const l=t.getValue(c);if(!t.hasValue(c))return;let u=n[c],d=Xo(u);const h=e[c];let p;if(tc(h)){const v=h.length,y=h[0]===null?1:0;u=h[y],d=Xo(u);for(let T=y;T<v&&h[T]!==null;T++)p?qf(Xo(h[T])===p):p=Xo(h[T])}else p=Xo(h);if(d!==p)if(cy(d)&&cy(p)){const v=l.get();typeof v=="string"&&l.set(parseFloat(v)),typeof h=="string"?e[c]=parseFloat(h):Array.isArray(h)&&p===B&&(e[c]=h.map(parseFloat))}else d!=null&&d.transform&&(p!=null&&p.transform)&&(u===0||h===0)?u===0?l.set(p.transform(u)):e[c]=d.transform(h):(s||(i=wx(t),s=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:e[c],l.jump(h))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,l=Tx(e,t,a);return i.length&&i.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),Gc&&c!==null&&window.scrollTo({top:c}),{target:l,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Ax(t,e,n,r){return yx(e)?Sx(t,e,n,r):{target:e,transitionEnd:r}}const Ex=(t,e,n,r)=>{const o=mx(t,e,r);return e=o.target,r=o.transitionEnd,Ax(t,e,n,r)},Ed={current:null},gA={current:!1};function kx(){if(gA.current=!0,!!Gc)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ed.current=t.matches;t.addListener(e),e()}else Ed.current=!1}function Ix(t,e,n){const{willChange:r}=e;for(const o in e){const i=e[o],s=n[o];if(ut(i))t.addValue(o,i),ic(r)&&r.add(o);else if(ut(s))t.addValue(o,No(i,{owner:t})),ic(r)&&r.remove(o);else if(s!==i)if(t.hasValue(o)){const a=t.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(o);t.addValue(o,No(a!==void 0?a:i,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const dy=new WeakMap,yA=Object.keys(Ji),Rx=yA.length,hy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],_x=Hf.length;class Px{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ne.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=qc(n),this.isVariantNode=tS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:l,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const h=u[d];a[d]!==void 0&&ut(h)&&(h.set(a[d],!1),ic(l)&&l.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,dy.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),gA.current||kx(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ed.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){dy.delete(this.current),this.projection&&this.projection.unmount(),In(this.notifyUpdate),In(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=zr.has(e),o=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&ne.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,o,i){let s,a;for(let c=0;c<Rx;c++){const l=yA[c],{isEnabled:u,Feature:d,ProjectionNode:h,MeasureLayout:p}=Ji[l];h&&(s=h),u(n)&&(!this.features[l]&&d&&(this.features[l]=new d(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:l,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:l,alwaysMeasureLayout:!!u||d&&co(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:p})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<hy.length;r++){const o=hy[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=e["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=Ix(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<_x;r++){const o=Hf[r],i=this.props[o];(Yi(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=No(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=Wf(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ut(i)?i:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new rp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class vA extends Px{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:o},i){let s=G1(r,e||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){K1(this,r,s);const a=Ex(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function Ox(t){return window.getComputedStyle(t)}class Nx extends vA{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(zr.has(n)){const r=Xf(n);return r&&r.default||0}else{const r=Ox(e),o=(iS(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return iA(e,n)}build(e,n,r,o){Vf(e,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Gf(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ut(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,o){dS(e,n,r,o)}}class xx extends vA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zr.has(n)){const r=Xf(n);return r&&r.default||0}return n=hS.has(n)?n:Uf(n),e.getAttribute(n)}measureInstanceViewportBox(){return ve()}scrapeMotionValuesFromProps(e,n){return pS(e,n)}build(e,n,r,o){Kf(e,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,n,r,o){fS(e,n,r,o)}mount(e){this.isSVGTag=$f(e.tagName),super.mount(e)}}const Mx=(t,e)=>jf(t)?new xx(e,{enableHardwareAcceleration:!1}):new Nx(e,{enableHardwareAcceleration:!0}),bx={layout:{ProjectionNode:pA,MeasureLayout:aA}},Dx={...aN,...RO,...hx,...bx},xe=LP((t,e)=>pO(t,e,Dx,Mx));function CA(){const t=_.useRef(!1);return Lf(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Lx(){const t=CA(),[e,n]=_.useState(0),r=_.useCallback(()=>{t.current&&n(e+1)},[e]);return[_.useCallback(()=>ne.postRender(r),[r]),e]}class Ux extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Fx({children:t,isPresent:e}){const n=_.useId(),r=_.useRef(null),o=_.useRef({width:0,height:0,top:0,left:0});return _.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:c}=o.current;if(e||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[e]),_.createElement(Ux,{isPresent:e,childRef:r,sizeRef:o},_.cloneElement(t,{ref:r}))}const Jl=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=mS(Hx),c=_.useId(),l=_.useMemo(()=>({id:c,initial:e,isPresent:n,custom:o,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?void 0:[n]);return _.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),_.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=_.createElement(Fx,{isPresent:n},t)),_.createElement($c.Provider,{value:l},t)};function Hx(){return new Map}function Bx(t){return _.useEffect(()=>()=>t(),[])}const wr=t=>t.key||"";function jx(t,e){t.forEach(n=>{const r=wr(n);e.set(r,n)})}function Vx(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const op=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=_.useContext(Bf).forceRender||Lx()[0],c=CA(),l=Vx(t);let u=l;const d=_.useRef(new Map).current,h=_.useRef(u),p=_.useRef(new Map).current,v=_.useRef(!0);if(Lf(()=>{v.current=!1,jx(l,p),h.current=u}),Bx(()=>{v.current=!0,p.clear(),d.clear()}),v.current)return _.createElement(_.Fragment,null,u.map(f=>_.createElement(Jl,{key:wr(f),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},f)));u=[...u];const y=h.current.map(wr),T=l.map(wr),g=y.length;for(let f=0;f<g;f++){const m=y[f];T.indexOf(m)===-1&&!d.has(m)&&d.set(m,void 0)}return s==="wait"&&d.size&&(u=[]),d.forEach((f,m)=>{if(T.indexOf(m)!==-1)return;const w=p.get(m);if(!w)return;const A=y.indexOf(m);let R=f;if(!R){const O=()=>{d.delete(m);const P=Array.from(p.keys()).filter(U=>!T.includes(U));if(P.forEach(U=>p.delete(U)),h.current=l.filter(U=>{const F=wr(U);return F===m||P.includes(F)}),!d.size){if(c.current===!1)return;a(),r&&r()}};R=_.createElement(Jl,{key:wr(w),isPresent:!1,onExitComplete:O,custom:e,presenceAffectsLayout:i,mode:s},w),d.set(m,R)}u.splice(A,0,R)}),u=u.map(f=>{const m=f.key;return d.has(m)?f:_.createElement(Jl,{key:wr(f),isPresent:!0,presenceAffectsLayout:i,mode:s},f)}),_.createElement(_.Fragment,null,d.size?u:u.map(f=>_.cloneElement(f)))};var zx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Kx=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$x=(t,e)=>{const n=_.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:s,children:a,...c},l)=>_.createElement("svg",{ref:l,...zx,width:o,height:o,stroke:r,strokeWidth:s?Number(i)*24/Number(o):i,className:`lucide lucide-${Kx(t)}`,...c},[...e.map(([u,d])=>_.createElement(u,d)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n};var Mt=$x;const Gx=Mt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),fy=Mt("Bot",[["rect",{width:"18",height:"10",x:"3",y:"11",rx:"2",key:"1ofdy3"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}],["path",{d:"M12 7v4",key:"xawao1"}],["line",{x1:"8",x2:"8",y1:"16",y2:"16",key:"h6x27f"}],["line",{x1:"16",x2:"16",y1:"16",y2:"16",key:"5lty7f"}]]),Wx=Mt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),qx=Mt("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),py=Mt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Qx=Mt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),Yx=Mt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Jx=Mt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),Xx=Mt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Zx=Mt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),eM=Mt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),tM=Mt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const nM=({messages:t,isLoading:e})=>{const n=_.useRef(null);_.useEffect(()=>{var i;(i=n.current)==null||i.scrollIntoView({behavior:"smooth"})},[t]);const r=i=>i.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),o=i=>{let s=i.replace(/^### (.*$)/gm,"<h3>$1</h3>").replace(/^## (.*$)/gm,"<h2>$1</h2>").replace(/^# (.*$)/gm,"<h1>$1</h1>").replace(/^- (.*$)/gm,"<li>$1</li>").replace(/^\* (.*$)/gm,"<li>$1</li>").replace(/^\d+\. (.*$)/gm,"<li>$1</li>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/```([\s\S]*?)```/g,"<pre><code>$1</code></pre>").replace(/`(.*?)`/g,"<code>$1</code>").replace(/\n/g,"<br>");return s=s.replace(/(<li>.*<\/li>)(\s*<br>\s*<li>.*<\/li>)*/g,a=>"<ul>"+a.replace(/<br>/g,"")+"</ul>"),s};return S.jsx("div",{className:"message-list",children:S.jsxs("div",{className:"messages-container",children:[S.jsx(op,{children:t.map((i,s)=>S.jsxs(xe.div,{className:`message ${i.isUser?"message-user":"message-ai"}`,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.3,delay:s*.05,ease:[.4,0,.2,1]},children:[S.jsx("div",{className:"message-avatar",children:i.isUser?S.jsx(eM,{size:16}):S.jsx(fy,{size:16})}),S.jsx("div",{className:"message-content",children:S.jsxs("div",{className:"message-bubble",children:[i.isUser?S.jsx("p",{className:"message-text",children:i.content}):S.jsx("div",{className:"message-text formatted-content",dangerouslySetInnerHTML:{__html:o(i.content)}}),S.jsx("span",{className:"message-time",children:r(i.timestamp)})]})})]},i.id))}),e&&S.jsxs(xe.div,{className:"message message-ai",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[S.jsx("div",{className:"message-avatar",children:S.jsx(fy,{size:16})}),S.jsx("div",{className:"message-content",children:S.jsx("div",{className:"message-bubble loading-message",children:S.jsxs("div",{className:"typing-indicator",children:[S.jsx("span",{}),S.jsx("span",{}),S.jsx("span",{})]})})})]}),S.jsx("div",{ref:n})]})})};const wA=({isOpen:t,onClose:e,onUpload:n})=>{const[r,o]=_.useState({isDragOver:!1,isUploading:!1,uploadProgress:0,error:null,success:!1}),i=_.useRef(null),s=()=>{o({isDragOver:!1,isUploading:!1,uploadProgress:0,error:null,success:!1})},a=()=>{s(),e()},c=y=>["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(y.type)?y.size>10*1024*1024?"File size must be less than 10MB":null:"Only PDF and DOCX files are supported",l=_.useCallback(async y=>{const T=c(y);if(T){o(g=>({...g,error:T}));return}o(g=>({...g,isUploading:!0,error:null,uploadProgress:0}));try{const g=setInterval(()=>{o(f=>f.uploadProgress>=90?(clearInterval(g),f):{...f,uploadProgress:f.uploadProgress+10})},100);await n(y),clearInterval(g),o(f=>({...f,isUploading:!1,uploadProgress:100,success:!0})),setTimeout(()=>{a()},1500)}catch(g){o(f=>({...f,isUploading:!1,error:g instanceof Error?g.message:"Upload failed"}))}},[n]),u=_.useCallback(y=>{y.preventDefault(),o(T=>({...T,isDragOver:!0}))},[]),d=_.useCallback(y=>{y.preventDefault(),o(T=>({...T,isDragOver:!1}))},[]),h=_.useCallback(y=>{y.preventDefault(),o(g=>({...g,isDragOver:!1}));const T=Array.from(y.dataTransfer.files);T.length>0&&l(T[0])},[l]),p=_.useCallback(y=>{const T=y.target.files;T&&T.length>0&&l(T[0])},[l]),v=()=>{var y;(y=i.current)==null||y.click()};return t?S.jsx(op,{children:S.jsx(xe.div,{className:"document-upload-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,children:S.jsxs(xe.div,{className:"document-upload-modal",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},onClick:y=>y.stopPropagation(),children:[S.jsxs("div",{className:"modal-header",children:[S.jsx("h3",{className:"modal-title",children:"Upload Document"}),S.jsx("button",{className:"close-button",onClick:a,disabled:r.isUploading,children:S.jsx(tM,{size:20})})]}),S.jsx("div",{className:"modal-content",children:r.success?S.jsxs(xe.div,{className:"success-state",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[S.jsx(Wx,{className:"success-icon",size:48}),S.jsx("h4",{children:"Upload Successful!"}),S.jsx("p",{children:"Your document has been uploaded and is ready for analysis."})]}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:`upload-area ${r.isDragOver?"drag-over":""} ${r.isUploading?"uploading":""}`,onDragOver:u,onDragLeave:d,onDrop:h,children:r.isUploading?S.jsxs("div",{className:"upload-progress",children:[S.jsxs("div",{className:"progress-circle",children:[S.jsx("svg",{className:"progress-ring",width:"60",height:"60",children:S.jsx("circle",{className:"progress-ring-circle",stroke:"var(--color-primary)",strokeWidth:"4",fill:"transparent",r:"26",cx:"30",cy:"30",style:{strokeDasharray:`${2*Math.PI*26}`,strokeDashoffset:`${2*Math.PI*26*(1-r.uploadProgress/100)}`}})}),S.jsxs("span",{className:"progress-text",children:[r.uploadProgress,"%"]})]}),S.jsx("p",{children:"Uploading document..."})]}):S.jsxs("div",{className:"upload-content",children:[S.jsx(Zx,{className:"upload-icon",size:48}),S.jsx("h4",{children:"Drop your document here"}),S.jsxs("p",{children:["or ",S.jsx("button",{className:"browse-button",onClick:v,children:"browse files"})]}),S.jsxs("div",{className:"file-info",children:[S.jsx(qx,{size:16}),S.jsx("span",{children:"Supports PDF and DOCX files up to 10MB"})]})]})}),r.error&&S.jsxs(xe.div,{className:"error-message",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[S.jsx(Gx,{size:16}),S.jsx("span",{children:r.error})]})]})}),S.jsx("input",{ref:i,type:"file",accept:".pdf,.docx",onChange:p,style:{display:"none"},disabled:r.isUploading})]})})}):null};const rM=({onSendMessage:t,onFileUpload:e,disabled:n=!1})=>{const[r,o]=_.useState(""),[i,s]=_.useState(!1),a=_.useRef(null);_.useEffect(()=>{a.current&&(a.current.style.height="auto",a.current.style.height=`${a.current.scrollHeight}px`)},[r]);const c=p=>{p.preventDefault(),r.trim()&&!n&&(t(r.trim()),o(""))},l=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),c(p))},u=()=>{s(!0)},d=async p=>{e&&await e(p),s(!1)},h=()=>{s(!1)};return S.jsxs("div",{className:"message-input-container",children:[S.jsxs(xe.form,{className:"message-input-form",onSubmit:c,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[S.jsxs("div",{className:"input-wrapper",children:[S.jsx("button",{type:"button",className:"attach-button focus-ring","aria-label":"Attach file",disabled:n,onClick:u,children:S.jsx(Qx,{size:18})}),S.jsx("textarea",{ref:a,value:r,onChange:p=>o(p.target.value),onKeyDown:l,placeholder:"Type your message...",className:"message-textarea focus-ring",disabled:n,rows:1,maxLength:2e3}),S.jsx(xe.button,{type:"submit",className:`send-button focus-ring ${r.trim()?"send-button-active":""}`,disabled:!r.trim()||n,whileHover:{scale:r.trim()?1.05:1},whileTap:{scale:r.trim()?.95:1},"aria-label":"Send message",children:S.jsx(Jx,{size:18})})]}),S.jsxs("div",{className:"input-footer",children:[S.jsxs("span",{className:"character-count",children:[r.length,"/2000"]}),S.jsx("span",{className:"input-hint",children:"Press Enter to send, Shift+Enter for new line"})]})]}),S.jsx(wA,{isOpen:i,onClose:h,onUpload:d})]})};const TA=({isOpen:t,title:e,message:n,confirmText:r="Confirm",cancelText:o="Cancel",onConfirm:i,onCancel:s,isDestructive:a=!1})=>S.jsx(op,{children:t&&S.jsxs(S.Fragment,{children:[S.jsx(xe.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s}),S.jsxs(xe.div,{className:"confirmation-modal",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},children:[S.jsx("div",{className:"modal-header",children:S.jsx("h3",{className:"modal-title",children:e})}),S.jsx("div",{className:"modal-body",children:S.jsx("p",{className:"modal-message",children:n})}),S.jsxs("div",{className:"modal-actions",children:[S.jsx("button",{className:"modal-button modal-button-secondary",onClick:s,children:o}),S.jsx("button",{className:`modal-button ${a?"modal-button-destructive":"modal-button-primary"}`,onClick:i,children:r})]})]})]})});const oM=({messages:t,isLoading:e,onSendMessage:n,onFileUpload:r,documents:o=[],onDeleteDocument:i})=>{const[s,a]=_.useState(!1),[c,l]=_.useState(null),u=pt.getUserInfo(),d=async()=>{try{await pt.logout()}catch(h){console.error("Sign out error:",h)}};return S.jsxs("div",{className:"chat-interface",children:[S.jsx(xe.header,{className:"chat-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:S.jsxs("div",{className:"user-info",children:[S.jsx("span",{className:"user-name",children:(u==null?void 0:u.email)||"User"}),S.jsx("button",{className:"signout-button",title:"Sign Out",onClick:d,children:S.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),S.jsx("polyline",{points:"16,17 21,12 16,7"}),S.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})}),S.jsx("div",{className:"chat-content",children:t.length===0?S.jsx(xe.div,{className:"welcome-screen",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:S.jsxs("div",{className:"welcome-content",children:[S.jsx("div",{className:"welcome-icon",children:S.jsx("img",{src:"/images/RAIlogo.png",alt:"RR Realty AI Logo",className:"rr-logo-image",width:"80",height:"80"})}),S.jsx("h2",{className:"welcome-title",children:"Welcome to RR Realty AI"}),S.jsx("p",{className:"welcome-description",children:"I'm your intelligent assistant, ready to help with any questions or tasks. Start a conversation by typing a message below."}),S.jsxs("div",{className:"welcome-suggestions",children:[S.jsx(xe.button,{className:"suggestion-chip",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n("What can you help me with?"),children:"What can you help me with?"}),S.jsx(xe.button,{className:"suggestion-chip",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n("Tell me about current market trends"),children:"Current market trends"}),S.jsx(xe.button,{className:"suggestion-chip",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n("How do I get started?"),children:"How do I get started?"})]})]})}):S.jsx(nM,{messages:t,isLoading:e})}),o.length>0&&S.jsx("div",{className:"document-bubbles",children:o.map(h=>S.jsxs("div",{className:"document-bubble",children:[S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"bubble-file-icon",children:[S.jsx("path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"}),S.jsx("polyline",{points:"14 2 14 8 20 8"})]}),S.jsx("span",{className:"bubble-document-name",title:h.originalFileName,children:h.originalFileName.length>30?`${h.originalFileName.substring(0,30)}...`:h.originalFileName}),S.jsx("button",{className:"bubble-delete-button",onClick:()=>l({id:h.id,name:h.originalFileName}),title:"Remove document",children:S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[S.jsx("path",{d:"M18 6 6 18"}),S.jsx("path",{d:"m6 6 12 12"})]})})]},h.id))}),S.jsx(rM,{onSendMessage:n,onFileUpload:r,disabled:e}),S.jsx(wA,{isOpen:s,onClose:()=>a(!1),onUpload:async h=>{r&&await r(h),a(!1)}}),S.jsx(TA,{isOpen:c!==null,title:"Delete Document",message:S.jsxs(S.Fragment,{children:["Are you sure you want to delete ",S.jsx("span",{className:"document-name",children:c==null?void 0:c.name}),"? This action cannot be undone."]}),confirmText:"Delete",cancelText:"Cancel",isDestructive:!0,onConfirm:()=>{c&&i&&i(c.id),l(null)},onCancel:()=>l(null)})]})};const iM=({onNewChat:t,chatSessions:e,onSelectChat:n,onDeleteChat:r,currentChatId:o})=>{const[i,s]=_.useState(null),a=c=>{const l=c.toLocaleDateString([],{month:"short",day:"numeric",year:"numeric"}),u=c.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return`${l}  ${u}`};return S.jsxs("aside",{className:"sidebar",children:[S.jsx("div",{className:"sidebar-header",children:S.jsx("h2",{className:"sidebar-title",children:"RR Realty AI"})}),S.jsxs("div",{className:"sidebar-content",children:[S.jsx("section",{className:"sidebar-section",children:S.jsxs(xe.button,{className:"new-chat-button focus-ring",onClick:t,whileHover:{scale:1.02},whileTap:{scale:.98},children:[S.jsx(Yx,{size:18}),"New Chat"]})}),S.jsxs("section",{className:"sidebar-section",children:[S.jsx("h3",{className:"section-title",children:"Recent Chats"}),S.jsx("div",{className:"chat-history",children:e.length===0?S.jsxs("div",{className:"empty-state",children:[S.jsx(py,{size:32}),S.jsx("p",{children:"No recent chats"})]}):S.jsx(xe.div,{className:"chat-items",children:e.map((c,l)=>S.jsxs(xe.div,{className:`chat-item ${o===c.id?"active":""}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l*.05},whileHover:{scale:1.02},onClick:()=>n(c.id),children:[S.jsx("div",{className:"chat-icon",children:S.jsx(py,{size:16})}),S.jsxs("div",{className:"chat-info",children:[S.jsx("p",{className:"chat-title",title:c.title,children:c.title}),S.jsx("div",{className:"chat-meta",children:S.jsxs("span",{children:[c.messageCount," messages  ",a(c.timestamp)]})})]}),S.jsx("button",{className:"chat-delete focus-ring","aria-label":`Delete chat: ${c.title}`,onClick:u=>{u.stopPropagation(),s({id:c.id,title:c.title})},children:S.jsx(Xx,{size:14})})]},c.id))})})]})]}),S.jsx(TA,{isOpen:i!==null,title:"Delete Conversation",message:`Are you sure you want to delete "${i==null?void 0:i.title}"? This will permanently delete all messages and documents in this conversation. This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",isDestructive:!0,onConfirm:()=>{i&&r(i.id),s(null)},onCancel:()=>s(null)})]})};function SA(t,e){return function(){return t.apply(e,arguments)}}const{toString:sM}=Object.prototype,{getPrototypeOf:ip}=Object,{iterator:Xc,toStringTag:AA}=Symbol,Zc=(t=>e=>{const n=sM.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),qt=t=>(t=t.toLowerCase(),e=>Zc(e)===t),el=t=>e=>typeof e===t,{isArray:jo}=Array,Zi=el("undefined");function us(t){return t!==null&&!Zi(t)&&t.constructor!==null&&!Zi(t.constructor)&&ct(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const EA=qt("ArrayBuffer");function aM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&EA(t.buffer),e}const cM=el("string"),ct=el("function"),kA=el("number"),ds=t=>t!==null&&typeof t=="object",lM=t=>t===!0||t===!1,oa=t=>{if(Zc(t)!=="object")return!1;const e=ip(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(AA in t)&&!(Xc in t)},uM=t=>{if(!ds(t)||us(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},dM=qt("Date"),hM=qt("File"),fM=qt("Blob"),pM=qt("FileList"),mM=t=>ds(t)&&ct(t.pipe),gM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ct(t.append)&&((e=Zc(t))==="formdata"||e==="object"&&ct(t.toString)&&t.toString()==="[object FormData]"))},yM=qt("URLSearchParams"),[vM,CM,wM,TM]=["ReadableStream","Request","Response","Headers"].map(qt),SM=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hs(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),jo(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{if(us(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let a;for(r=0;r<s;r++)a=i[r],e.call(null,t[a],a,t)}}function IA(t,e){if(us(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const Rr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),RA=t=>!Zi(t)&&t!==Rr;function kd(){const{caseless:t}=RA(this)&&this||{},e={},n=(r,o)=>{const i=t&&IA(e,o)||o;oa(e[i])&&oa(r)?e[i]=kd(e[i],r):oa(r)?e[i]=kd({},r):jo(r)?e[i]=r.slice():e[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&hs(arguments[r],n);return e}const AM=(t,e,n,{allOwnKeys:r}={})=>(hs(e,(o,i)=>{n&&ct(o)?t[i]=SA(o,n):t[i]=o},{allOwnKeys:r}),t),EM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),kM=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},IM=(t,e,n,r)=>{let o,i,s;const a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)s=o[i],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&ip(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},RM=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},_M=t=>{if(!t)return null;if(jo(t))return t;let e=t.length;if(!kA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},PM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&ip(Uint8Array)),OM=(t,e)=>{const r=(t&&t[Xc]).call(t);let o;for(;(o=r.next())&&!o.done;){const i=o.value;e.call(t,i[0],i[1])}},NM=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},xM=qt("HTMLFormElement"),MM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),my=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),bM=qt("RegExp"),_A=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};hs(n,(o,i)=>{let s;(s=e(o,i,t))!==!1&&(r[i]=s||o)}),Object.defineProperties(t,r)},DM=t=>{_A(t,(e,n)=>{if(ct(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ct(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},LM=(t,e)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return jo(t)?r(t):r(String(t).split(e)),n},UM=()=>{},FM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function HM(t){return!!(t&&ct(t.append)&&t[AA]==="FormData"&&t[Xc])}const BM=t=>{const e=new Array(10),n=(r,o)=>{if(ds(r)){if(e.indexOf(r)>=0)return;if(us(r))return r;if(!("toJSON"in r)){e[o]=r;const i=jo(r)?[]:{};return hs(r,(s,a)=>{const c=n(s,o+1);!Zi(c)&&(i[a]=c)}),e[o]=void 0,i}}return r};return n(t,0)},jM=qt("AsyncFunction"),VM=t=>t&&(ds(t)||ct(t))&&ct(t.then)&&ct(t.catch),PA=((t,e)=>t?setImmediate:e?((n,r)=>(Rr.addEventListener("message",({source:o,data:i})=>{o===Rr&&i===n&&r.length&&r.shift()()},!1),o=>{r.push(o),Rr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ct(Rr.postMessage)),zM=typeof queueMicrotask<"u"?queueMicrotask.bind(Rr):typeof process<"u"&&process.nextTick||PA,KM=t=>t!=null&&ct(t[Xc]),E={isArray:jo,isArrayBuffer:EA,isBuffer:us,isFormData:gM,isArrayBufferView:aM,isString:cM,isNumber:kA,isBoolean:lM,isObject:ds,isPlainObject:oa,isEmptyObject:uM,isReadableStream:vM,isRequest:CM,isResponse:wM,isHeaders:TM,isUndefined:Zi,isDate:dM,isFile:hM,isBlob:fM,isRegExp:bM,isFunction:ct,isStream:mM,isURLSearchParams:yM,isTypedArray:PM,isFileList:pM,forEach:hs,merge:kd,extend:AM,trim:SM,stripBOM:EM,inherits:kM,toFlatObject:IM,kindOf:Zc,kindOfTest:qt,endsWith:RM,toArray:_M,forEachEntry:OM,matchAll:NM,isHTMLForm:xM,hasOwnProperty:my,hasOwnProp:my,reduceDescriptors:_A,freezeMethods:DM,toObjectSet:LM,toCamelCase:MM,noop:UM,toFiniteNumber:FM,findKey:IA,global:Rr,isContextDefined:RA,isSpecCompliantForm:HM,toJSONObject:BM,isAsyncFn:jM,isThenable:VM,setImmediate:PA,asap:zM,isIterable:KM};function z(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}E.inherits(z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:E.toJSONObject(this.config),code:this.code,status:this.status}}});const OA=z.prototype,NA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{NA[t]={value:t}});Object.defineProperties(z,NA);Object.defineProperty(OA,"isAxiosError",{value:!0});z.from=(t,e,n,r,o,i)=>{const s=Object.create(OA);return E.toFlatObject(t,s,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),z.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const $M=null;function Id(t){return E.isPlainObject(t)||E.isArray(t)}function xA(t){return E.endsWith(t,"[]")?t.slice(0,-2):t}function gy(t,e,n){return t?t.concat(e).map(function(o,i){return o=xA(o),!n&&i?"["+o+"]":o}).join(n?".":""):e}function GM(t){return E.isArray(t)&&!t.some(Id)}const WM=E.toFlatObject(E,{},null,function(e){return/^is[A-Z]/.test(e)});function tl(t,e,n){if(!E.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=E.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,T){return!E.isUndefined(T[y])});const r=n.metaTokens,o=n.visitor||u,i=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&E.isSpecCompliantForm(e);if(!E.isFunction(o))throw new TypeError("visitor must be a function");function l(v){if(v===null)return"";if(E.isDate(v))return v.toISOString();if(E.isBoolean(v))return v.toString();if(!c&&E.isBlob(v))throw new z("Blob is not supported. Use a Buffer instead.");return E.isArrayBuffer(v)||E.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,y,T){let g=v;if(v&&!T&&typeof v=="object"){if(E.endsWith(y,"{}"))y=r?y:y.slice(0,-2),v=JSON.stringify(v);else if(E.isArray(v)&&GM(v)||(E.isFileList(v)||E.endsWith(y,"[]"))&&(g=E.toArray(v)))return y=xA(y),g.forEach(function(m,w){!(E.isUndefined(m)||m===null)&&e.append(s===!0?gy([y],w,i):s===null?y:y+"[]",l(m))}),!1}return Id(v)?!0:(e.append(gy(T,y,i),l(v)),!1)}const d=[],h=Object.assign(WM,{defaultVisitor:u,convertValue:l,isVisitable:Id});function p(v,y){if(!E.isUndefined(v)){if(d.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(v),E.forEach(v,function(g,f){(!(E.isUndefined(g)||g===null)&&o.call(e,g,E.isString(f)?f.trim():f,y,h))===!0&&p(g,y?y.concat(f):[f])}),d.pop()}}if(!E.isObject(t))throw new TypeError("data must be an object");return p(t),e}function yy(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function sp(t,e){this._pairs=[],t&&tl(t,this,e)}const MA=sp.prototype;MA.append=function(e,n){this._pairs.push([e,n])};MA.toString=function(e){const n=e?function(r){return e.call(this,r,yy)}:yy;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function qM(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function bA(t,e,n){if(!e)return t;const r=n&&n.encode||qM;E.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let i;if(o?i=o(e,n):i=E.isURLSearchParams(e)?e.toString():new sp(e,n).toString(r),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class QM{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){E.forEach(this.handlers,function(r){r!==null&&e(r)})}}const vy=QM,DA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YM=typeof URLSearchParams<"u"?URLSearchParams:sp,JM=typeof FormData<"u"?FormData:null,XM=typeof Blob<"u"?Blob:null,ZM={isBrowser:!0,classes:{URLSearchParams:YM,FormData:JM,Blob:XM},protocols:["http","https","file","blob","url","data"]},ap=typeof window<"u"&&typeof document<"u",Rd=typeof navigator=="object"&&navigator||void 0,eb=ap&&(!Rd||["ReactNative","NativeScript","NS"].indexOf(Rd.product)<0),tb=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),nb=ap&&window.location.href||"http://localhost",rb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ap,hasStandardBrowserEnv:eb,hasStandardBrowserWebWorkerEnv:tb,navigator:Rd,origin:nb},Symbol.toStringTag,{value:"Module"})),Ke={...rb,...ZM};function ob(t,e){return tl(t,new Ke.classes.URLSearchParams,{visitor:function(n,r,o,i){return Ke.isNode&&E.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function ib(t){return E.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sb(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}function LA(t){function e(n,r,o,i){let s=n[i++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),c=i>=n.length;return s=!s&&E.isArray(o)?o.length:s,c?(E.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!E.isObject(o[s]))&&(o[s]=[]),e(n,r,o[s],i)&&E.isArray(o[s])&&(o[s]=sb(o[s])),!a)}if(E.isFormData(t)&&E.isFunction(t.entries)){const n={};return E.forEachEntry(t,(r,o)=>{e(ib(r),o,n,0)}),n}return null}function ab(t,e,n){if(E.isString(t))try{return(e||JSON.parse)(t),E.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const cp={transitional:DA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=E.isObject(e);if(i&&E.isHTMLForm(e)&&(e=new FormData(e)),E.isFormData(e))return o?JSON.stringify(LA(e)):e;if(E.isArrayBuffer(e)||E.isBuffer(e)||E.isStream(e)||E.isFile(e)||E.isBlob(e)||E.isReadableStream(e))return e;if(E.isArrayBufferView(e))return e.buffer;if(E.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return ob(e,this.formSerializer).toString();if((a=E.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return tl(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),ab(e)):e}],transformResponse:[function(e){const n=this.transitional||cp.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(E.isResponse(e)||E.isReadableStream(e))return e;if(e&&E.isString(e)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?z.from(a,z.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ke.classes.FormData,Blob:Ke.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};E.forEach(["delete","get","head","post","put","patch"],t=>{cp.headers[t]={}});const lp=cp,cb=E.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lb=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||e[n]&&cb[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},Cy=Symbol("internals");function ei(t){return t&&String(t).trim().toLowerCase()}function ia(t){return t===!1||t==null?t:E.isArray(t)?t.map(ia):String(t)}function ub(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const db=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Xl(t,e,n,r,o){if(E.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!E.isString(e)){if(E.isString(r))return e.indexOf(r)!==-1;if(E.isRegExp(r))return r.test(e)}}function hb(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function fb(t,e){const n=E.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,i,s){return this[r].call(this,e,o,i,s)},configurable:!0})})}class nl{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function i(a,c,l){const u=ei(c);if(!u)throw new Error("header name must be a non-empty string");const d=E.findKey(o,u);(!d||o[d]===void 0||l===!0||l===void 0&&o[d]!==!1)&&(o[d||c]=ia(a))}const s=(a,c)=>E.forEach(a,(l,u)=>i(l,u,c));if(E.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(E.isString(e)&&(e=e.trim())&&!db(e))s(lb(e),n);else if(E.isObject(e)&&E.isIterable(e)){let a={},c,l;for(const u of e){if(!E.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[l=u[0]]=(c=a[l])?E.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}s(a,n)}else e!=null&&i(n,e,r);return this}get(e,n){if(e=ei(e),e){const r=E.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return ub(o);if(E.isFunction(n))return n.call(this,o,r);if(E.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ei(e),e){const r=E.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Xl(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function i(s){if(s=ei(s),s){const a=E.findKey(r,s);a&&(!n||Xl(r,r[a],a,n))&&(delete r[a],o=!0)}}return E.isArray(e)?e.forEach(i):i(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!e||Xl(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){const n=this,r={};return E.forEach(this,(o,i)=>{const s=E.findKey(r,i);if(s){n[s]=ia(o),delete n[i];return}const a=e?hb(i):String(i).trim();a!==i&&delete n[i],n[a]=ia(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return E.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&E.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[Cy]=this[Cy]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=ei(s);r[a]||(fb(o,s),r[a]=!0)}return E.isArray(e)?e.forEach(i):i(e),this}}nl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);E.reduceDescriptors(nl.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});E.freezeMethods(nl);const zt=nl;function Zl(t,e){const n=this||lp,r=e||n,o=zt.from(r.headers);let i=r.data;return E.forEach(t,function(a){i=a.call(n,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function UA(t){return!!(t&&t.__CANCEL__)}function Vo(t,e,n){z.call(this,t??"canceled",z.ERR_CANCELED,e,n),this.name="CanceledError"}E.inherits(Vo,z,{__CANCEL__:!0});function FA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new z("Request failed with status code "+n.status,[z.ERR_BAD_REQUEST,z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function pb(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function mb(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,i=0,s;return e=e!==void 0?e:1e3,function(c){const l=Date.now(),u=r[i];s||(s=l),n[o]=c,r[o]=l;let d=i,h=0;for(;d!==o;)h+=n[d++],d=d%t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),l-s<e)return;const p=u&&l-u;return p?Math.round(h*1e3/p):void 0}}function gb(t,e){let n=0,r=1e3/e,o,i;const s=(l,u=Date.now())=>{n=u,o=null,i&&(clearTimeout(i),i=null),t(...l)};return[(...l)=>{const u=Date.now(),d=u-n;d>=r?s(l,u):(o=l,i||(i=setTimeout(()=>{i=null,s(o)},r-d)))},()=>o&&s(o)]}const ac=(t,e,n=3)=>{let r=0;const o=mb(50,250);return gb(i=>{const s=i.loaded,a=i.lengthComputable?i.total:void 0,c=s-r,l=o(c),u=s<=a;r=s;const d={loaded:s,total:a,progress:a?s/a:void 0,bytes:c,rate:l||void 0,estimated:l&&a&&u?(a-s)/l:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},n)},wy=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Ty=t=>(...e)=>E.asap(()=>t(...e)),yb=Ke.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ke.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ke.origin),Ke.navigator&&/(msie|trident)/i.test(Ke.navigator.userAgent)):()=>!0,vb=Ke.hasStandardBrowserEnv?{write(t,e,n,r,o,i){const s=[t+"="+encodeURIComponent(e)];E.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),E.isString(r)&&s.push("path="+r),E.isString(o)&&s.push("domain="+o),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Cb(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function wb(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function HA(t,e,n){let r=!Cb(e);return t&&(r||n==!1)?wb(t,e):e}const Sy=t=>t instanceof zt?{...t}:t;function Hr(t,e){e=e||{};const n={};function r(l,u,d,h){return E.isPlainObject(l)&&E.isPlainObject(u)?E.merge.call({caseless:h},l,u):E.isPlainObject(u)?E.merge({},u):E.isArray(u)?u.slice():u}function o(l,u,d,h){if(E.isUndefined(u)){if(!E.isUndefined(l))return r(void 0,l,d,h)}else return r(l,u,d,h)}function i(l,u){if(!E.isUndefined(u))return r(void 0,u)}function s(l,u){if(E.isUndefined(u)){if(!E.isUndefined(l))return r(void 0,l)}else return r(void 0,u)}function a(l,u,d){if(d in e)return r(l,u);if(d in t)return r(void 0,l)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(l,u,d)=>o(Sy(l),Sy(u),d,!0)};return E.forEach(Object.keys({...t,...e}),function(u){const d=c[u]||o,h=d(t[u],e[u],u);E.isUndefined(h)&&d!==a||(n[u]=h)}),n}const BA=t=>{const e=Hr({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:i,headers:s,auth:a}=e;e.headers=s=zt.from(s),e.url=bA(HA(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(E.isFormData(n)){if(Ke.hasStandardBrowserEnv||Ke.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[l,...u]=c?c.split(";").map(d=>d.trim()).filter(Boolean):[];s.setContentType([l||"multipart/form-data",...u].join("; "))}}if(Ke.hasStandardBrowserEnv&&(r&&E.isFunction(r)&&(r=r(e)),r||r!==!1&&yb(e.url))){const l=o&&i&&vb.read(i);l&&s.set(o,l)}return e},Tb=typeof XMLHttpRequest<"u",Sb=Tb&&function(t){return new Promise(function(n,r){const o=BA(t);let i=o.data;const s=zt.from(o.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:l}=o,u,d,h,p,v;function y(){p&&p(),v&&v(),o.cancelToken&&o.cancelToken.unsubscribe(u),o.signal&&o.signal.removeEventListener("abort",u)}let T=new XMLHttpRequest;T.open(o.method.toUpperCase(),o.url,!0),T.timeout=o.timeout;function g(){if(!T)return;const m=zt.from("getAllResponseHeaders"in T&&T.getAllResponseHeaders()),A={data:!a||a==="text"||a==="json"?T.responseText:T.response,status:T.status,statusText:T.statusText,headers:m,config:t,request:T};FA(function(O){n(O),y()},function(O){r(O),y()},A),T=null}"onloadend"in T?T.onloadend=g:T.onreadystatechange=function(){!T||T.readyState!==4||T.status===0&&!(T.responseURL&&T.responseURL.indexOf("file:")===0)||setTimeout(g)},T.onabort=function(){T&&(r(new z("Request aborted",z.ECONNABORTED,t,T)),T=null)},T.onerror=function(){r(new z("Network Error",z.ERR_NETWORK,t,T)),T=null},T.ontimeout=function(){let w=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const A=o.transitional||DA;o.timeoutErrorMessage&&(w=o.timeoutErrorMessage),r(new z(w,A.clarifyTimeoutError?z.ETIMEDOUT:z.ECONNABORTED,t,T)),T=null},i===void 0&&s.setContentType(null),"setRequestHeader"in T&&E.forEach(s.toJSON(),function(w,A){T.setRequestHeader(A,w)}),E.isUndefined(o.withCredentials)||(T.withCredentials=!!o.withCredentials),a&&a!=="json"&&(T.responseType=o.responseType),l&&([h,v]=ac(l,!0),T.addEventListener("progress",h)),c&&T.upload&&([d,p]=ac(c),T.upload.addEventListener("progress",d),T.upload.addEventListener("loadend",p)),(o.cancelToken||o.signal)&&(u=m=>{T&&(r(!m||m.type?new Vo(null,t,T):m),T.abort(),T=null)},o.cancelToken&&o.cancelToken.subscribe(u),o.signal&&(o.signal.aborted?u():o.signal.addEventListener("abort",u)));const f=pb(o.url);if(f&&Ke.protocols.indexOf(f)===-1){r(new z("Unsupported protocol "+f+":",z.ERR_BAD_REQUEST,t));return}T.send(i||null)})},Ab=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,o;const i=function(l){if(!o){o=!0,a();const u=l instanceof Error?l:this.reason;r.abort(u instanceof z?u:new Vo(u instanceof Error?u.message:u))}};let s=e&&setTimeout(()=>{s=null,i(new z(`timeout ${e} of ms exceeded`,z.ETIMEDOUT))},e);const a=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(i):l.removeEventListener("abort",i)}),t=null)};t.forEach(l=>l.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>E.asap(a),c}},Eb=Ab,kb=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,o;for(;r<n;)o=r+e,yield t.slice(r,o),r=o},Ib=async function*(t,e){for await(const n of Rb(t))yield*kb(n,e)},Rb=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},Ay=(t,e,n,r)=>{const o=Ib(t,e);let i=0,s,a=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:l,value:u}=await o.next();if(l){a(),c.close();return}let d=u.byteLength;if(n){let h=i+=d;n(h)}c.enqueue(new Uint8Array(u))}catch(l){throw a(l),l}},cancel(c){return a(c),o.return()}},{highWaterMark:2})},rl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",jA=rl&&typeof ReadableStream=="function",_b=rl&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),VA=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Pb=jA&&VA(()=>{let t=!1;const e=new Request(Ke.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Ey=64*1024,_d=jA&&VA(()=>E.isReadableStream(new Response("").body)),cc={stream:_d&&(t=>t.body)};rl&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!cc[e]&&(cc[e]=E.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new z(`Response type '${e}' is not supported`,z.ERR_NOT_SUPPORT,r)})})})(new Response);const Ob=async t=>{if(t==null)return 0;if(E.isBlob(t))return t.size;if(E.isSpecCompliantForm(t))return(await new Request(Ke.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(E.isArrayBufferView(t)||E.isArrayBuffer(t))return t.byteLength;if(E.isURLSearchParams(t)&&(t=t+""),E.isString(t))return(await _b(t)).byteLength},Nb=async(t,e)=>{const n=E.toFiniteNumber(t.getContentLength());return n??Ob(e)},xb=rl&&(async t=>{let{url:e,method:n,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:h}=BA(t);l=l?(l+"").toLowerCase():"text";let p=Eb([o,i&&i.toAbortSignal()],s),v;const y=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let T;try{if(c&&Pb&&n!=="get"&&n!=="head"&&(T=await Nb(u,r))!==0){let A=new Request(e,{method:"POST",body:r,duplex:"half"}),R;if(E.isFormData(r)&&(R=A.headers.get("content-type"))&&u.setContentType(R),A.body){const[O,P]=wy(T,ac(Ty(c)));r=Ay(A.body,Ey,O,P)}}E.isString(d)||(d=d?"include":"omit");const g="credentials"in Request.prototype;v=new Request(e,{...h,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:g?d:void 0});let f=await fetch(v,h);const m=_d&&(l==="stream"||l==="response");if(_d&&(a||m&&y)){const A={};["status","statusText","headers"].forEach(U=>{A[U]=f[U]});const R=E.toFiniteNumber(f.headers.get("content-length")),[O,P]=a&&wy(R,ac(Ty(a),!0))||[];f=new Response(Ay(f.body,Ey,O,()=>{P&&P(),y&&y()}),A)}l=l||"text";let w=await cc[E.findKey(cc,l)||"text"](f,t);return!m&&y&&y(),await new Promise((A,R)=>{FA(A,R,{data:w,headers:zt.from(f.headers),status:f.status,statusText:f.statusText,config:t,request:v})})}catch(g){throw y&&y(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new z("Network Error",z.ERR_NETWORK,t,v),{cause:g.cause||g}):z.from(g,g&&g.code,t,v)}}),Pd={http:$M,xhr:Sb,fetch:xb};E.forEach(Pd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ky=t=>`- ${t}`,Mb=t=>E.isFunction(t)||t===null||t===!1,zA={getAdapter:t=>{t=E.isArray(t)?t:[t];const{length:e}=t;let n,r;const o={};for(let i=0;i<e;i++){n=t[i];let s;if(r=n,!Mb(n)&&(r=Pd[(s=String(n)).toLowerCase()],r===void 0))throw new z(`Unknown adapter '${s}'`);if(r)break;o[s||"#"+i]=r}if(!r){const i=Object.entries(o).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=e?i.length>1?`since :
`+i.map(ky).join(`
`):" "+ky(i[0]):"as no adapter specified";throw new z("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:Pd};function eu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Vo(null,t)}function Iy(t){return eu(t),t.headers=zt.from(t.headers),t.data=Zl.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),zA.getAdapter(t.adapter||lp.adapter)(t).then(function(r){return eu(t),r.data=Zl.call(t,t.transformResponse,r),r.headers=zt.from(r.headers),r},function(r){return UA(r)||(eu(t),r&&r.response&&(r.response.data=Zl.call(t,t.transformResponse,r.response),r.response.headers=zt.from(r.response.headers))),Promise.reject(r)})}const KA="1.11.0",ol={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ol[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const Ry={};ol.transitional=function(e,n,r){function o(i,s){return"[Axios v"+KA+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(e===!1)throw new z(o(s," has been removed"+(n?" in "+n:"")),z.ERR_DEPRECATED);return n&&!Ry[s]&&(Ry[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,a):!0}};ol.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function bb(t,e,n){if(typeof t!="object")throw new z("options must be an object",z.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const a=t[i],c=a===void 0||s(a,i,t);if(c!==!0)throw new z("option "+i+" must be "+c,z.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new z("Unknown option "+i,z.ERR_BAD_OPTION)}}const sa={assertOptions:bb,validators:ol},Xt=sa.validators;class lc{constructor(e){this.defaults=e||{},this.interceptors={request:new vy,response:new vy}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const i=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Hr(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&sa.assertOptions(r,{silentJSONParsing:Xt.transitional(Xt.boolean),forcedJSONParsing:Xt.transitional(Xt.boolean),clarifyTimeoutError:Xt.transitional(Xt.boolean)},!1),o!=null&&(E.isFunction(o)?n.paramsSerializer={serialize:o}:sa.assertOptions(o,{encode:Xt.function,serialize:Xt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),sa.assertOptions(n,{baseUrl:Xt.spelling("baseURL"),withXsrfToken:Xt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&E.merge(i.common,i[n.method]);i&&E.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),n.headers=zt.concat(s,i);const a=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const l=[];this.interceptors.response.forEach(function(y){l.push(y.fulfilled,y.rejected)});let u,d=0,h;if(!c){const v=[Iy.bind(this),void 0];for(v.unshift(...a),v.push(...l),h=v.length,u=Promise.resolve(n);d<h;)u=u.then(v[d++],v[d++]);return u}h=a.length;let p=n;for(d=0;d<h;){const v=a[d++],y=a[d++];try{p=v(p)}catch(T){y.call(this,T);break}}try{u=Iy.call(this,p)}catch(v){return Promise.reject(v)}for(d=0,h=l.length;d<h;)u=u.then(l[d++],l[d++]);return u}getUri(e){e=Hr(this.defaults,e);const n=HA(e.baseURL,e.url,e.allowAbsoluteUrls);return bA(n,e.params,e.paramsSerializer)}}E.forEach(["delete","get","head","options"],function(e){lc.prototype[e]=function(n,r){return this.request(Hr(r||{},{method:e,url:n,data:(r||{}).data}))}});E.forEach(["post","put","patch"],function(e){function n(r){return function(i,s,a){return this.request(Hr(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}lc.prototype[e]=n(),lc.prototype[e+"Form"]=n(!0)});const aa=lc;class up{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,a){r.reason||(r.reason=new Vo(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new up(function(o){e=o}),cancel:e}}}const Db=up;function Lb(t){return function(n){return t.apply(null,n)}}function Ub(t){return E.isObject(t)&&t.isAxiosError===!0}const Od={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Od).forEach(([t,e])=>{Od[e]=t});const Fb=Od;function $A(t){const e=new aa(t),n=SA(aa.prototype.request,e);return E.extend(n,aa.prototype,e,{allOwnKeys:!0}),E.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return $A(Hr(t,o))},n}const Se=$A(lp);Se.Axios=aa;Se.CanceledError=Vo;Se.CancelToken=Db;Se.isCancel=UA;Se.VERSION=KA;Se.toFormData=tl;Se.AxiosError=z;Se.Cancel=Se.CanceledError;Se.all=function(e){return Promise.all(e)};Se.spread=Lb;Se.isAxiosError=Ub;Se.mergeConfig=Hr;Se.AxiosHeaders=zt;Se.formToJSON=t=>LA(E.isHTMLForm(t)?new FormData(t):t);Se.getAdapter=zA.getAdapter;Se.HttpStatusCode=Fb;Se.default=Se;const et=Se,tu="/api";class Hb{async getAuthHeaders(){try{if(!pt.isAuthenticated())return console.warn("User not authenticated, skipping token request"),{};const e=await pt.getAccessToken();return e?{Authorization:`Bearer ${e}`}:{}}catch(e){return console.error("Failed to get access token:",e),{}}}async getDocuments(e){try{let n=`${tu}/document`;e&&(n+=`?conversationId=${e}`);const r=await this.getAuthHeaders();return(await et.get(n,{headers:r})).data||[]}catch(n){return console.error("Document service error:",n),[]}}async uploadDocument(e,n,r){var o,i;try{const s=new FormData;s.append("file",e),s.append("userId","user-1"),n&&s.append("conversationId",n);const a=await this.getAuthHeaders(),c=await et.post(`${tu}/document/upload`,s,{headers:{"Content-Type":"multipart/form-data",...a},onUploadProgress:l=>{if(r&&l.total){const u=Math.round(l.loaded*100/l.total);r({loaded:l.loaded,total:l.total,percentage:u})}}});if(c.data.success)return{id:c.data.documentId,fileName:c.data.fileName,originalFileName:c.data.fileName,contentType:e.type,fileSize:c.data.fileSize,uploadDate:new Date,userId:"user-1"};throw new Error(c.data.errorMessage||"Upload failed")}catch(s){if(console.error("Document upload error:",s),et.isAxiosError(s)){const a=((i=(o=s.response)==null?void 0:o.data)==null?void 0:i.errorMessage)||s.message;throw new Error(`Upload failed: ${a}`)}throw new Error("Failed to upload document")}}async deleteDocument(e){try{const n=await this.getAuthHeaders();await et.delete(`${tu}/document/${e}?userId=user-1`,{headers:n})}catch(n){throw console.error("Delete document error:",n),n}}}const nu=new Hb,Zt={BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_API_BASE_URL||"/api";class Bb{constructor(){sl(this,"conversationHistory",[]);this.loadConversationFromLocalStorage()}async getAuthHeaders(){try{if(!pt.isAuthenticated())return console.warn("User not authenticated, skipping token request"),{};const e=await pt.getAccessToken();return e?{Authorization:`Bearer ${e}`}:{}}catch(e){return console.error("Failed to get access token:",e),{}}}loadConversationFromLocalStorage(){try{const e=localStorage.getItem("conversationHistory");e&&(this.conversationHistory=JSON.parse(e))}catch(e){console.error("Failed to load conversation from localStorage:",e),this.conversationHistory=[]}}saveConversationToLocalStorage(){try{localStorage.setItem("conversationHistory",JSON.stringify(this.conversationHistory))}catch(e){console.error("Failed to save conversation to localStorage:",e)}}async sendMessage(e,n,r){var s,a;const o=typeof e=="string"?e:e.message,i=typeof e=="object"?e.sessionId:n;try{const c={message:o,userId:"user-1",conversationId:i||void 0,documentIds:r},l=await this.getAuthHeaders();let u;try{u=await et.post(`${Zt}/chat/message`,c,{timeout:3e4,headers:{"Content-Type":"application/json",...l},withCredentials:!0})}catch{u=await et.post(`${Zt}/chat/send`,c,{timeout:3e4,headers:{"Content-Type":"application/json",...l},withCredentials:!0})}return this.conversationHistory.push({role:"user",content:o}),this.conversationHistory.push({role:"assistant",content:u.data.content}),this.saveConversationToLocalStorage(),u.data}catch(c){if(console.error("Chat service error:",c),et.isAxiosError(c)){if(((s=c.response)==null?void 0:s.status)===500)throw new Error("Server error. Please try again later.");if(c.code==="ECONNABORTED")throw new Error("Request timeout. Please try again.");if(((a=c.response)==null?void 0:a.status)===404)throw new Error("Chat service not available.")}throw new Error("Failed to send message. Please check your connection.")}}async createSession(e){try{const n=await this.getAuthHeaders();return(await et.post(`${Zt}/chat/sessions`,{title:e},{timeout:15e3,headers:{"Content-Type":"application/json",...n},withCredentials:!0})).data}catch(n){throw console.error("Create session error:",n),new Error("Failed to create session")}}async sendStreamingMessage(e,n,r,o){var i;try{const s=await this.getAuthHeaders(),a=await fetch(`${Zt}/chat/stream`,{method:"POST",headers:{"Content-Type":"application/json",...s},credentials:"include",body:JSON.stringify({message:e,userId:"user-1",documentIds:n,conversationId:r})});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=(i=a.body)==null?void 0:i.getReader();if(!c)throw new Error("Failed to get response reader");const l=new TextDecoder;let u="";for(;;){const{done:d,value:h}=await c.read();if(d)break;const p=l.decode(h,{stream:!0});u+=p,o(p)}this.conversationHistory.push({role:"user",content:e}),this.conversationHistory.push({role:"assistant",content:u}),this.saveConversationToLocalStorage()}catch(s){throw console.error("Streaming chat error:",s),new Error("Failed to stream message response")}}async getChatHistory(){try{const e=await this.getAuthHeaders(),r=(await et.get(`${Zt}/chat/history`,{headers:e,withCredentials:!0})).data||[];return r.length>0&&(this.conversationHistory=r.map(o=>({role:o.role,content:o.content})),this.saveConversationToLocalStorage()),this.conversationHistory}catch(e){return console.error("Chat history error:",e),this.conversationHistory}}async clearChatHistory(){try{const e=await this.getAuthHeaders();return(await et.delete(`${Zt}/chat/history`,{headers:e,withCredentials:!0})).status===200?(this.conversationHistory=[],this.saveConversationToLocalStorage(),!0):!1}catch(e){return console.error("Clear chat history error:",e),this.conversationHistory=[],this.saveConversationToLocalStorage(),!1}}async getConversationSessions(){try{const e=await this.getAuthHeaders();return(await et.get(`${Zt}/chat/sessions`,{headers:e,withCredentials:!0})).data||[]}catch(e){return console.error("Get conversation sessions error:",e),[]}}async getConversationHistoryBySession(e){try{const n=await this.getAuthHeaders();let r;try{r=await et.get(`${Zt}/chat/sessions/${e}/messages`,{headers:n,withCredentials:!0})}catch{r=await et.get(`${Zt}/chat/history/${e}`,{headers:n,withCredentials:!0})}return(r.data||[]).map(i=>({role:i.role,content:i.content}))}catch(n){return console.error("Get conversation history by session error:",n),[]}}async deleteConversationSession(e){try{const n=await this.getAuthHeaders();return(await et.delete(`${Zt}/chat/sessions/${e}`,{headers:n,withCredentials:!0})).status===200}catch(n){return console.error("Delete conversation session error:",n),!1}}async getSessionMessages(e){try{return(await this.getConversationHistoryBySession(e)).map((r,o)=>({id:`${e}-${o}`,content:r.content,sender:r.role==="user"?"user":"ai",timestamp:new Date,isUser:r.role==="user"}))}catch(n){return console.error("Get session messages error:",n),[]}}getLocalConversationHistory(){return this.conversationHistory}}const pr=new Bb;function jb(){const t=YT(),[e,n]=_.useState([]),[r,o]=_.useState(!1),[i,s]=_.useState([]),[a,c]=_.useState(null),[l,u]=_.useState([]);_.useEffect(()=>{if(!t)return;(async()=>{try{const m=await pr.getConversationSessions();if(Array.isArray(m)){const w=m.map(R=>({id:R.id,title:R.title,messages:[],timestamp:new Date(R.lastMessageTime),messageCount:R.messageCount}));s(w);const A=localStorage.getItem("currentChatId");A&&m.some(R=>R.id===A)?c(A):(n([]),c(null),localStorage.removeItem("currentChatId"))}else console.warn("Sessions response is not an array:",m),s([])}catch(m){console.error("Failed to load conversation sessions:",m),s([])}})()},[t]);const d=async f=>{try{console.log("Loading documents for conversation:",f);const m=await nu.getDocuments(f);console.log("Loaded documents:",m.length,m.map(w=>({id:w.id,name:w.originalFileName}))),u(m),console.log("Documents state updated:",m)}catch(m){console.error("Failed to load documents:",m)}};_.useEffect(()=>{a?(localStorage.setItem("currentChatId",a),d(a)):(localStorage.removeItem("currentChatId"),u([]))},[a]);const h=async f=>{const m={id:Date.now().toString(),content:f,isUser:!0,sender:"user",timestamp:new Date},w=a&&(e.length>0||l.length>0);n(A=>[...A,m]),o(!0);try{let A=a;w?console.log("Continuing existing conversation:",A):(A=`conv_user-1_${Date.now()}`,c(A),console.log("Starting new conversation with ID:",A));const R=l.map(U=>U.id);console.log("Sending message with document IDs:",R),console.log("Documents state:",l);const O=await pr.sendMessage(f,A||void 0,R),P={id:(Date.now()+1).toString(),content:O.content,isUser:!1,sender:"ai",timestamp:new Date};if(n(U=>[...U,P]),w)console.log("Updating existing chat locally"),s(U=>{const F=U.map(ie=>ie.id===a?{...ie,messageCount:ie.messageCount+2,timestamp:new Date}:ie),ee=F.find(ie=>ie.id===a),Ae=F.filter(ie=>ie.id!==a);return ee?[ee,...Ae]:F});else{console.log("Refreshing sessions from backend for new conversation");const U=await pr.getConversationSessions();if(Array.isArray(U)){const F=U.map(ee=>({id:ee.id,title:ee.title,messages:[],timestamp:new Date(ee.lastMessageTime),messageCount:ee.messageCount}));s(F)}else console.warn("Sessions response is not an array during refresh:",U)}}catch(A){console.error("Failed to send message:",A),n(R=>R.slice(0,-1))}finally{o(!1)}},p=()=>{n([]),c(null),u([])},v=async f=>{try{o(!0);const m=await pr.getConversationSessions();if(!Array.isArray(m)){console.warn("Sessions response is not an array in handleSelectChat:",m);return}const w=m.find(A=>A.id===f);if(w){const R=(await pr.getConversationHistoryBySession(w.id)).map((O,P)=>({id:`${w.id}-${P}`,content:O.content,isUser:O.role==="user",sender:O.role==="user"?"user":"ai",timestamp:new Date}));n(R),c(w.id)}}catch(m){console.error("Failed to load chat session:",m)}finally{o(!1)}},y=async f=>{try{await pr.deleteConversationSession(f),s(w=>w.filter(A=>A.id!==f)),a===f&&(n([]),c(null));const m=await pr.getConversationSessions();if(Array.isArray(m)){const w=m.map(A=>({id:A.id,title:A.title,messages:[],timestamp:new Date(A.lastMessageTime),messageCount:A.messageCount}));s(w)}else console.warn("Sessions response is not an array in handleDeleteChat:",m)}catch(m){console.error("Failed to delete conversation:",m)}},T=async f=>{try{let m=a;if(!m){m=`conv_user-1_${Date.now()}`,c(m),console.log("Created new conversation for document upload:",m);const A={id:m,title:`Chat ${i.length+1}`,messages:[],timestamp:new Date,messageCount:0};s(R=>[A,...R])}const w=await nu.uploadDocument(f,m);console.log("Document uploaded successfully:",w),await new Promise(A=>setTimeout(A,100)),await d(m),console.log("Document upload and reload completed")}catch(m){throw console.error("Failed to upload document:",m),m}},g=async f=>{try{await nu.deleteDocument(f),await d(a||void 0)}catch(m){console.error("Failed to delete document:",m)}};return S.jsx(IP,{children:S.jsxs("div",{className:"app",children:[S.jsx(iM,{onNewChat:p,chatSessions:i,onSelectChat:v,onDeleteChat:y,currentChatId:a}),S.jsx("main",{className:"main-content",children:S.jsx(oM,{messages:e,isLoading:r,onSendMessage:h,onFileUpload:T,documents:l,onDeleteDocument:g})})]})})}pt.initialize().then(async()=>{try{const t=await pt.getInstance().handleRedirectPromise();t&&(console.log("Authentication successful:",t),!pt.getInstance().getActiveAccount()&&t.account&&pt.getInstance().setActiveAccount(t.account))}catch(t){console.error("Error handling redirect:",t)}ru.createRoot(document.getElementById("root")).render(S.jsx(dc.StrictMode,{children:S.jsx(wP,{instance:pt.getInstance(),children:S.jsx(jb,{})})}))}).catch(t=>{console.error("Failed to initialize MSAL:",t)});
